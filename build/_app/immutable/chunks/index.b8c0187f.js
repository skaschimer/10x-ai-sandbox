import{O as i}from"./index.3b6ce8f7.js";import"./sha256.65a6c54a.js";const p=async(a="")=>{let o=null;const e=await fetch(`${i}/config`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?o=n.detail:o="Server connection failed",null));if(o)throw o;return e},h=async(a="",o)=>{let e=null;const n=await fetch(`${i}/config/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({enable_openai_api:o})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?e=t.detail:e="Server connection failed",null));if(e)throw e;return n},u=async(a="")=>{let o=null;const e=await fetch(`${i}/urls`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?o=n.detail:o="Server connection failed",null));if(o)throw o;return e.OPENAI_API_BASE_URLS},d=async(a="",o)=>{let e=null;const n=await fetch(`${i}/urls/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({urls:o})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?e=t.detail:e="Server connection failed",null));if(e)throw e;return n.OPENAI_API_BASE_URLS},f=async(a="")=>{let o=null;const e=await fetch(`${i}/keys`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),"detail"in n?o=n.detail:o="Server connection failed",null));if(o)throw o;return e.OPENAI_API_KEYS},y=async(a="",o)=>{let e=null;const n=await fetch(`${i}/keys/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}},body:JSON.stringify({keys:o})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.log(t),"detail"in t?e=t.detail:e="Server connection failed",null));if(e)throw e;return n.OPENAI_API_KEYS},w=async(a,o)=>{let e=null;const n=await fetch(`${i}/models${typeof o=="number"?`/${o}`:""}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...a&&{authorization:`Bearer ${a}`}}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>{var r;return e=`OpenAI: ${((r=t==null?void 0:t.error)==null?void 0:r.message)??"Network Problem"}`,[]});if(e)throw e;return n},A=async(a="",o,e=i)=>{const n=new AbortController;let t=null;const r=await fetch(`${e}/chat/completions`,{signal:n.signal,method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(o)}).catch(c=>(console.log(c),t=c,null));if(t)throw t;return[r,n]};export{f as a,w as b,p as c,y as d,h as e,A as f,u as g,d as u};
//# sourceMappingURL=index.b8c0187f.js.map
