import{s as we,u as he,v as _e,h as C,d as _,j as g,i as I,w,r as fe,p as xe,X as et,A as me,Q as tt,W as lt,o as at,a as z,c as L,f as M,g as V,F as st,G as rt,H as nt,I as ot,L as ge,l as A,m as H,n as q,R as Oe,y as pe,S as ve}from"./scheduler.2ec89978.js";import{S as ke,i as $e,f as it,b as G,d as Y,m as J,a as D,t as T,e as Q,g as ne,c as oe}from"./index.276f3600.js";import{e as x}from"./each.de3f9353.js";import"./updater.c075227d.js";import{b as ft,c as ut,M as ct}from"./menu-trigger.1d870800.js";import{T as be,m as ze}from"./Tooltip.3c52e2f2.js";import{f as dt}from"./index.e8e699b3.js";import{C as mt}from"./Selector.svelte_svelte_type_style_lang.7bfebd4a.js";import{g as ht,p as _t,d as gt}from"./index.b3521b72.js";import{M as ie,m as pt,u as vt,h as bt}from"./index.3b6ce8f7.js";import{a as K}from"./Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import{s as wt,m as Le}from"./index.1d78794b.js";import{b as kt}from"./index.6e6a3a3f.js";function $t(s){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(l){e=_e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=C(e);t=_e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),r.forEach(_),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","m4.5 12.75 6 6 9-13.5"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",s[1]),g(e,"stroke","currentColor"),g(e,"class",s[0])},m(l,r){I(l,e,r),w(e,t)},p(l,[r]){r&2&&g(e,"stroke-width",l[1]),r&1&&g(e,"class",l[0])},i:fe,o:fe,d(l){l&&_(e)}}}function yt(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class Et extends ke{constructor(e){super(),$e(this,e,yt,$t,we,{className:0,strokeWidth:1})}}function Dt(s){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(l){e=_e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=C(e);t=_e(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),r.forEach(_),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",s[1]),g(e,"stroke","currentColor"),g(e,"class",s[0])},m(l,r){I(l,e,r),w(e,t)},p(l,[r]){r&2&&g(e,"stroke-width",l[1]),r&1&&g(e,"class",l[0])},i:fe,o:fe,d(l){l&&_(e)}}}function Mt(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class Vt extends ke{constructor(e){super(),$e(this,e,Mt,Dt,we,{className:0,strokeWidth:1})}}function Pe(s,e,t){const l=s.slice();return l[27]=e[t],l}function Be(s,e,t){const l=s.slice();return l[30]=e[t],l}function Se(s,e,t){const l=s.slice();return l[33]=e[t],l}function je(s,e,t){const l=s.slice();return l[33]=e[t],l}function It(s){let e;return{c(){e=A(s[1])},l(t){e=H(t,s[1])},m(t,l){I(t,e,l)},p(t,l){l[0]&2&&q(e,t[1])},d(t){t&&_(e)}}}function Ct(s){let e=s[7].label+"",t;return{c(){t=A(e)},l(l){t=H(l,e)},m(l,r){I(l,t,r)},p(l,r){r[0]&128&&e!==(e=l[7].label+"")&&q(t,e)},d(l){l&&_(t)}}}function Nt(s){let e,t,l,r;function n(c,v){return c[7]?Ct:It}let a=n(s),i=a(s);return l=new mt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=M("div"),i.c(),t=z(),G(l.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var v=C(e);i.l(v),t=L(v),Y(l.$$.fragment,v),v.forEach(_),this.h()},h(){g(e,"class","flex w-full text-left px-0.5 outline-none bg-transparent truncate text-lg font-semibold placeholder-gray-400 focus:outline-none")},m(c,v){I(c,e,v),i.m(e,null),w(e,t),J(l,e,null),r=!0},p(c,v){a===(a=n(c))&&i?i.p(c,v):(i.d(1),i=a(c),i&&(i.c(),i.m(e,t)))},i(c){r||(D(l.$$.fragment,c),r=!0)},o(c){T(l.$$.fragment,c),r=!1},d(c){c&&_(e),i.d(),Q(l)}}}function Ae(s){let e,t,l,r,n,a,i,c,v;return t=new Vt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=M("div"),G(t.$$.fragment),l=z(),r=M("input"),n=z(),a=M("hr"),this.h()},l(d){e=V(d,"DIV",{class:!0});var m=C(e);Y(t.$$.fragment,m),l=L(m),r=V(m,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),m.forEach(_),n=L(d),a=V(d,"HR",{class:!0}),this.h()},h(){g(r,"id","model-search-input"),g(r,"class","w-full text-sm bg-transparent outline-none"),g(r,"placeholder",s[3]),g(r,"autocomplete","off"),g(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-3"),g(a,"class","border-gray-100 dark:border-gray-800")},m(d,m){I(d,e,m),J(t,e,null),w(e,l),w(e,r),Oe(r,s[5]),I(d,n,m),I(d,a,m),i=!0,c||(v=pe(r,"input",s[19]),c=!0)},p(d,m){(!i||m[0]&8)&&g(r,"placeholder",d[3]),m[0]&32&&r.value!==d[5]&&Oe(r,d[5])},i(d){i||(D(t.$$.fragment,d),i=!0)},o(d){T(t.$$.fragment,d),i=!1},d(d){d&&(_(e),_(n),_(a)),Q(t),c=!1,v()}}}function He(s){let e,t,l=s[11].t("No results found")+"",r;return{c(){e=M("div"),t=M("div"),r=A(l),this.h()},l(n){e=V(n,"DIV",{});var a=C(e);t=V(a,"DIV",{class:!0});var i=C(t);r=H(i,l),i.forEach(_),a.forEach(_),this.h()},h(){g(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,a){I(n,e,a),w(e,t),w(t,r)},p(n,a){a[0]&2048&&l!==(l=n[11].t("No results found")+"")&&q(r,l)},d(n){n&&_(e)}}}function We(s){var r,n;let e,t=x((n=(r=s[30].model)==null?void 0:r.info)==null?void 0:n.meta.tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ze(je(s,t,a));return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var i=C(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(_),this.h()},h(){g(e,"class","flex gap-0.5 self-start h-full mb-0.5 -translate-x-1")},m(a,i){I(a,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,i){var c,v;if(i[0]&512){t=x((v=(c=a[30].model)==null?void 0:c.info)==null?void 0:v.meta.tags);let d;for(d=0;d<t.length;d+=1){const m=je(a,t,d);l[d]?l[d].p(m,i):(l[d]=Ze(m),l[d].c(),l[d].m(e,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=t.length}},d(a){a&&_(e),ge(l,a)}}}function Ze(s){let e,t=s[33].name+"",l,r;return{c(){e=M("div"),l=A(t),r=z(),this.h()},l(n){e=V(n,"DIV",{class:!0});var a=C(e);l=H(a,t),r=L(a),a.forEach(_),this.h()},h(){g(e,"class","text-xs font-black px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,a){I(n,e,a),w(e,l),w(e,r)},p(n,a){a[0]&512&&t!==(t=n[33].name+"")&&q(l,t)},d(n){n&&_(e)}}}function qe(s){var r,n,a,i,c,v;let e,t,l;return t=new be({props:{content:`${(n=(r=s[30].model.ollama)==null?void 0:r.details)!=null&&n.quantization_level?((i=(a=s[30].model.ollama)==null?void 0:a.details)==null?void 0:i.quantization_level)+" ":""}${(c=s[30].model.ollama)!=null&&c.size?`(${(((v=s[30].model.ollama)==null?void 0:v.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Tt]},$$scope:{ctx:s}}}),{c(){e=M("div"),G(t.$$.fragment),this.h()},l(d){e=V(d,"DIV",{class:!0});var m=C(e);Y(t.$$.fragment,m),m.forEach(_),this.h()},h(){g(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(d,m){I(d,e,m),J(t,e,null),l=!0},p(d,m){var k,S,y,E,b,p;const N={};m[0]&512&&(N.content=`${(S=(k=d[30].model.ollama)==null?void 0:k.details)!=null&&S.quantization_level?((E=(y=d[30].model.ollama)==null?void 0:y.details)==null?void 0:E.quantization_level)+" ":""}${(b=d[30].model.ollama)!=null&&b.size?`(${(((p=d[30].model.ollama)==null?void 0:p.size)/1024**3).toFixed(1)}GB)`:""}`),m[0]&33554944&&(N.$$scope={dirty:m,ctx:d}),t.$set(N)},i(d){l||(D(t.$$.fragment,d),l=!0)},o(d){T(t.$$.fragment,d),l=!1},d(d){d&&_(e),Q(t)}}}function Tt(s){var r,n;let e,t=(((n=(r=s[30].model.ollama)==null?void 0:r.details)==null?void 0:n.parameter_size)??"")+"",l;return{c(){e=M("span"),l=A(t),this.h()},l(a){e=V(a,"SPAN",{class:!0});var i=C(e);l=H(i,t),i.forEach(_),this.h()},h(){g(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,i){I(a,e,i),w(e,l)},p(a,i){var c,v;i[0]&512&&t!==(t=(((v=(c=a[30].model.ollama)==null?void 0:c.details)==null?void 0:v.parameter_size)??"")+"")&&q(l,t)},d(a){a&&_(e)}}}function Re(s){var r,n;let e,t=x((n=(r=s[30].model)==null?void 0:r.info)==null?void 0:n.meta.tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ue(Se(s,t,a));return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var i=C(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(_),this.h()},h(){g(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px]")},m(a,i){I(a,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(a,i){var c,v;if(i[0]&512){t=x((v=(c=a[30].model)==null?void 0:c.info)==null?void 0:v.meta.tags);let d;for(d=0;d<t.length;d+=1){const m=Se(a,t,d);l[d]?l[d].p(m,i):(l[d]=Ue(m),l[d].c(),l[d].m(e,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=t.length}},d(a){a&&_(e),ge(l,a)}}}function Ue(s){let e,t=s[33].name+"",l,r;return{c(){e=M("div"),l=A(t),r=z(),this.h()},l(n){e=V(n,"DIV",{class:!0});var a=C(e);l=H(a,t),r=L(a),a.forEach(_),this.h()},h(){g(e,"class","text-xs font-black px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,a){I(n,e,a),w(e,l),w(e,r)},p(n,a){a[0]&512&&t!==(t=n[33].name+"")&&q(l,t)},d(n){n&&_(e)}}}function Fe(s){let e,t;return e=new be({props:{content:"External",$$slots:{default:[Ot]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,r){J(e,l,r),t=!0},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ot(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-6escqw"&&(e.innerHTML=t),this.h()},h(){g(e,"class","")},m(l,r){I(l,e,r)},p:fe,d(l){l&&_(e)}}}function Ge(s){var l,r,n;let e,t;return e=new be({props:{content:`${ze.parse(Le((n=(r=(l=s[30].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[zt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){J(e,a,i),t=!0},p(a,i){var v,d,m;const c={};i[0]&512&&(c.content=`${ze.parse(Le((m=(d=(v=a[30].model)==null?void 0:v.info)==null?void 0:d.meta)==null?void 0:m.description).replaceAll(`
`,"<br>"))}`),i[0]&33554432&&(c.$$scope={dirty:i,ctx:a}),e.$set(c)},i(a){t||(D(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function zt(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1dtpc81"&&(e.innerHTML=t),this.h()},h(){g(e,"class","")},m(l,r){I(l,e,r)},p:fe,d(l){l&&_(e)}}}function Ye(s){let e,t,l;return t=new Et({}),{c(){e=M("div"),G(t.$$.fragment),this.h()},l(r){e=V(r,"DIV",{class:!0});var n=C(e);Y(t.$$.fragment,n),n.forEach(_),this.h()},h(){g(e,"class","ml-auto pl-2")},m(r,n){I(r,e,n),J(t,e,null),l=!0},i(r){l||(D(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){r&&_(e),Q(t)}}}function Je(s){var X,R,ee,ce,de,h,W,U,F,j,te,le,ae;let e,t,l,r,n,a,i=s[30].label+"",c,v,d,m,N,k,S,y,E,b=s[12]&&(((ce=(ee=(R=(X=s[30])==null?void 0:X.model)==null?void 0:R.info)==null?void 0:ee.meta)==null?void 0:ce.tags)??[]).length>0&&We(s),p=s[30].model.owned_by==="ollama"&&(((h=(de=s[30].model.ollama)==null?void 0:de.details)==null?void 0:h.parameter_size)??"")!==""&&qe(s),$=!s[12]&&(((j=(F=(U=(W=s[30])==null?void 0:W.model)==null?void 0:U.info)==null?void 0:F.meta)==null?void 0:j.tags)??[]).length>0&&Re(s),o=s[30].model.owned_by==="openai"&&Fe(s),f=((ae=(le=(te=s[30].model)==null?void 0:te.info)==null?void 0:le.meta)==null?void 0:ae.description)&&Ge(s),u=s[0]===s[30].value&&Ye();function B(){return s[20](s[30])}return{c(){e=M("button"),t=M("div"),b&&b.c(),l=z(),r=M("div"),n=M("div"),a=M("div"),c=A(i),v=z(),p&&p.c(),d=z(),$&&$.c(),m=z(),o&&o.c(),N=z(),f&&f.c(),k=z(),u&&u.c(),this.h()},l(O){e=V(O,"BUTTON",{"aria-label":!0,class:!0});var P=C(e);t=V(P,"DIV",{class:!0});var se=C(t);b&&b.l(se),l=L(se),r=V(se,"DIV",{class:!0});var Z=C(r);n=V(Z,"DIV",{class:!0});var re=C(n);a=V(re,"DIV",{class:!0});var ue=C(a);c=H(ue,i),ue.forEach(_),v=L(re),p&&p.l(re),re.forEach(_),d=L(Z),$&&$.l(Z),m=L(Z),o&&o.l(Z),N=L(Z),f&&f.l(Z),Z.forEach(_),se.forEach(_),k=L(P),u&&u.l(P),P.forEach(_),this.h()},h(){g(a,"class","line-clamp-1"),g(n,"class","flex items-center min-w-fit"),g(r,"class","flex items-center gap-2"),g(t,"class","flex flex-col"),g(e,"aria-label","model-item"),g(e,"class","flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(O,P){I(O,e,P),w(e,t),b&&b.m(t,null),w(t,l),w(t,r),w(r,n),w(n,a),w(a,c),w(n,v),p&&p.m(n,null),w(r,d),$&&$.m(r,null),w(r,m),o&&o.m(r,null),w(r,N),f&&f.m(r,null),w(e,k),u&&u.m(e,null),S=!0,y||(E=pe(e,"click",B),y=!0)},p(O,P){var se,Z,re,ue,ye,Ee,De,Me,Ve,Ie,Ce,Ne,Te;s=O,s[12]&&(((ue=(re=(Z=(se=s[30])==null?void 0:se.model)==null?void 0:Z.info)==null?void 0:re.meta)==null?void 0:ue.tags)??[]).length>0?b?b.p(s,P):(b=We(s),b.c(),b.m(t,l)):b&&(b.d(1),b=null),(!S||P[0]&512)&&i!==(i=s[30].label+"")&&q(c,i),s[30].model.owned_by==="ollama"&&(((Ee=(ye=s[30].model.ollama)==null?void 0:ye.details)==null?void 0:Ee.parameter_size)??"")!==""?p?(p.p(s,P),P[0]&512&&D(p,1)):(p=qe(s),p.c(),D(p,1),p.m(n,null)):p&&(ne(),T(p,1,1,()=>{p=null}),oe()),!s[12]&&(((Ie=(Ve=(Me=(De=s[30])==null?void 0:De.model)==null?void 0:Me.info)==null?void 0:Ve.meta)==null?void 0:Ie.tags)??[]).length>0?$?$.p(s,P):($=Re(s),$.c(),$.m(r,m)):$&&($.d(1),$=null),s[30].model.owned_by==="openai"?o?P[0]&512&&D(o,1):(o=Fe(s),o.c(),D(o,1),o.m(r,N)):o&&(ne(),T(o,1,1,()=>{o=null}),oe()),(Te=(Ne=(Ce=s[30].model)==null?void 0:Ce.info)==null?void 0:Ne.meta)!=null&&Te.description?f?(f.p(s,P),P[0]&512&&D(f,1)):(f=Ge(s),f.c(),D(f,1),f.m(r,null)):f&&(ne(),T(f,1,1,()=>{f=null}),oe()),s[0]===s[30].value?u?P[0]&513&&D(u,1):(u=Ye(),u.c(),D(u,1),u.m(e,null)):u&&(ne(),T(u,1,1,()=>{u=null}),oe())},i(O){S||(D(p),D(o),D(f),D(u),S=!0)},o(O){T(p),T(o),T(f),T(u),S=!1},d(O){O&&_(e),b&&b.d(),p&&p.d(),$&&$.d(),o&&o.d(),f&&f.d(),u&&u.d(),y=!1,E()}}}function Qe(s){let e,t=s[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[5]})+"",l,r,n;return{c(){e=M("button"),l=A(t),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var i=C(e);l=H(i,t),i.forEach(_),this.h()},h(){g(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(a,i){I(a,e,i),w(e,l),r||(n=pe(e,"click",s[21]),r=!0)},p(a,i){i[0]&2080&&t!==(t=a[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[5]})+"")&&q(l,t)},d(a){a&&_(e),r=!1,n()}}}function Xe(s){let e,t=s[10][s[27]].digest+"",l;return{c(){e=M("div"),l=A(t),this.h()},l(r){e=V(r,"DIV",{class:!0});var n=C(e);l=H(n,t),n.forEach(_),this.h()},h(){g(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,n){I(r,e,n),w(e,l)},p(r,n){n[0]&1024&&t!==(t=r[10][r[27]].digest+"")&&q(l,t)},d(r){r&&_(e)}}}function Lt(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return s[22](s[27])}return{c(){e=M("button"),e.innerHTML=t,this.h()},l(a){e=V(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","text-gray-800 dark:text-gray-100")},m(a,i){I(a,e,i),l||(r=pe(e,"click",n),l=!0)},p(a,i){s=a},d(a){a&&_(e),l=!1,r()}}}function Ke(s){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,a,i,c,v=s[27]+"",d,m,N="pullProgress"in s[10][s[27]]?`(${s[10][s[27]].pullProgress}%)`:"",k,S,y,E,b,p,$,o="digest"in s[10][s[27]]&&s[10][s[27]].digest&&Xe(s);return b=new be({props:{content:s[11].t("Cancel"),$$slots:{default:[Lt]},$$scope:{ctx:s}}}),{c(){e=M("div"),t=M("div"),l=M("div"),l.innerHTML=r,n=z(),a=M("div"),i=M("div"),c=A('Downloading "'),d=A(v),m=A('" '),k=A(N),S=z(),o&&o.c(),y=z(),E=M("div"),G(b.$$.fragment),p=z(),this.h()},l(f){e=V(f,"DIV",{class:!0});var u=C(e);t=V(u,"DIV",{class:!0});var B=C(t);l=V(B,"DIV",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-102rp4j"&&(l.innerHTML=r),n=L(B),a=V(B,"DIV",{class:!0});var X=C(a);i=V(X,"DIV",{class:!0});var R=C(i);c=H(R,'Downloading "'),d=H(R,v),m=H(R,'" '),k=H(R,N),R.forEach(_),S=L(X),o&&o.l(X),X.forEach(_),B.forEach(_),y=L(u),E=V(u,"DIV",{class:!0});var ee=C(E);Y(b.$$.fragment,ee),ee.forEach(_),p=L(u),u.forEach(_),this.h()},h(){g(l,"class","-ml-2 mr-2.5 translate-y-0.5"),g(i,"class","line-clamp-1"),g(a,"class","flex flex-col self-start"),g(t,"class","flex"),g(E,"class","mr-2 translate-y-0.5"),g(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(f,u){I(f,e,u),w(e,t),w(t,l),w(t,n),w(t,a),w(a,i),w(i,c),w(i,d),w(i,m),w(i,k),w(a,S),o&&o.m(a,null),w(e,y),w(e,E),J(b,E,null),w(e,p),$=!0},p(f,u){(!$||u[0]&1024)&&v!==(v=f[27]+"")&&q(d,v),(!$||u[0]&1024)&&N!==(N="pullProgress"in f[10][f[27]]?`(${f[10][f[27]].pullProgress}%)`:"")&&q(k,N),"digest"in f[10][f[27]]&&f[10][f[27]].digest?o?o.p(f,u):(o=Xe(f),o.c(),o.m(a,null)):o&&(o.d(1),o=null);const B={};u[0]&2048&&(B.content=f[11].t("Cancel")),u[0]&33555456&&(B.$$scope={dirty:u,ctx:f}),b.$set(B)},i(f){$||(D(b.$$.fragment,f),$=!0)},o(f){T(b.$$.fragment,f),$=!1},d(f){f&&_(e),o&&o.d(),Q(b)}}}function Pt(s){let e,t,l,r=!(s[5].trim()in s[10])&&s[5]&&s[8]&&s[13].role==="admin",n,a,i,c,v,d,m=s[2]&&Ae(s),N=x(s[9]),k=[];for(let o=0;o<N.length;o+=1)k[o]=Je(Be(s,N,o));const S=o=>T(k[o],1,1,()=>{k[o]=null});let y=null;N.length||(y=He(s));let E=r&&Qe(s),b=x(Object.keys(s[10])),p=[];for(let o=0;o<b.length;o+=1)p[o]=Ke(Pe(s,b,o));const $=o=>T(p[o],1,1,()=>{p[o]=null});return{c(){m&&m.c(),e=z(),t=M("div");for(let o=0;o<k.length;o+=1)k[o].c();y&&y.c(),l=z(),E&&E.c(),n=z();for(let o=0;o<p.length;o+=1)p[o].c();a=z(),i=M("div"),c=z(),v=M("div"),this.h()},l(o){m&&m.l(o),e=L(o),t=V(o,"DIV",{class:!0});var f=C(t);for(let u=0;u<k.length;u+=1)k[u].l(f);y&&y.l(f),l=L(f),E&&E.l(f),n=L(f);for(let u=0;u<p.length;u+=1)p[u].l(f);f.forEach(_),a=L(o),i=V(o,"DIV",{class:!0}),C(i).forEach(_),c=L(o),v=V(o,"DIV",{class:!0}),C(v).forEach(_),this.h()},h(){g(t,"class","px-3 my-2 max-h-64 overflow-y-auto scrollbar-hidden svelte-141e0sl"),g(i,"class","hidden w-[42rem]"),g(v,"class","hidden w-[32rem]")},m(o,f){m&&m.m(o,f),I(o,e,f),I(o,t,f);for(let u=0;u<k.length;u+=1)k[u]&&k[u].m(t,null);y&&y.m(t,null),w(t,l),E&&E.m(t,null),w(t,n);for(let u=0;u<p.length;u+=1)p[u]&&p[u].m(t,null);I(o,a,f),I(o,i,f),I(o,c,f),I(o,v,f),d=!0},p(o,f){if(o[2]?m?(m.p(o,f),f[0]&4&&D(m,1)):(m=Ae(o),m.c(),D(m,1),m.m(e.parentNode,e)):m&&(ne(),T(m,1,1,()=>{m=null}),oe()),f[0]&6721){N=x(o[9]);let u;for(u=0;u<N.length;u+=1){const B=Be(o,N,u);k[u]?(k[u].p(B,f),D(k[u],1)):(k[u]=Je(B),k[u].c(),D(k[u],1),k[u].m(t,l))}for(ne(),u=N.length;u<k.length;u+=1)S(u);oe(),!N.length&&y?y.p(o,f):N.length?y&&(y.d(1),y=null):(y=He(o),y.c(),y.m(t,l))}if(f[0]&9504&&(r=!(o[5].trim()in o[10])&&o[5]&&o[8]&&o[13].role==="admin"),r?E?E.p(o,f):(E=Qe(o),E.c(),E.m(t,n)):E&&(E.d(1),E=null),f[0]&68608){b=x(Object.keys(o[10]));let u;for(u=0;u<b.length;u+=1){const B=Pe(o,b,u);p[u]?(p[u].p(B,f),D(p[u],1)):(p[u]=Ke(B),p[u].c(),D(p[u],1),p[u].m(t,null))}for(ne(),u=b.length;u<p.length;u+=1)$(u);oe()}},i(o){if(!d){D(m);for(let f=0;f<N.length;f+=1)D(k[f]);for(let f=0;f<b.length;f+=1)D(p[f]);d=!0}},o(o){T(m),k=k.filter(Boolean);for(let f=0;f<k.length;f+=1)T(k[f]);p=p.filter(Boolean);for(let f=0;f<p.length;f+=1)T(p[f]);d=!1},d(o){o&&(_(e),_(t),_(a),_(i),_(c),_(v)),m&&m.d(o),ge(k,o),y&&y.d(),E&&E.d(),ge(p,o)}}}function Bt(s){let e;const t=s[18].default,l=st(t,s,s[25],null),r=l||Pt(s);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){l?l.p&&(!e||a[0]&33554432)&&rt(l,t,n,n[25],e?ot(t,n[25],a,null):nt(n[25]),null):r&&r.p&&(!e||a[0]&16237)&&r.p(n,e?a:[-1,-1])},i(n){e||(D(r,n),e=!0)},o(n){T(r,n),e=!1},d(n){r&&r.d(n)}}}function St(s){let e,t,l,r;return e=new ut({props:{class:"relative w-full","aria-label":s[1],$$slots:{default:[Nt]},$$scope:{ctx:s}}}),l=new ct({props:{class:" z-40 "+(s[12]?"w-full":`${s[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-850/50  outline-none ",transition:dt,side:s[12]?"bottom":"bottom-start",sideOffset:4,$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){G(e.$$.fragment),t=z(),G(l.$$.fragment)},l(n){Y(e.$$.fragment,n),t=L(n),Y(l.$$.fragment,n)},m(n,a){J(e,n,a),I(n,t,a),J(l,n,a),r=!0},p(n,a){const i={};a[0]&2&&(i["aria-label"]=n[1]),a[0]&33554562&&(i.$$scope={dirty:a,ctx:n}),e.$set(i);const c={};a[0]&4112&&(c.class=" z-40 "+(n[12]?"w-full":`${n[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-850/50  outline-none "),a[0]&4096&&(c.side=n[12]?"bottom":"bottom-start"),a[0]&33570669&&(c.$$scope={dirty:a,ctx:n}),l.$set(c)},i(n){r||(D(e.$$.fragment,n),D(l.$$.fragment,n),r=!0)},o(n){T(e.$$.fragment,n),T(l.$$.fragment,n),r=!1},d(n){n&&_(t),Q(e,n),Q(l,n)}}}function jt(s){let e,t,l;function r(a){s[24](a)}let n={onOpenChange:s[23],$$slots:{default:[St]},$$scope:{ctx:s}};return s[6]!==void 0&&(n.open=s[6]),e=new ft({props:n}),xe.push(()=>it(e,"open",r)),{c(){G(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){J(e,a,i),l=!0},p(a,i){const c={};i[0]&32&&(c.onOpenChange=a[23]),i[0]&33570815&&(c.$$scope={dirty:i,ctx:a}),!t&&i[0]&64&&(t=!0,c.open=a[6],et(()=>t=!1)),e.$set(c)},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){T(e.$$.fragment,a),l=!1},d(a){Q(e,a)}}}function At(s,e,t){let l,r,n,a,i;me(s,ie,h=>t(10,r=h)),me(s,pt,h=>t(12,a=h)),me(s,vt,h=>t(13,i=h));let{$$slots:c={},$$scope:v}=e;const d=tt("i18n");me(s,d,h=>t(11,n=h)),lt();let{value:m=""}=e,{placeholder:N="Select a model"}=e,{searchEnabled:k=!0}=e,{searchPlaceholder:S=n.t("Search a model")}=e,{items:y=[]}=e,{className:E="w-[30rem]"}=e,b=!1,p="",$="",o=null;const f=async()=>{const h=$.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[h]){K.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:h}));return}if(Object.keys(r).length===3){K.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[W,U]=await _t(localStorage.token,h,"0").catch(F=>(K.error(F),null));if(W){const F=W.body.pipeThrough(new TextDecoderStream).pipeThrough(wt(`
`)).getReader();for(ie.set({...r,[h]:{...r[h],abortController:U,reader:F,done:!1}});;)try{const{value:j,done:te}=await F.read();if(te)break;let le=j.split(`
`);for(const ae of le)if(ae!==""){let O=JSON.parse(ae);if(console.log(O),O.error)throw O.error;if(O.detail)throw O.detail;if(O.status)if(O.digest){let P=0;O.completed?P=Math.round(O.completed/O.total*1e3)/10:P=100,ie.set({...r,[h]:{...r[h],pullProgress:P,digest:O.digest}})}else K.success(O.status),ie.set({...r,[h]:{...r[h],done:O.status==="success"}})}}catch(j){console.log(j),typeof j!="string"&&(j=j.message),K.error(j);break}r[h].done?(K.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:h})),bt.set(await kt(localStorage.token))):K.error(n.t("Download canceled")),delete r[h],ie.set({...r})}};at(async()=>{t(8,o=await ht(localStorage.token).catch(h=>!1))});const u=async h=>{const{reader:W,abortController:U}=r[h];U&&U.abort(),W&&(await W.cancel(),delete r[h],ie.set({...r}),await gt(localStorage.token,h),K.success(`${h} download has been canceled`))};function B(){$=this.value,t(5,$)}const X=h=>{t(0,m=h.value),t(6,b=!1)},R=()=>{f()},ee=h=>{u(h)},ce=async()=>{t(5,$=""),window.setTimeout(()=>{var h;return(h=document.getElementById("model-search-input"))==null?void 0:h.focus()},0)};function de(h){b=h,t(6,b)}return s.$$set=h=>{"value"in h&&t(0,m=h.value),"placeholder"in h&&t(1,N=h.placeholder),"searchEnabled"in h&&t(2,k=h.searchEnabled),"searchPlaceholder"in h&&t(3,S=h.searchPlaceholder),"items"in h&&t(17,y=h.items),"className"in h&&t(4,E=h.className),"$$scope"in h&&t(25,v=h.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&131073&&t(7,p=y.find(h=>h.value===m)??""),s.$$.dirty[0]&131104&&t(9,l=y.filter(h=>{var W,U,F,j,te,le;return($?h.value.toLowerCase().includes($.toLowerCase())||h.label.toLowerCase().includes($.toLowerCase())||(((F=(U=(W=h.model)==null?void 0:W.info)==null?void 0:U.meta)==null?void 0:F.tags)??[]).some(ae=>ae.name.toLowerCase().includes($.toLowerCase())):!0)&&!(((le=(te=(j=h.model)==null?void 0:j.info)==null?void 0:te.meta)==null?void 0:le.hidden)??!1)}))},[m,N,k,S,E,$,b,p,o,l,r,n,a,i,d,f,u,y,c,B,X,R,ee,ce,de,v]}class xt extends ke{constructor(e){super(),$e(this,e,At,jt,we,{value:0,placeholder:1,searchEnabled:2,searchPlaceholder:3,items:17,className:4},null,[-1,-1])}}export{xt as S};
//# sourceMappingURL=Selector.89e9dfa8.js.map
