{"version":3,"file":"13.ecee5d85.js","sources":["../../../../../../src/routes/(app)/workspace/models/edit/+page.svelte"],"sourcesContent":["<script>\n\timport { v4 as uuidv4 } from 'uuid';\n\timport { toast } from 'svelte-sonner';\n\timport { goto } from '$app/navigation';\n\n\timport { onMount, getContext } from 'svelte';\n\timport { page } from '$app/stores';\n\timport { settings, user, config, models, tools } from '$lib/stores';\n\timport { splitStream } from '$lib/utils';\n\n\timport { getModelInfos, updateModelById } from '$lib/apis/models';\n\n\timport AdvancedParams from '$lib/components/chat/Settings/Advanced/AdvancedParams.svelte';\n\timport { getModels } from '$lib/apis';\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\n\timport Tags from '$lib/components/common/Tags.svelte';\n\timport Knowledge from '$lib/components/workspace/Models/Knowledge.svelte';\n\timport ToolsSelector from '$lib/components/workspace/Models/ToolsSelector.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet loading = false;\n\tlet success = false;\n\n\tlet filesInputElement;\n\tlet inputFiles;\n\n\tlet digest = '';\n\tlet pullProgress = null;\n\n\tlet showAdvanced = false;\n\tlet showPreview = false;\n\n\t// ///////////\n\t// model\n\t// ///////////\n\n\tlet model = null;\n\n\tlet id = '';\n\tlet name = '';\n\n\tlet info = {\n\t\tid: '',\n\t\tbase_model_id: null,\n\t\tname: '',\n\t\tmeta: {\n\t\t\tprofile_image_url: '/favicon.png',\n\t\t\tdescription: '',\n\t\t\tsuggestion_prompts: null,\n\t\t\ttags: []\n\t\t},\n\t\tparams: {\n\t\t\tsystem: ''\n\t\t}\n\t};\n\n\tlet params = {};\n\tlet capabilities = {\n\t\tvision: true\n\t};\n\n\tlet knowledge = [];\n\tlet toolIds = [];\n\n\tconst updateHandler = async () => {\n\t\tloading = true;\n\n\t\tinfo.id = id;\n\t\tinfo.name = name;\n\t\tinfo.meta.capabilities = capabilities;\n\n\t\tif (knowledge.length > 0) {\n\t\t\tinfo.meta.knowledge = knowledge;\n\t\t} else {\n\t\t\tif (info.meta.knowledge) {\n\t\t\t\tdelete info.meta.knowledge;\n\t\t\t}\n\t\t}\n\n\t\tif (toolIds.length > 0) {\n\t\t\tinfo.meta.toolIds = toolIds;\n\t\t} else {\n\t\t\tif (info.meta.toolIds) {\n\t\t\t\tdelete info.meta.toolIds;\n\t\t\t}\n\t\t}\n\n\t\tinfo.params.stop = params.stop ? params.stop.split(',').filter((s) => s.trim()) : null;\n\t\tObject.keys(info.params).forEach((key) => {\n\t\t\tif (info.params[key] === '' || info.params[key] === null) {\n\t\t\t\tdelete info.params[key];\n\t\t\t}\n\t\t});\n\n\t\tconst res = await updateModelById(localStorage.token, info.id, info);\n\n\t\tif (res) {\n\t\t\tawait models.set(await getModels(localStorage.token));\n\t\t\ttoast.success('Model updated successfully');\n\t\t\tawait goto('/workspace/models');\n\t\t}\n\n\t\tloading = false;\n\t\tsuccess = false;\n\t};\n\n\tonMount(() => {\n\t\tconst _id = $page.url.searchParams.get('id');\n\n\t\tif (_id) {\n\t\t\tmodel = $models.find((m) => m.id === _id);\n\t\t\tif (model) {\n\t\t\t\tid = model.id;\n\t\t\t\tname = model.name;\n\n\t\t\t\tinfo = {\n\t\t\t\t\t...info,\n\t\t\t\t\t...JSON.parse(\n\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\tmodel?.info\n\t\t\t\t\t\t\t\t? model?.info\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tid: model.id,\n\t\t\t\t\t\t\t\t\t\tname: model.name\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t};\n\n\t\t\t\tif (model.preset && model.owned_by === 'ollama' && !info.base_model_id.includes(':')) {\n\t\t\t\t\tinfo.base_model_id = `${info.base_model_id}:latest`;\n\t\t\t\t}\n\n\t\t\t\tparams = { ...params, ...model?.info?.params };\n\t\t\t\tparams.stop = params?.stop\n\t\t\t\t\t? (typeof params.stop === 'string' ? params.stop.split(',') : params?.stop ?? []).join(\n\t\t\t\t\t\t\t','\n\t\t\t\t\t  )\n\t\t\t\t\t: null;\n\n\t\t\t\tif (model?.info?.meta?.knowledge) {\n\t\t\t\t\tknowledge = [...model?.info?.meta?.knowledge];\n\t\t\t\t}\n\n\t\t\t\tif (model?.info?.meta?.toolIds) {\n\t\t\t\t\ttoolIds = [...model?.info?.meta?.toolIds];\n\t\t\t\t}\n\n\t\t\t\tif (model?.owned_by === 'openai') {\n\t\t\t\t\tcapabilities.usage = false;\n\t\t\t\t}\n\n\t\t\t\tif (model?.info?.meta?.capabilities) {\n\t\t\t\t\tcapabilities = { ...capabilities, ...model?.info?.meta?.capabilities };\n\t\t\t\t}\n\n\t\t\t\tconsole.log(model);\n\t\t\t} else {\n\t\t\t\tgoto('/workspace/models');\n\t\t\t}\n\t\t} else {\n\t\t\tgoto('/workspace/models');\n\t\t}\n\t});\n</script>\n\n<div class=\"w-full max-h-full\">\n\t<input\n\t\tbind:this={filesInputElement}\n\t\tbind:files={inputFiles}\n\t\ttype=\"file\"\n\t\thidden\n\t\taccept=\"image/*\"\n\t\ton:change={() => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = (event) => {\n\t\t\t\tlet originalImageUrl = `${event.target.result}`;\n\n\t\t\t\tconst img = new Image();\n\t\t\t\timg.src = originalImageUrl;\n\n\t\t\t\timg.onload = function () {\n\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\t\t\t// Calculate the aspect ratio of the image\n\t\t\t\t\tconst aspectRatio = img.width / img.height;\n\n\t\t\t\t\t// Calculate the new width and height to fit within 100x100\n\t\t\t\t\tlet newWidth, newHeight;\n\t\t\t\t\tif (aspectRatio > 1) {\n\t\t\t\t\t\tnewWidth = 100 * aspectRatio;\n\t\t\t\t\t\tnewHeight = 100;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewWidth = 100;\n\t\t\t\t\t\tnewHeight = 100 / aspectRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the canvas size\n\t\t\t\t\tcanvas.width = 100;\n\t\t\t\t\tcanvas.height = 100;\n\n\t\t\t\t\t// Calculate the position to center the image\n\t\t\t\t\tconst offsetX = (100 - newWidth) / 2;\n\t\t\t\t\tconst offsetY = (100 - newHeight) / 2;\n\n\t\t\t\t\t// Draw the image on the canvas\n\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\n\n\t\t\t\t\t// Get the base64 representation of the compressed image\n\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/jpeg');\n\n\t\t\t\t\t// Display the compressed image\n\t\t\t\t\tinfo.meta.profile_image_url = compressedSrc;\n\n\t\t\t\t\tinputFiles = null;\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tif (\n\t\t\t\tinputFiles &&\n\t\t\t\tinputFiles.length > 0 &&\n\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(inputFiles[0]['type'])\n\t\t\t) {\n\t\t\t\treader.readAsDataURL(inputFiles[0]);\n\t\t\t} else {\n\t\t\t\tconsole.log(`Unsupported File Type '${inputFiles[0]['type']}'.`);\n\t\t\t\tinputFiles = null;\n\t\t\t}\n\t\t}}\n\t/>\n\n\t<button\n\t\tclass=\"flex space-x-1\"\n\t\ton:click={() => {\n\t\t\tgoto('/workspace/models');\n\t\t}}\n\t>\n\t\t<div class=\" self-center\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\td=\"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z\"\n\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</div>\n\t\t<div class=\" self-center font-medium text-sm\">{$i18n.t('Back')}</div>\n\t</button>\n\n\t{#if model}\n\t\t<form\n\t\t\tclass=\"flex flex-col max-w-2xl mx-auto mt-4 mb-10\"\n\t\t\ton:submit|preventDefault={() => {\n\t\t\t\tupdateHandler();\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"flex justify-center my-4\">\n\t\t\t\t<div class=\"self-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" {info.meta.profile_image_url\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: 'p-4'} rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tfilesInputElement.click();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if info.meta.profile_image_url}\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={info.meta.profile_image_url}\n\t\t\t\t\t\t\t\talt=\"modelfile profile\"\n\t\t\t\t\t\t\t\tclass=\" rounded-full size-16 object-cover\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"size-8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z\"\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"mt-2 my-1 flex space-x-2\">\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<div class=\" text-sm font-semibold mb-1\">{$i18n.t('Name')}*</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Name your model')}\n\t\t\t\t\t\t\tbind:value={name}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<div class=\" text-sm font-semibold mb-1\">{$i18n.t('Model ID')}*</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Add a model id')}\n\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if model.preset}\n\t\t\t\t<div class=\"my-1\">\n\t\t\t\t\t<div class=\" text-sm font-semibold mb-1\">{$i18n.t('Base Model (From)')}</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\t\tplaceholder=\"Select a base model (e.g. llama3, gpt-4o)\"\n\t\t\t\t\t\t\tbind:value={info.base_model_id}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value={null} class=\" text-gray-900\">{$i18n.t('Select a base model')}</option>\n\t\t\t\t\t\t\t{#each $models.filter((m) => m.id !== model.id && !m?.preset) as model}\n\t\t\t\t\t\t\t\t<option value={model.id} class=\" text-gray-900\">{model.name}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\"my-1\">\n\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Description')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tif (info.meta.description === null) {\n\t\t\t\t\t\t\t\tinfo.meta.description = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinfo.meta.description = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if info.meta.description === null}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{#if info.meta.description !== null}\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\tplaceholder={$i18n.t('Add a short description about what this model does')}\n\t\t\t\t\t\tbind:value={info.meta.description}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<hr class=\" dark:border-gray-850 my-1\" />\n\n\t\t\t<div class=\"my-2\">\n\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Model Params')}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- <div class=\" text-sm font-semibold mb-2\"></div> -->\n\n\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t<div class=\"my-1\">\n\t\t\t\t\t\t<div class=\" text-xs font-semibold mb-2\">{$i18n.t('System Prompt')}</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1\"\n\t\t\t\t\t\t\t\tplaceholder={`Write your model system prompt content here\\ne.g.) You are Mario from Super Mario Bros, acting as an assistant.`}\n\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t\tbind:value={info.params.system}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\n\t\t\t\t\t\t<div class=\" self-center text-xs font-semibold\">\n\t\t\t\t\t\t\t{$i18n.t('Advanced Params')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowAdvanced = !showAdvanced;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if showAdvanced}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if showAdvanced}\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t<AdvancedParams\n\t\t\t\t\t\t\t\tadmin={true}\n\t\t\t\t\t\t\t\tbind:params\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tinfo.params = { ...info.params, ...params };\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<hr class=\" dark:border-gray-850 my-1\" />\n\n\t\t\t<div class=\"my-2\">\n\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Prompt suggestions')}</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (info.meta.suggestion_prompts === null) {\n\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [{ content: '' }];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if info.meta.suggestion_prompts === null}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if info.meta.suggestion_prompts !== null}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1 px-2 text-xs flex rounded transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.length === 0 ||\n\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.at(-1).content !== ''\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [...info.meta.suggestion_prompts, { content: '' }];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t{#if info.meta.suggestion_prompts}\n\t\t\t\t\t<div class=\"flex flex-col space-y-1 mt-2\">\n\t\t\t\t\t\t{#if info.meta.suggestion_prompts.length > 0}\n\t\t\t\t\t\t\t{#each info.meta.suggestion_prompts as prompt, promptIdx}\n\t\t\t\t\t\t\t\t<div class=\" flex border dark:border-gray-600 rounded-lg\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Write a prompt suggestion (e.g. Who are you?)')}\n\t\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.splice(promptIdx, 1);\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = info.meta.suggestion_prompts;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<div class=\"text-xs text-center\">No suggestion prompts</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"my-2\">\n\t\t\t\t<Knowledge bind:knowledge />\n\t\t\t</div>\n\n\t\t\t<div class=\"my-2\">\n\t\t\t\t<ToolsSelector bind:selectedToolIds={toolIds} tools={$tools} />\n\t\t\t</div>\n\n\t\t\t<div class=\"my-2\">\n\t\t\t\t<div class=\"flex w-full justify-between mb-1\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Capabilities')}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t{#each Object.keys(capabilities) as capability}\n\t\t\t\t\t\t<div class=\" flex items-center gap-2\">\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tstate={capabilities[capability] ? 'checked' : 'unchecked'}\n\t\t\t\t\t\t\t\ton:change={(e) => {\n\t\t\t\t\t\t\t\t\tcapabilities[capability] = e.detail === 'checked';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize\">\n\t\t\t\t\t\t\t\t{$i18n.t(capability)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"my-1\">\n\t\t\t\t<div class=\"flex w-full justify-between items-center\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Tags')}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t<Tags\n\t\t\t\t\t\ttags={info?.meta?.tags ?? []}\n\t\t\t\t\t\tdeleteTag={(tagName) => {\n\t\t\t\t\t\t\tinfo.meta.tags = info.meta.tags.filter((tag) => tag.name !== tagName);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taddTag={(tagName) => {\n\t\t\t\t\t\t\tconsole.log(tagName);\n\t\t\t\t\t\t\tif (!(info?.meta?.tags ?? null)) {\n\t\t\t\t\t\t\t\tinfo.meta.tags = [{ name: tagName }];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinfo.meta.tags = [...info.meta.tags, { name: tagName }];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"my-2 text-gray-300 dark:text-gray-700\">\n\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('JSON Preview')}</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowPreview = !showPreview;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if showPreview}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{#if showPreview}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\n\t\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\t\tvalue={JSON.stringify(info, null, 2)}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"my-2 flex justify-end mb-20\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\" text-sm px-3 py-2 transition rounded-xl {loading\n\t\t\t\t\t\t? ' cursor-not-allowed bg-gray-100 dark:bg-gray-800'\n\t\t\t\t\t\t: ' bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800'} flex\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center font-medium\">{$i18n.t('Save & Update')}</div>\n\n\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t<div class=\"ml-1.5 self-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t{/if}\n</div>\n"],"names":["ctx","create_if_block_13","if_block1","create_if_block_12","create_if_block_11","if_block3","create_if_block_10","create_if_block_9","create_if_block_8","create_if_block_7","if_block7","create_if_block_6","create_if_block_4","_b","_a","create_if_block_3","create_if_block_2","create_if_block_1","attr","button0","button0_class_value","button5","button5_class_value","insert_hydration","target","form","anchor","append_hydration","div1","div0","div8","div4","div2","div3","input0","div7","div5","div6","input1","div11","div10","div9","button1","hr0","div20","div13","div12","div19","div16","div14","div15","textarea","div18","div17","button2","hr1","div24","div23","div22","div21","button3","div25","div26","div30","div28","div27","div29","div34","div32","div31","div33","div37","div36","div35","button4","div39","div38","current","dirty","set_data","t1","t1_value","t5","t5_value","t10","t10_value","t15","t15_value","t17","t17_value","t20","t20_value","t25","t25_value","t32","t32_value","i","each_blocks","t35","t35_value","t38","t38_value","t42","t42_value","svg","path","img_1","img_1_src_value","each_value_2","ensure_array_like","add_render_callback","select","option","select_option","t0","t0_value","t2","t2_value","t_value","option_value_value","t","span","input","div","button","create_if_block_5","set_input_value","checkbox_changes","textarea_value_value","create_if_block","i18n","getContext","loading","filesInputElement","inputFiles","showAdvanced","showPreview","model","id","name","info","params","capabilities","knowledge","toolIds","updateHandler","$$invalidate","s","key","updateModelById","models","getModels","toast","goto","onMount","_id","$page","$models","m","_c","_e","_d","_g","_f","_i","_h","_k","_j","_m","_l","$$value","reader","event","originalImageUrl","img","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","select_value","e","promptIdx","value","capability","tagName","tag"],"mappings":"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"}