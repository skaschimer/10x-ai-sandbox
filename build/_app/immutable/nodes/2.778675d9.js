import{s as ot,f as d,l as H,a as M,g as h,h as v,m as N,d as u,c as x,j as o,i as z,w as n,y as ee,P as hl,n as $,r as Ze,z as st,Q as kt,A as Be,R as ze,u as $e,v as je,S as Ne,T as Ll,o as jt,p as dt,U as gl,V as el,L as zt,W as sl,X as Et,Y as bl,F as Aa,G as Sa,H as La,I as Ba,Z as Ya,t as Ha,e as Bl,_ as nl,k as ft}from"../chunks/scheduler.2ec89978.js";import{S as it,i as ct,b as we,d as ke,m as ye,a as ae,g as Lt,t as ne,c as Bt,e as Ee,f as It}from"../chunks/index.276f3600.js";import{a as Je}from"../chunks/Toaster.svelte_svelte_type_style_lang.a694d3ca.js";import{f as ql}from"../chunks/FileSaver.min.898eb36f.js";import{g as ol}from"../chunks/navigation.6e5a3761.js";import{a as qa,b as Na,c as Ka}from"../chunks/index.6e6a3a3f.js";import{u as Ga,g as Xa,a as Ja,b as Kt,d as Qa,c as As,e as Oa,f as Ul,h as Ua,i as Pa,j as er,k as tr,l as lr,m as sr,n as ar,o as $a,p as rr}from"../chunks/index.180e8f9a.js";import{g as nr}from"../chunks/index.4f8679bd.js";import{g as or}from"../chunks/index.07100e8d.js";import{g as ir}from"../chunks/index.7983e08f.js";import{g as cr}from"../chunks/index.01295287.js";import{u as fl,d as ur,W as ja,e as dl,f as Al,g as Gt,t as fr,h as Kl,c as Gl,i as Ht,j as Sl,m as Rl,k as qt,l as Pl,n as Wl,a as dr,o as $l,p as hr,q as vr,r as mr,v as _r}from"../chunks/index.3b6ce8f7.js";import{M as vl,d as Hl}from"../chunks/dayjs.min.75d9117a.js";import{u as pr,a as gr,b as br,c as wr,d as kr}from"../chunks/index.60df16a1.js";import{g as yr}from"../chunks/index.08c6a3d7.js";import{g as pl,c as Er,a as Ss,b as Ir,d as Dr,e as Tr,f as Vr}from"../chunks/index.1d78794b.js";import{T as $t}from"../chunks/Tooltip.3c52e2f2.js";import{g as Cr}from"../chunks/index.b3521b72.js";import{e as nt}from"../chunks/each.de3f9353.js";import{g as Mr}from"../chunks/index.dd8fde7c.js";import{A as xr}from"../chunks/AdvancedParams.49eb3c20.js";import{S as za}from"../chunks/Switch.97783cfe.js";import{a as Ar,u as Sr,g as xl,d as Lr,b as Br,T as Hr,A as Za,S as Nr,U as Or}from"../chunks/ShareChatModal.59f7f9c4.js";import"../chunks/index.c4ca6160.js";import"../chunks/updater.c075227d.js";import{D as Ur,M as _l}from"../chunks/Dropdown.9f1b9537.js";import{M as Pr}from"../chunks/menu-trigger.1d870800.js";import{f as $r}from"../chunks/index.e8e699b3.js";import{D as jr,S as zr,G as Ra}from"../chunks/DocumentDuplicate.75538e78.js";import{C as Zr}from"../chunks/ConfirmDialog.6db21df3.js";const Rr=(s,e)=>e.some(t=>s instanceof t);let Ls,Bs;function Wr(){return Ls||(Ls=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fr(){return Bs||(Bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wa=new WeakMap,Fl=new WeakMap,Fa=new WeakMap,jl=new WeakMap,Xl=new WeakMap;function Yr(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",r),s.removeEventListener("error",i)},r=()=>{t(ll(s.result)),a()},i=()=>{l(s.error),a()};s.addEventListener("success",r),s.addEventListener("error",i)});return e.then(t=>{t instanceof IDBCursor&&Wa.set(t,s)}).catch(()=>{}),Xl.set(e,s),e}function qr(s){if(Fl.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",r),s.removeEventListener("error",i),s.removeEventListener("abort",i)},r=()=>{t(),a()},i=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",r),s.addEventListener("error",i),s.addEventListener("abort",i)});Fl.set(s,e)}let Yl={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Fl.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fa.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ll(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Kr(s){Yl=s(Yl)}function Gr(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(zl(this),e,...t);return Fa.set(l,e.sort?e.sort():[e]),ll(l)}:Fr().includes(s)?function(...e){return s.apply(zl(this),e),ll(Wa.get(this))}:function(...e){return ll(s.apply(zl(this),e))}}function Xr(s){return typeof s=="function"?Gr(s):(s instanceof IDBTransaction&&qr(s),Rr(s,Wr())?new Proxy(s,Yl):s)}function ll(s){if(s instanceof IDBRequest)return Yr(s);if(jl.has(s))return jl.get(s);const e=Xr(s);return e!==s&&(jl.set(s,e),Xl.set(e,s)),e}const zl=s=>Xl.get(s);function Jr(s,e,{blocked:t,upgrade:l,blocking:a,terminated:r}={}){const i=indexedDB.open(s,e),c=ll(i);return l&&i.addEventListener("upgradeneeded",f=>{l(ll(i.result),f.oldVersion,f.newVersion,ll(i.transaction),f)}),t&&i.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{r&&f.addEventListener("close",()=>r()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}function Hs(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),ll(t).then(()=>{})}const Qr=["get","getKey","getAll","getAllKeys","count"],en=["put","add","delete","clear"],Zl=new Map;function Ns(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zl.get(e))return Zl.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=en.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||Qr.includes(t)))return;const r=async function(i,...c){const f=this.transaction(i,a?"readwrite":"readonly");let m=f.store;return l&&(m=m.index(c.shift())),(await Promise.all([m[t](...c),a&&f.done]))[0]};return Zl.set(e,r),r}Kr(s=>({...s,get:(e,t,l)=>Ns(e,t)||s.get(e,t,l),has:(e,t)=>!!Ns(e,t)||s.has(e,t)}));function Os(s){let e,t,l,a=s[4].t("Current Password")+"",r,i,c,f,m,p,g,_=s[4].t("New Password")+"",k,b,y,w,E,S,V,D=s[4].t("Confirm Password")+"",I,T,C,R,W,L,K,Y=s[4].t("Update password")+"",B,A,O;return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("div"),f=d("input"),m=M(),p=d("div"),g=d("div"),k=H(_),b=M(),y=d("div"),w=d("input"),E=M(),S=d("div"),V=d("div"),I=H(D),T=M(),C=d("div"),R=d("input"),W=M(),L=d("div"),K=d("button"),B=H(Y),this.h()},l(U){e=h(U,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var G=v(t);l=h(G,"DIV",{class:!0});var j=v(l);r=N(j,a),j.forEach(u),i=x(G),c=h(G,"DIV",{class:!0});var Z=v(c);f=h(Z,"INPUT",{class:!0,type:!0,autocomplete:!0}),Z.forEach(u),G.forEach(u),m=x(P),p=h(P,"DIV",{class:!0});var X=v(p);g=h(X,"DIV",{class:!0});var q=v(g);k=N(q,_),q.forEach(u),b=x(X),y=h(X,"DIV",{class:!0});var F=v(y);w=h(F,"INPUT",{class:!0,type:!0,autocomplete:!0}),F.forEach(u),X.forEach(u),E=x(P),S=h(P,"DIV",{class:!0});var Q=v(S);V=h(Q,"DIV",{class:!0});var re=v(V);I=N(re,D),re.forEach(u),T=x(Q),C=h(Q,"DIV",{class:!0});var me=v(C);R=h(me,"INPUT",{class:!0,type:!0,autocomplete:!0}),me.forEach(u),Q.forEach(u),P.forEach(u),W=x(U),L=h(U,"DIV",{class:!0});var J=v(L);K=h(J,"BUTTON",{class:!0});var oe=v(K);B=N(oe,Y),oe.forEach(u),J.forEach(u),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(f,"type","password"),o(f,"autocomplete","current-password"),f.required=!0,o(c,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(g,"class","mb-1 text-xs text-gray-500"),o(w,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(w,"type","password"),o(w,"autocomplete","new-password"),w.required=!0,o(y,"class","flex-1"),o(p,"class","flex flex-col w-full"),o(V,"class","mb-1 text-xs text-gray-500"),o(R,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(R,"type","password"),o(R,"autocomplete","off"),R.required=!0,o(C,"class","flex-1"),o(S,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(K,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),o(L,"class","mt-3 flex justify-end")},m(U,P){z(U,e,P),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(c,f),ze(f,s[1]),n(e,m),n(e,p),n(p,g),n(g,k),n(p,b),n(p,y),n(y,w),ze(w,s[2]),n(e,E),n(e,S),n(S,V),n(V,I),n(S,T),n(S,C),n(C,R),ze(R,s[3]),z(U,W,P),z(U,L,P),n(L,K),n(K,B),A||(O=[ee(f,"input",s[8]),ee(w,"input",s[9]),ee(R,"input",s[10])],A=!0)},p(U,P){P&16&&a!==(a=U[4].t("Current Password")+"")&&$(r,a),P&2&&f.value!==U[1]&&ze(f,U[1]),P&16&&_!==(_=U[4].t("New Password")+"")&&$(k,_),P&4&&w.value!==U[2]&&ze(w,U[2]),P&16&&D!==(D=U[4].t("Confirm Password")+"")&&$(I,D),P&8&&R.value!==U[3]&&ze(R,U[3]),P&16&&Y!==(Y=U[4].t("Update password")+"")&&$(B,Y)},d(U){U&&(u(e),u(W),u(L)),A=!1,st(O)}}}function tn(s){let e,t,l,a=s[4].t("Change Password")+"",r,i,c,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",m,p,g,_,k=s[0]&&Os(s);return{c(){e=d("form"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),m=H(f),p=M(),k&&k.c(),this.h()},l(b){e=h(b,"FORM",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var w=v(t);l=h(w,"DIV",{class:!0});var E=v(l);r=N(E,a),E.forEach(u),i=x(w),c=h(w,"BUTTON",{class:!0,type:!0});var S=v(c);m=N(S,f),S.forEach(u),w.forEach(u),p=x(y),k&&k.l(y),y.forEach(u),this.h()},h(){o(l,"class","font-medium"),o(c,"class","text-xs font-medium text-gray-500"),o(c,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,y){z(b,e,y),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(c,m),n(e,p),k&&k.m(e,null),g||(_=[ee(c,"click",s[7]),ee(e,"submit",hl(s[11]))],g=!0)},p(b,[y]){y&16&&a!==(a=b[4].t("Change Password")+"")&&$(r,a),y&17&&f!==(f=(b[0]?b[4].t("Hide"):b[4].t("Show"))+"")&&$(m,f),b[0]?k?k.p(b,y):(k=Os(b),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:Ze,o:Ze,d(b){b&&u(e),k&&k.d(),g=!1,st(_)}}}function ln(s,e,t){let l;const a=kt("i18n");Be(s,a,y=>t(4,l=y));let r=!1,i="",c="",f="";const m=async()=>{c===f?(await pr(localStorage.token,i,c).catch(w=>(Je.error(w),null))&&Je.success(l.t("Successfully updated.")),t(1,i=""),t(2,c=""),t(3,f="")):(Je.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,c=""),t(3,f=""))},p=()=>{t(0,r=!r)};function g(){i=this.value,t(1,i)}function _(){c=this.value,t(2,c)}function k(){f=this.value,t(3,f)}return[r,i,c,f,l,a,m,p,g,_,k,()=>{m()}]}class sn extends it{constructor(e){super(),ct(this,e,ln,tn,ot,{})}}function an(s){let e,t;return{c(){e=$e("svg"),t=$e("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M12 4.5v15m7.5-7.5h-15"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&u(e)}}}function rn(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class nn extends it{constructor(e){super(),ct(this,e,rn,an,ot,{className:0,strokeWidth:1})}}function Us(s){let e,t,l,a,r=s[11].t("JWT Token")+"",i,c,f,m,p,g,_,k,b,y,w,E,S,V,D=s[11].t("API Key")+"",I,T,C,R,W,L,K,Y;function B(q,F){return q[4]?cn:on}let A=B(s),O=A(s);function U(q,F){return q[5]?fn:un}let P=U(s),G=P(s);const j=[hn,dn],Z=[];function X(q,F){return q[6]?0:1}return R=X(s),W=Z[R]=j[R](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=H(r),c=M(),f=d("div"),m=d("div"),p=d("input"),_=M(),k=d("button"),O.c(),b=M(),y=d("button"),G.c(),w=M(),E=d("div"),S=d("div"),V=d("div"),I=H(D),T=M(),C=d("div"),W.c(),this.h()},l(q){e=h(q,"DIV",{class:!0});var F=v(e);t=h(F,"DIV",{class:!0});var Q=v(t);l=h(Q,"DIV",{class:!0});var re=v(l);a=h(re,"DIV",{class:!0});var me=v(a);i=N(me,r),me.forEach(u),re.forEach(u),c=x(Q),f=h(Q,"DIV",{class:!0});var J=v(f);m=h(J,"DIV",{class:!0});var oe=v(m);p=h(oe,"INPUT",{class:!0,type:!0}),_=x(oe),k=h(oe,"BUTTON",{class:!0});var he=v(k);O.l(he),he.forEach(u),oe.forEach(u),b=x(J),y=h(J,"BUTTON",{class:!0});var ve=v(y);G.l(ve),ve.forEach(u),J.forEach(u),Q.forEach(u),w=x(F),E=h(F,"DIV",{class:!0});var Te=v(E);S=h(Te,"DIV",{class:!0});var pe=v(S);V=h(pe,"DIV",{class:!0});var ie=v(V);I=N(ie,D),ie.forEach(u),pe.forEach(u),T=x(Te),C=h(Te,"DIV",{class:!0});var te=v(C);W.l(te),te.forEach(u),Te.forEach(u),F.forEach(u),this.h()},h(){o(a,"class","self-center text-xs font-medium"),o(l,"class","flex justify-between w-full"),o(p,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(p,"type",g=s[4]?"text":"password"),p.value=localStorage.token,p.disabled=!0,o(k,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(m,"class","flex w-full"),o(y,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),o(f,"class","flex mt-2"),o(t,"class","justify-between w-full"),o(V,"class","self-center text-xs font-medium"),o(S,"class","flex justify-between w-full"),o(C,"class","flex mt-2"),o(E,"class","justify-between w-full"),o(e,"class","flex flex-col gap-4")},m(q,F){z(q,e,F),n(e,t),n(t,l),n(l,a),n(a,i),n(t,c),n(t,f),n(f,m),n(m,p),n(m,_),n(m,k),O.m(k,null),n(f,b),n(f,y),G.m(y,null),n(e,w),n(e,E),n(E,S),n(S,V),n(V,I),n(E,T),n(E,C),Z[R].m(C,null),L=!0,K||(Y=[ee(k,"click",s[23]),ee(y,"click",s[24])],K=!0)},p(q,F){(!L||F&2048)&&r!==(r=q[11].t("JWT Token")+"")&&$(i,r),(!L||F&16&&g!==(g=q[4]?"text":"password"))&&o(p,"type",g),A!==(A=B(q))&&(O.d(1),O=A(q),O&&(O.c(),O.m(k,null))),P!==(P=U(q))&&(G.d(1),G=P(q),G&&(G.c(),G.m(y,null))),(!L||F&2048)&&D!==(D=q[11].t("API Key")+"")&&$(I,D);let Q=R;R=X(q),R===Q?Z[R].p(q,F):(Lt(),ne(Z[Q],1,1,()=>{Z[Q]=null}),Bt(),W=Z[R],W?W.p(q,F):(W=Z[R]=j[R](q),W.c()),ae(W,1),W.m(C,null))},i(q){L||(ae(W),L=!0)},o(q){ne(W),L=!1},d(q){q&&u(e),O.d(),G.d(),Z[R].d(),K=!1,st(Y)}}}function on(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{d:!0}),v(t).forEach(u),l=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function cn(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=je(r,"path",{d:!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function un(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function fn(s){let e,t;return{c(){e=$e("svg"),t=$e("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function dn(s){let e,t,l,a=s[11].t("Create new secret key")+"",r,i,c,f;return t=new nn({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=d("button"),we(t.$$.fragment),l=M(),r=H(a),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var p=v(e);ke(t.$$.fragment,p),l=x(p),r=N(p,a),p.forEach(u),this.h()},h(){o(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(m,p){z(m,e,p),ye(t,e,null),n(e,l),n(e,r),i=!0,c||(f=ee(e,"click",s[28]),c=!0)},p(m,p){(!i||p&2048)&&a!==(a=m[11].t("Create new secret key")+"")&&$(r,a)},i(m){i||(ae(t.$$.fragment,m),i=!0)},o(m){ne(t.$$.fragment,m),i=!1},d(m){m&&u(e),Ee(t),c=!1,f()}}}function hn(s){let e,t,l,a,r,i,c,f,m,p,g,_;function k(V,D){return V[7]?mn:vn}let b=k(s),y=b(s);function w(V,D){return V[8]?pn:_n}let E=w(s),S=E(s);return m=new $t({props:{content:s[11].t("Create new key"),$$slots:{default:[gn]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=M(),r=d("button"),y.c(),i=M(),c=d("button"),S.c(),f=M(),we(m.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var D=v(e);t=h(D,"INPUT",{class:!0,type:!0}),a=x(D),r=h(D,"BUTTON",{class:!0});var I=v(r);y.l(I),I.forEach(u),D.forEach(u),i=x(V),c=h(V,"BUTTON",{class:!0});var T=v(c);S.l(T),T.forEach(u),f=x(V),ke(m.$$.fragment,V),this.h()},h(){o(t,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm bg-white dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type",l=s[7]?"text":"password"),t.value=s[6],t.disabled=!0,o(r,"class","px-2 transition rounded-r-lg bg-white dark:bg-gray-850"),o(e,"class","flex w-full"),o(c,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(V,D){z(V,e,D),n(e,t),n(e,a),n(e,r),y.m(r,null),z(V,i,D),z(V,c,D),S.m(c,null),z(V,f,D),ye(m,V,D),p=!0,g||(_=[ee(r,"click",s[25]),ee(c,"click",s[26])],g=!0)},p(V,D){(!p||D&128&&l!==(l=V[7]?"text":"password"))&&o(t,"type",l),(!p||D&64&&t.value!==V[6])&&(t.value=V[6]),b!==(b=k(V))&&(y.d(1),y=b(V),y&&(y.c(),y.m(r,null))),E!==(E=w(V))&&(S.d(1),S=E(V),S&&(S.c(),S.m(c,null)));const I={};D&2048&&(I.content=V[11].t("Create new key")),D&1073741824&&(I.$$scope={dirty:D,ctx:V}),m.$set(I)},i(V){p||(ae(m.$$.fragment,V),p=!0)},o(V){ne(m.$$.fragment,V),p=!1},d(V){V&&(u(e),u(i),u(c),u(f)),y.d(),S.d(),Ee(m,V),g=!1,st(_)}}}function vn(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{d:!0}),v(t).forEach(u),l=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function mn(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=je(r,"path",{d:!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function _n(s){let e,t,l;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),this.h()},l(a){e=je(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function pn(s){let e,t;return{c(){e=$e("svg"),t=$e("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function gn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,i){z(r,e,i),l||(a=ee(e,"click",s[27]),l=!0)},p:Ze,d(r){r&&u(e),l=!1,a()}}}function bn(s){let e,t,l,a,r,i,c,f,m,p,g,_,k,b='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,w,E,S=s[11].t("Profile Image")+"",V,D,I,T,C=s[11].t("Use Initials")+"",R,W,L,K=s[11].t("Use Gravatar")+"",Y,B,A,O=s[11].t("Remove")+"",U,P,G,j,Z,X=s[11].t("Name")+"",q,F,Q,re,me,J,oe,he,ve,Te,pe,ie,te=s[11].t("API keys")+"",se,ce,_e,Me=(s[3]?s[11].t("Hide"):s[11].t("Show"))+"",Ie,Ke,xe,Ce,le,fe=s[11].t("Save")+"",Ae,De,Oe,Ue;oe=new sn({});let Le=s[3]&&Us(s);return{c(){e=d("div"),t=d("div"),l=d("input"),a=M(),r=d("div"),i=d("div"),c=d("div"),f=d("div"),m=d("button"),p=d("img"),_=M(),k=d("div"),k.innerHTML=b,y=M(),w=d("div"),E=d("div"),V=H(S),D=M(),I=d("div"),T=d("button"),R=H(C),W=M(),L=d("button"),Y=H(K),B=M(),A=d("button"),U=H(O),P=M(),G=d("div"),j=d("div"),Z=d("div"),q=H(X),F=M(),Q=d("div"),re=d("input"),me=M(),J=d("div"),we(oe.$$.fragment),he=M(),ve=d("hr"),Te=M(),pe=d("div"),ie=d("div"),se=H(te),ce=M(),_e=d("button"),Ie=H(Me),Ke=M(),Le&&Le.c(),xe=M(),Ce=d("div"),le=d("button"),Ae=H(fe),this.h()},l(Ve){e=h(Ve,"DIV",{class:!0});var Se=v(e);t=h(Se,"DIV",{class:!0});var We=v(t);l=h(We,"INPUT",{id:!0,type:!0,accept:!0}),a=x(We),r=h(We,"DIV",{class:!0});var _t=v(r);i=h(_t,"DIV",{class:!0});var pt=v(i);c=h(pt,"DIV",{class:!0});var Qe=v(c);f=h(Qe,"DIV",{class:!0});var ht=v(f);m=h(ht,"BUTTON",{class:!0,type:!0});var vt=v(m);p=h(vt,"IMG",{src:!0,alt:!0,class:!0}),_=x(vt),k=h(vt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(k)!=="svelte-11ivb2j"&&(k.innerHTML=b),vt.forEach(u),ht.forEach(u),Qe.forEach(u),y=x(pt),w=h(pt,"DIV",{class:!0});var yt=v(w);E=h(yt,"DIV",{class:!0});var Ye=v(E);V=N(Ye,S),Ye.forEach(u),D=x(yt),I=h(yt,"DIV",{});var at=v(I);T=h(at,"BUTTON",{class:!0});var et=v(T);R=N(et,C),et.forEach(u),W=x(at),L=h(at,"BUTTON",{class:!0});var Fe=v(L);Y=N(Fe,K),Fe.forEach(u),B=x(at),A=h(at,"BUTTON",{class:!0});var He=v(A);U=N(He,O),He.forEach(u),at.forEach(u),yt.forEach(u),pt.forEach(u),P=x(_t),G=h(_t,"DIV",{class:!0});var tt=v(G);j=h(tt,"DIV",{class:!0});var xt=v(j);Z=h(xt,"DIV",{class:!0});var Ge=v(Z);q=N(Ge,X),Ge.forEach(u),F=x(xt),Q=h(xt,"DIV",{class:!0});var Xe=v(Q);re=h(Xe,"INPUT",{class:!0,type:!0}),Xe.forEach(u),xt.forEach(u),tt.forEach(u),_t.forEach(u),me=x(We),J=h(We,"DIV",{class:!0});var Pe=v(J);ke(oe.$$.fragment,Pe),Pe.forEach(u),he=x(We),ve=h(We,"HR",{class:!0}),Te=x(We),pe=h(We,"DIV",{class:!0});var ge=v(pe);ie=h(ge,"DIV",{class:!0});var ue=v(ie);se=N(ue,te),ue.forEach(u),ce=x(ge),_e=h(ge,"BUTTON",{class:!0,type:!0});var be=v(_e);Ie=N(be,Me),be.forEach(u),ge.forEach(u),Ke=x(We),Le&&Le.l(We),We.forEach(u),xe=x(Se),Ce=h(Se,"DIV",{class:!0});var qe=v(Ce);le=h(qe,"BUTTON",{class:!0});var Vt=v(le);Ae=N(Vt,fe),Vt.forEach(u),qe.forEach(u),Se.forEach(u),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),Ll(p.src,g=s[1]!==""?s[1]:pl(s[2]))||o(p,"src",g),o(p,"alt","profile"),o(p,"class","rounded-full size-16 object-cover"),o(k,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(m,"class","relative rounded-full dark:bg-gray-700"),o(m,"type","button"),o(f,"class","self-center mt-2"),o(c,"class","flex flex-col"),o(E,"class","mb-0.5 text-sm font-medium"),o(T,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(L,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),o(A,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),o(w,"class","flex-1 flex flex-col self-center gap-0.5"),o(i,"class","flex space-x-5"),o(Z,"class","mb-1 text-xs font-medium"),o(re,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(re,"type","text"),re.required=!0,o(Q,"class","flex-1"),o(j,"class","flex flex-col w-full"),o(G,"class","pt-0.5"),o(r,"class","space-y-1"),o(J,"class","py-0.5"),o(ve,"class","dark:border-gray-850 my-4"),o(ie,"class","font-medium"),o(_e,"class","text-xs font-medium text-gray-500"),o(_e,"type","button"),o(pe,"class","flex justify-between items-center text-sm"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(le,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Ce,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(Ve,Se){z(Ve,e,Se),n(e,t),n(t,l),s[15](l),n(t,a),n(t,r),n(r,i),n(i,c),n(c,f),n(f,m),n(m,p),n(m,_),n(m,k),n(i,y),n(i,w),n(w,E),n(E,V),n(w,D),n(w,I),n(I,T),n(T,R),n(I,W),n(I,L),n(L,Y),n(I,B),n(I,A),n(A,U),n(r,P),n(r,G),n(G,j),n(j,Z),n(Z,q),n(j,F),n(j,Q),n(Q,re),ze(re,s[2]),n(t,me),n(t,J),ye(oe,J,null),n(t,he),n(t,ve),n(t,Te),n(t,pe),n(pe,ie),n(ie,se),n(pe,ce),n(pe,_e),n(_e,Ie),n(t,Ke),Le&&Le.m(t,null),n(e,xe),n(e,Ce),n(Ce,le),n(le,Ae),De=!0,Oe||(Ue=[ee(l,"change",s[16]),ee(m,"click",s[17]),ee(T,"click",s[18]),ee(L,"click",s[19]),ee(A,"click",s[20]),ee(re,"input",s[21]),ee(_e,"click",s[22]),ee(le,"click",s[29])],Oe=!0)},p(Ve,[Se]){(!De||Se&6&&!Ll(p.src,g=Ve[1]!==""?Ve[1]:pl(Ve[2])))&&o(p,"src",g),(!De||Se&2048)&&S!==(S=Ve[11].t("Profile Image")+"")&&$(V,S),(!De||Se&2048)&&C!==(C=Ve[11].t("Use Initials")+"")&&$(R,C),(!De||Se&2048)&&K!==(K=Ve[11].t("Use Gravatar")+"")&&$(Y,K),(!De||Se&2048)&&O!==(O=Ve[11].t("Remove")+"")&&$(U,O),(!De||Se&2048)&&X!==(X=Ve[11].t("Name")+"")&&$(q,X),Se&4&&re.value!==Ve[2]&&ze(re,Ve[2]),(!De||Se&2048)&&te!==(te=Ve[11].t("API keys")+"")&&$(se,te),(!De||Se&2056)&&Me!==(Me=(Ve[3]?Ve[11].t("Hide"):Ve[11].t("Show"))+"")&&$(Ie,Me),Ve[3]?Le?(Le.p(Ve,Se),Se&8&&ae(Le,1)):(Le=Us(Ve),Le.c(),ae(Le,1),Le.m(t,null)):Le&&(Lt(),ne(Le,1,1,()=>{Le=null}),Bt()),(!De||Se&2048)&&fe!==(fe=Ve[11].t("Save")+"")&&$(Ae,fe)},i(Ve){De||(ae(oe.$$.fragment,Ve),ae(Le),De=!0)},o(Ve){ne(oe.$$.fragment,Ve),ne(Le),De=!1},d(Ve){Ve&&u(e),s[15](null),Ee(oe),Le&&Le.d(),Oe=!1,st(Ue)}}}function wn(s,e,t){let l,a;Be(s,fl,P=>t(10,l=P));const r=kt("i18n");Be(s,r,P=>t(11,a=P));let{saveHandler:i}=e,c="",f="",m=!1,p=!1,g=!1,_="",k=!1,b=!1,y;const w=async()=>{f!==l.name&&(c===pl(l.name)||c==="")&&t(1,c=pl(f));const P=await br(localStorage.token,f,c).catch(G=>{Je.error(G)});return P?(await fl.set(P),!0):!1},E=async()=>{t(6,_=await wr(localStorage.token)),_?Je.success(a.t("API Key created.")):Je.error(a.t("Failed to create API Key."))};jt(async()=>{t(2,f=l.name),t(1,c=l.profile_image_url),t(6,_=await gr(localStorage.token).catch(P=>(console.log(P),"")))});function S(P){dt[P?"unshift":"push"](()=>{y=P,t(9,y)})}const V=P=>{const G=y.files??[];let j=new FileReader;j.onload=Z=>{let X=`${Z.target.result}`;const q=new Image;q.src=X,q.onload=function(){const F=document.createElement("canvas"),Q=F.getContext("2d"),re=q.width/q.height;let me,J;re>1?(me=100*re,J=100):(me=100,J=100/re),F.width=100,F.height=100;const oe=(100-me)/2,he=(100-J)/2;Q.drawImage(q,oe,he,me,J);const ve=F.toDataURL("image/jpeg");t(1,c=ve),t(9,y.files=null,y)}},G.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(G[0].type)&&j.readAsDataURL(G[0])},D=()=>{y.click()},I=async()=>{Er()?t(1,c=pl(f)):Je.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},T=async()=>{const P=await yr(l.email);t(1,c=P)},C=async()=>{t(1,c="/user.png")};function R(){f=this.value,t(2,f)}const W=()=>{t(3,m=!m)},L=()=>{t(4,p=!p)},K=()=>{Ss(localStorage.token),t(5,g=!0),setTimeout(()=>{t(5,g=!1)},2e3)},Y=()=>{t(7,k=!k)},B=()=>{Ss(_),t(8,b=!0),setTimeout(()=>{t(8,b=!1)},2e3)},A=()=>{E()},O=()=>{E()},U=async()=>{await w()&&i()};return s.$$set=P=>{"saveHandler"in P&&t(0,i=P.saveHandler)},[i,c,f,m,p,g,_,k,b,y,l,a,r,w,E,S,V,D,I,T,C,R,W,L,K,Y,B,A,O,U]}class kn extends it{constructor(e){super(),ct(this,e,wn,bn,ot,{saveHandler:0})}}function yn(s){let e,t;return{c(){e=H("v"),t=H(dl)},l(l){e=N(l,"v"),t=N(l,dl)},m(l,a){z(l,e,a),z(l,t,a)},p:Ze,d(l){l&&(u(e),u(t))}}}function Ps(s){let e,t,l,a,r=s[4].t("Ollama Version")+"",i,c,f,m,p=(s[0]??"N/A")+"",g;return{c(){e=d("hr"),t=M(),l=d("div"),a=d("div"),i=H(r),c=M(),f=d("div"),m=d("div"),g=H(p),this.h()},l(_){e=h(_,"HR",{class:!0}),t=x(_),l=h(_,"DIV",{});var k=v(l);a=h(k,"DIV",{class:!0});var b=v(a);i=N(b,r),b.forEach(u),c=x(k),f=h(k,"DIV",{class:!0});var y=v(f);m=h(y,"DIV",{class:!0});var w=v(m);g=N(w,p),w.forEach(u),y.forEach(u),k.forEach(u),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(m,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(f,"class","flex w-full")},m(_,k){z(_,e,k),z(_,t,k),z(_,l,k),n(l,a),n(a,i),n(l,c),n(l,f),n(f,m),n(m,g)},p(_,k){k&16&&r!==(r=_[4].t("Ollama Version")+"")&&$(i,r),k&1&&p!==(p=(_[0]??"N/A")+"")&&$(g,p)},d(_){_&&(u(e),u(t),u(l))}}}function En(s){let e,t,l,a,r,i,c,f=s[4].t("Version")+"",m,p,g,_,k,b,y,w,E=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",S,V,D,I,T,C=s[4].t("See what's new")+"",R,W,L,K=s[4].t("Check for updates")+"",Y,B,A,O,U,P,G='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',j,Z,X,q,F,Q=s[4].t("Created by")+"",re,me,J,oe="10x Public Venture Studio",he,ve,Te;b=new $t({props:{content:ur,$$slots:{default:[yn]},$$scope:{ctx:s}}});let pe=s[0]&&Ps(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),i=H(s[3]),c=M(),m=H(f),p=M(),g=d("div"),_=d("div"),k=d("div"),we(b.$$.fragment),y=M(),w=d("a"),S=H(E),D=M(),I=d("button"),T=d("div"),R=H(C),W=M(),L=d("button"),Y=H(K),B=M(),pe&&pe.c(),A=M(),O=d("hr"),U=M(),P=d("div"),P.innerHTML=G,j=M(),Z=d("div"),X=d("span"),q=H(s[3]),F=H(` -
			`),re=H(Q),me=M(),J=d("a"),J.textContent=oe,this.h()},l(ie){e=h(ie,"DIV",{class:!0});var te=v(e);t=h(te,"DIV",{class:!0});var se=v(t);l=h(se,"DIV",{});var ce=v(l);a=h(ce,"DIV",{class:!0});var _e=v(a);r=h(_e,"DIV",{});var Me=v(r);i=N(Me,s[3]),c=x(Me),m=N(Me,f),Me.forEach(u),_e.forEach(u),p=x(ce),g=h(ce,"DIV",{class:!0});var Ie=v(g);_=h(Ie,"DIV",{class:!0});var Ke=v(_);k=h(Ke,"DIV",{class:!0});var xe=v(k);ke(b.$$.fragment,xe),y=x(xe),w=h(xe,"A",{href:!0,target:!0});var Ce=v(w);S=N(Ce,E),Ce.forEach(u),xe.forEach(u),D=x(Ke),I=h(Ke,"BUTTON",{class:!0});var le=v(I);T=h(le,"DIV",{});var fe=v(T);R=N(fe,C),fe.forEach(u),le.forEach(u),Ke.forEach(u),W=x(Ie),L=h(Ie,"BUTTON",{class:!0});var Ae=v(L);Y=N(Ae,K),Ae.forEach(u),Ie.forEach(u),ce.forEach(u),B=x(se),pe&&pe.l(se),A=x(se),O=h(se,"HR",{class:!0}),U=x(se),P=h(se,"DIV",{class:!0,"data-svelte-h":!0}),Ne(P)!=="svelte-1hy20dm"&&(P.innerHTML=G),j=x(se),Z=h(se,"DIV",{class:!0});var De=v(Z);X=h(De,"SPAN",{class:!0});var Oe=v(X);q=N(Oe,s[3]),Oe.forEach(u),F=N(De,` -
			`),re=N(De,Q),me=x(De),J=h(De,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),Ne(J)!=="svelte-15vu43w"&&(J.textContent=oe),De.forEach(u),se.forEach(u),te.forEach(u),this.h()},h(){o(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(w,"href",V="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),o(w,"target","_blank"),o(k,"class","flex gap-1"),o(I,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(L,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(g,"class","flex w-full justify-between items-center"),o(O,"class","dark:border-gray-850"),o(P,"class","flex space-x-1"),o(X,"class","text-gray-500 dark:text-gray-300 font-medium"),o(J,"class","text-gray-500 dark:text-gray-300 font-medium"),o(J,"href","https://10x.gsa.gov"),o(J,"target","_blank"),o(Z,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ie,te){z(ie,e,te),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(r,c),n(r,m),n(l,p),n(l,g),n(g,_),n(_,k),ye(b,k,null),n(k,y),n(k,w),n(w,S),n(_,D),n(_,I),n(I,T),n(T,R),n(g,W),n(g,L),n(L,Y),n(t,B),pe&&pe.m(t,null),n(t,A),n(t,O),n(t,U),n(t,P),n(t,j),n(t,Z),n(Z,X),n(X,q),n(Z,F),n(Z,re),n(Z,me),n(Z,J),he=!0,ve||(Te=[ee(I,"click",s[7]),ee(L,"click",s[8])],ve=!0)},p(ie,[te]){(!he||te&8)&&$(i,ie[3]),(!he||te&16)&&f!==(f=ie[4].t("Version")+"")&&$(m,f);const se={};te&512&&(se.$$scope={dirty:te,ctx:ie}),b.$set(se),(!he||te&22)&&E!==(E=(ie[1]===null?ie[4].t("Checking for updates..."):ie[1]?`(v${ie[2].latest} ${ie[4].t("available!")})`:ie[4].t("(latest)"))+"")&&$(S,E),(!he||te&4&&V!==(V="https://github.com/open-webui/open-webui/releases/tag/v"+ie[2].latest))&&o(w,"href",V),(!he||te&16)&&C!==(C=ie[4].t("See what's new")+"")&&$(R,C),(!he||te&16)&&K!==(K=ie[4].t("Check for updates")+"")&&$(Y,K),ie[0]?pe?pe.p(ie,te):(pe=Ps(ie),pe.c(),pe.m(t,A)):pe&&(pe.d(1),pe=null),(!he||te&8)&&$(q,ie[3]),(!he||te&16)&&Q!==(Q=ie[4].t("Created by")+"")&&$(re,Q)},i(ie){he||(ae(b.$$.fragment,ie),he=!0)},o(ie){ne(b.$$.fragment,ie),he=!1},d(ie){ie&&u(e),Ee(b),pe&&pe.d(),ve=!1,st(Te)}}}function In(s,e,t){let l,a;Be(s,ja,_=>t(3,l=_));const r=kt("i18n");Be(s,r,_=>t(4,a=_));let i="",c=null,f={current:"",latest:""};const m=async()=>{t(1,c=null),t(2,f=await qa().catch(_=>({current:dl,latest:dl}))),console.log(f),t(1,c=Ir(f.latest,f.current)),console.log(c)};return jt(async()=>{t(0,i=await Cr(localStorage.token).catch(_=>"")),m()}),[i,c,f,l,a,r,m,()=>{Al.set(!0)},()=>{m()}]}class Dn extends it{constructor(e){super(),ct(this,e,In,En,ot,{})}}function $s(s,e,t){const l=s.slice();return l[33]=e[t],l}function js(s){let e,t=s[33].title+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=N(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[33].code,ze(e,e.__value)},m(r,i){z(r,e,i),n(e,l)},p(r,i){i[0]&4&&t!==(t=r[33].title+"")&&$(l,t),i[0]&4&&a!==(a=r[33].code)&&(e.__value=a,ze(e,e.__value))},d(r){r&&u(e)}}}function zs(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate this sandbox!</a>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-uqhooy"&&(e.innerHTML=t),this.h()},h(){o(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function Tn(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Vn(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Zs(s){var G;let e,t,l,a,r,i,c,f,m=s[10].t("Keep Alive")+"",p,g,_,k,b,y,w,E,S=s[10].t("Request Mode")+"",V,D,I,T,C,R;function W(j){s[25](j)}let L={admin:((G=s[11])==null?void 0:G.role)==="admin"};s[9]!==void 0&&(L.params=s[9]),e=new xr({props:L}),dt.push(()=>It(e,"params",W));function K(j,Z){return j[8]===null?Mn:Cn}let Y=K(s),B=Y(s),A=s[8]!==null&&Rs(s);function O(j,Z){if(j[7]==="")return An;if(j[7]==="json")return xn}let U=O(s),P=U&&U(s);return{c(){we(e.$$.fragment),l=M(),a=d("hr"),r=M(),i=d("div"),c=d("div"),f=d("div"),p=H(m),g=M(),_=d("button"),B.c(),k=M(),A&&A.c(),b=M(),y=d("div"),w=d("div"),E=d("div"),V=H(S),D=M(),I=d("button"),P&&P.c(),this.h()},l(j){ke(e.$$.fragment,j),l=x(j),a=h(j,"HR",{class:!0}),r=x(j),i=h(j,"DIV",{class:!0});var Z=v(i);c=h(Z,"DIV",{class:!0});var X=v(c);f=h(X,"DIV",{class:!0});var q=v(f);p=N(q,m),q.forEach(u),g=x(X),_=h(X,"BUTTON",{class:!0,type:!0});var F=v(_);B.l(F),F.forEach(u),X.forEach(u),k=x(Z),A&&A.l(Z),Z.forEach(u),b=x(j),y=h(j,"DIV",{});var Q=v(y);w=h(Q,"DIV",{class:!0});var re=v(w);E=h(re,"DIV",{class:!0});var me=v(E);V=N(me,S),me.forEach(u),D=x(re),I=h(re,"BUTTON",{class:!0});var J=v(I);P&&P.l(J),J.forEach(u),re.forEach(u),Q.forEach(u),this.h()},h(){o(a,"class","dark:border-gray-850"),o(f,"class","self-center text-xs font-medium"),o(_,"class","p-1 px-3 text-xs flex rounded transition"),o(_,"type","button"),o(c,"class","flex w-full justify-between"),o(i,"class","py-1 w-full justify-between"),o(E,"class","self-center text-sm font-medium"),o(I,"class","p-1 px-3 text-xs flex rounded transition"),o(w,"class","py-1 flex w-full justify-between")},m(j,Z){ye(e,j,Z),z(j,l,Z),z(j,a,Z),z(j,r,Z),z(j,i,Z),n(i,c),n(c,f),n(f,p),n(c,g),n(c,_),B.m(_,null),n(i,k),A&&A.m(i,null),z(j,b,Z),z(j,y,Z),n(y,w),n(w,E),n(E,V),n(w,D),n(w,I),P&&P.m(I,null),T=!0,C||(R=[ee(_,"click",s[26]),ee(I,"click",s[28])],C=!0)},p(j,Z){var q;const X={};Z[0]&2048&&(X.admin=((q=j[11])==null?void 0:q.role)==="admin"),!t&&Z[0]&512&&(t=!0,X.params=j[9],Et(()=>t=!1)),e.$set(X),(!T||Z[0]&1024)&&m!==(m=j[10].t("Keep Alive")+"")&&$(p,m),Y===(Y=K(j))&&B?B.p(j,Z):(B.d(1),B=Y(j),B&&(B.c(),B.m(_,null))),j[8]!==null?A?A.p(j,Z):(A=Rs(j),A.c(),A.m(i,null)):A&&(A.d(1),A=null),(!T||Z[0]&1024)&&S!==(S=j[10].t("Request Mode")+"")&&$(V,S),U===(U=O(j))&&P?P.p(j,Z):(P&&P.d(1),P=U&&U(j),P&&(P.c(),P.m(I,null)))},i(j){T||(ae(e.$$.fragment,j),T=!0)},o(j){ne(e.$$.fragment,j),T=!1},d(j){j&&(u(l),u(a),u(r),u(i),u(b),u(y)),Ee(e,j),B.d(),A&&A.d(),P&&P.d(),C=!1,st(R)}}}function Cn(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Custom")+"")&&$(l,t)},d(a){a&&u(e)}}}function Mn(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&$(l,t)},d(a){a&&u(e)}}}function Rs(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=v(e);t=h(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(u),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"type","text"),o(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),o(e,"class","flex mt-1 space-x-2")},m(i,c){z(i,e,c),n(e,t),ze(t,s[8]),a||(r=ee(t,"input",s[27]),a=!0)},p(i,c){c[0]&1024&&l!==(l=i[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&o(t,"placeholder",l),c[0]&256&&t.value!==i[8]&&ze(t,i[8])},d(i){i&&u(e),a=!1,r()}}}function xn(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("JSON")+"")&&$(l,t)},d(a){a&&u(e)}}}function An(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&$(l,t)},d(a){a&&u(e)}}}function Sn(s){let e,t,l,a,r=s[10].t("WebUI Settings")+"",i,c,f,m,p=s[10].t("Theme")+"",g,_,k,b,y,w,E=s[10].t("System")+"",S,V,D,I=s[10].t("Dark")+"",T,C,R,W=s[10].t("OLED Dark")+"",L,K,Y,B=s[10].t("Light")+"",A,O,U="ðŸŒ· Her",P,G,j,Z=s[10].t("Language")+"",X,q,F,Q,re,me,J,oe,he,ve=s[10].t("Notifications")+"",Te,pe,ie,te,se,ce,_e,Me,Ie=s[10].t("System Prompt")+"",Ke,xe,Ce,le,fe,Ae,De,Oe=s[10].t("Advanced Parameters")+"",Ue,Le,Ve,Se=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",We,_t,pt,Qe,ht,vt=s[10].t("Save")+"",yt,Ye,at,et,Fe=nt(s[2]),He=[];for(let ge=0;ge<Fe.length;ge+=1)He[ge]=js($s(s,Fe,ge));let tt=s[10].language==="en-US"&&zs();function xt(ge,ue){return ge[4]===!0?Vn:Tn}let Ge=xt(s),Xe=Ge(s),Pe=s[6]&&Zs(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=H(r),c=M(),f=d("div"),m=d("div"),g=H(p),_=M(),k=d("div"),b=d("select"),y=d("option"),w=H("âš™ï¸ "),S=H(E),V=d("option"),D=H("ðŸŒ‘ "),T=H(I),C=d("option"),R=H("ðŸŒƒ "),L=H(W),K=d("option"),Y=H("â˜€ï¸ "),A=H(B),O=d("option"),O.textContent=U,P=M(),G=d("div"),j=d("div"),X=H(Z),q=M(),F=d("div"),Q=d("select");for(let ge=0;ge<He.length;ge+=1)He[ge].c();re=M(),tt&&tt.c(),me=M(),J=d("div"),oe=d("div"),he=d("div"),Te=H(ve),pe=M(),ie=d("button"),Xe.c(),te=M(),se=d("hr"),ce=M(),_e=d("div"),Me=d("div"),Ke=H(Ie),xe=M(),Ce=d("textarea"),le=M(),fe=d("div"),Ae=d("div"),De=d("div"),Ue=H(Oe),Le=M(),Ve=d("button"),We=H(Se),_t=M(),Pe&&Pe.c(),pt=M(),Qe=d("div"),ht=d("button"),yt=H(vt),this.h()},l(ge){e=h(ge,"DIV",{class:!0});var ue=v(e);t=h(ue,"DIV",{class:!0});var be=v(t);l=h(be,"DIV",{class:!0});var qe=v(l);a=h(qe,"DIV",{class:!0});var Vt=v(a);i=N(Vt,r),Vt.forEach(u),c=x(qe),f=h(qe,"DIV",{class:!0});var Mt=v(f);m=h(Mt,"DIV",{class:!0});var rt=v(m);g=N(rt,p),rt.forEach(u),_=x(Mt),k=h(Mt,"DIV",{class:!0});var Zt=v(k);b=h(Zt,"SELECT",{class:!0,placeholder:!0});var Nt=v(b);y=h(Nt,"OPTION",{});var Rt=v(y);w=N(Rt,"âš™ï¸ "),S=N(Rt,E),Rt.forEach(u),V=h(Nt,"OPTION",{});var Wt=v(V);D=N(Wt,"ðŸŒ‘ "),T=N(Wt,I),Wt.forEach(u),C=h(Nt,"OPTION",{});var mt=v(C);R=N(mt,"ðŸŒƒ "),L=N(mt,W),mt.forEach(u),K=h(Nt,"OPTION",{});var tl=v(K);Y=N(tl,"â˜€ï¸ "),A=N(tl,B),tl.forEach(u),O=h(Nt,"OPTION",{"data-svelte-h":!0}),Ne(O)!=="svelte-188ouwx"&&(O.textContent=U),Nt.forEach(u),Zt.forEach(u),Mt.forEach(u),P=x(qe),G=h(qe,"DIV",{class:!0});var Ot=v(G);j=h(Ot,"DIV",{class:!0});var gt=v(j);X=N(gt,Z),gt.forEach(u),q=x(Ot),F=h(Ot,"DIV",{class:!0});var al=v(F);Q=h(al,"SELECT",{class:!0,placeholder:!0});var Ut=v(Q);for(let rl=0;rl<He.length;rl+=1)He[rl].l(Ut);Ut.forEach(u),al.forEach(u),Ot.forEach(u),re=x(qe),tt&&tt.l(qe),me=x(qe),J=h(qe,"DIV",{});var Dt=v(J);oe=h(Dt,"DIV",{class:!0});var Pt=v(oe);he=h(Pt,"DIV",{class:!0});var Xt=v(he);Te=N(Xt,ve),Xt.forEach(u),pe=x(Pt),ie=h(Pt,"BUTTON",{class:!0,type:!0});var bt=v(ie);Xe.l(bt),bt.forEach(u),Pt.forEach(u),Dt.forEach(u),qe.forEach(u),te=x(be),se=h(be,"HR",{class:!0}),ce=x(be),_e=h(be,"DIV",{});var Jt=v(_e);Me=h(Jt,"DIV",{class:!0});var Qt=v(Me);Ke=N(Qt,Ie),Qt.forEach(u),xe=x(Jt),Ce=h(Jt,"TEXTAREA",{class:!0,rows:!0}),v(Ce).forEach(u),Jt.forEach(u),le=x(be),fe=h(be,"DIV",{class:!0});var Ct=v(fe);Ae=h(Ct,"DIV",{class:!0});var il=v(Ae);De=h(il,"DIV",{class:!0});var cl=v(De);Ue=N(cl,Oe),cl.forEach(u),Le=x(il),Ve=h(il,"BUTTON",{class:!0,type:!0});var At=v(Ve);We=N(At,Se),At.forEach(u),il.forEach(u),_t=x(Ct),Pe&&Pe.l(Ct),Ct.forEach(u),be.forEach(u),pt=x(ue),Qe=h(ue,"DIV",{class:!0});var wt=v(Qe);ht=h(wt,"BUTTON",{class:!0});var ml=v(ht);yt=N(ml,vt),ml.forEach(u),wt.forEach(u),ue.forEach(u),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(m,"class","self-center text-xs font-medium"),y.__value="system",ze(y,y.__value),V.__value="dark",ze(V,V.__value),C.__value="oled-dark",ze(C,C.__value),K.__value="light",ze(K,K.__value),O.__value="her",ze(O,O.__value),o(b,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&gl(()=>s[18].call(b)),o(k,"class","flex items-center relative"),o(f,"class","flex w-full justify-between"),o(j,"class","self-center text-xs font-medium"),o(Q,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(Q,"placeholder","Select a language"),s[3]===void 0&&gl(()=>s[20].call(Q)),o(F,"class","flex items-center relative"),o(G,"class","flex w-full justify-between"),o(he,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(oe,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(se,"class","dark:border-gray-850 my-3"),o(Me,"class","my-2.5 text-sm font-medium"),o(Ce,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(Ce,"rows","4"),o(De,"class","font-medium"),o(Ve,"class","text-xs font-medium text-gray-500"),o(Ve,"type","button"),o(Ae,"class","flex justify-between items-center text-sm"),o(fe,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(ht,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Qe,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ge,ue){z(ge,e,ue),n(e,t),n(t,l),n(l,a),n(a,i),n(l,c),n(l,f),n(f,m),n(m,g),n(f,_),n(f,k),n(k,b),n(b,y),n(y,w),n(y,S),n(b,V),n(V,D),n(V,T),n(b,C),n(C,R),n(C,L),n(b,K),n(K,Y),n(K,A),n(b,O),el(b,s[1],!0),n(l,P),n(l,G),n(G,j),n(j,X),n(G,q),n(G,F),n(F,Q);for(let be=0;be<He.length;be+=1)He[be]&&He[be].m(Q,null);el(Q,s[3],!0),n(l,re),tt&&tt.m(l,null),n(l,me),n(l,J),n(J,oe),n(oe,he),n(he,Te),n(oe,pe),n(oe,ie),Xe.m(ie,null),n(t,te),n(t,se),n(t,ce),n(t,_e),n(_e,Me),n(Me,Ke),n(_e,xe),n(_e,Ce),ze(Ce,s[5]),n(t,le),n(t,fe),n(fe,Ae),n(Ae,De),n(De,Ue),n(Ae,Le),n(Ae,Ve),n(Ve,We),n(fe,_t),Pe&&Pe.m(fe,null),n(e,pt),n(e,Qe),n(Qe,ht),n(ht,yt),Ye=!0,at||(et=[ee(b,"change",s[18]),ee(b,"change",s[19]),ee(Q,"change",s[20]),ee(Q,"change",s[21]),ee(ie,"click",s[22]),ee(Ce,"input",s[23]),ee(Ve,"click",s[24]),ee(ht,"click",s[29])],at=!0)},p(ge,ue){if((!Ye||ue[0]&1024)&&r!==(r=ge[10].t("WebUI Settings")+"")&&$(i,r),(!Ye||ue[0]&1024)&&p!==(p=ge[10].t("Theme")+"")&&$(g,p),(!Ye||ue[0]&1024)&&E!==(E=ge[10].t("System")+"")&&$(S,E),(!Ye||ue[0]&1024)&&I!==(I=ge[10].t("Dark")+"")&&$(T,I),(!Ye||ue[0]&1024)&&W!==(W=ge[10].t("OLED Dark")+"")&&$(L,W),(!Ye||ue[0]&1024)&&B!==(B=ge[10].t("Light")+"")&&$(A,B),ue[0]&2&&el(b,ge[1]),(!Ye||ue[0]&1024)&&Z!==(Z=ge[10].t("Language")+"")&&$(X,Z),ue[0]&4){Fe=nt(ge[2]);let be;for(be=0;be<Fe.length;be+=1){const qe=$s(ge,Fe,be);He[be]?He[be].p(qe,ue):(He[be]=js(qe),He[be].c(),He[be].m(Q,null))}for(;be<He.length;be+=1)He[be].d(1);He.length=Fe.length}ue[0]&12&&el(Q,ge[3]),ge[10].language==="en-US"?tt||(tt=zs(),tt.c(),tt.m(l,me)):tt&&(tt.d(1),tt=null),(!Ye||ue[0]&1024)&&ve!==(ve=ge[10].t("Notifications")+"")&&$(Te,ve),Ge===(Ge=xt(ge))&&Xe?Xe.p(ge,ue):(Xe.d(1),Xe=Ge(ge),Xe&&(Xe.c(),Xe.m(ie,null))),(!Ye||ue[0]&1024)&&Ie!==(Ie=ge[10].t("System Prompt")+"")&&$(Ke,Ie),ue[0]&32&&ze(Ce,ge[5]),(!Ye||ue[0]&1024)&&Oe!==(Oe=ge[10].t("Advanced Parameters")+"")&&$(Ue,Oe),(!Ye||ue[0]&1088)&&Se!==(Se=(ge[6]?ge[10].t("Hide"):ge[10].t("Show"))+"")&&$(We,Se),ge[6]?Pe?(Pe.p(ge,ue),ue[0]&64&&ae(Pe,1)):(Pe=Zs(ge),Pe.c(),ae(Pe,1),Pe.m(fe,null)):Pe&&(Lt(),ne(Pe,1,1,()=>{Pe=null}),Bt()),(!Ye||ue[0]&1024)&&vt!==(vt=ge[10].t("Save")+"")&&$(yt,vt)},i(ge){Ye||(ae(Pe),Ye=!0)},o(ge){ne(Pe),Ye=!1},d(ge){ge&&u(e),zt(He,ge),tt&&tt.d(),Xe.d(),Pe&&Pe.d(),at=!1,st(et)}}}function Ln(s,e,t){let l,a,r;Be(s,Gt,Z=>t(30,l=Z)),Be(s,fl,Z=>t(11,r=Z));const i=sl(),c=kt("i18n");Be(s,c,Z=>t(10,a=Z));let{saveSettings:f}=e,{getModels:m}=e,p=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],g="system",_=[],k=a.language,b=!1,y="",w=!1;const E=async()=>{await Notification.requestPermission()==="granted"?(t(4,b=!b),f({notificationEnabled:b})):Je.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let S="",V=null,D={seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null};const I=async()=>{S===""?t(7,S="json"):t(7,S=""),f({requestFormat:S!==""?S:void 0})};jt(async()=>{var Z,X;t(1,g=localStorage.theme??"system"),t(2,_=await Mr()),t(4,b=l.notificationEnabled??!1),t(5,y=l.system??""),t(7,S=l.requestFormat??""),t(8,V=l.keepAlive??null),t(9,D={...D,...l.params}),t(9,D.stop=(Z=l==null?void 0:l.params)!=null&&Z.stop?(((X=l==null?void 0:l.params)==null?void 0:X.stop)??[]).join(","):null,D)});const T=Z=>{let X=Z==="oled-dark"?"dark":Z;Z==="system"&&(X=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X==="dark"&&!Z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),p.filter(q=>q!==X).forEach(q=>{q.split(" ").forEach(F=>{document.documentElement.classList.remove(F)})}),X.split(" ").forEach(q=>{document.documentElement.classList.add(q)}),console.log(Z)},C=Z=>{fr.set(Z),localStorage.setItem("theme",Z),Z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),T(Z)};function R(){g=bl(this),t(1,g)}const W=()=>C(g);function L(){k=bl(this),t(3,k),t(2,_)}const K=Z=>{a.changeLanguage(k)},Y=()=>{E()};function B(){y=this.value,t(5,y)}const A=()=>{t(6,w=!w)};function O(Z){D=Z,t(9,D)}const U=()=>{t(8,V=V===null?"5m":null)};function P(){V=this.value,t(8,V)}const G=()=>{I()},j=()=>{f({system:y!==""?y:void 0,params:{seed:(D.seed!==null?D.seed:void 0)??void 0,stop:D.stop?D.stop.split(",").filter(Z=>Z):void 0,temperature:D.temperature!==null?D.temperature:void 0,frequency_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,repeat_last_n:D.repeat_last_n!==null?D.repeat_last_n:void 0,mirostat:D.mirostat!==null?D.mirostat:void 0,mirostat_eta:D.mirostat_eta!==null?D.mirostat_eta:void 0,mirostat_tau:D.mirostat_tau!==null?D.mirostat_tau:void 0,top_k:D.top_k!==null?D.top_k:void 0,top_p:D.top_p!==null?D.top_p:void 0,tfs_z:D.tfs_z!==null?D.tfs_z:void 0,num_ctx:D.num_ctx!==null?D.num_ctx:void 0,num_batch:D.num_batch!==null?D.num_batch:void 0,num_keep:D.num_keep!==null?D.num_keep:void 0,max_tokens:D.max_tokens!==null?D.max_tokens:void 0,use_mmap:D.use_mmap!==null?D.use_mmap:void 0,use_mlock:D.use_mlock!==null?D.use_mlock:void 0,num_thread:D.num_thread!==null?D.num_thread:void 0},keepAlive:V?isNaN(V)?V:parseInt(V):void 0}),i("save")};return s.$$set=Z=>{"saveSettings"in Z&&t(0,f=Z.saveSettings),"getModels"in Z&&t(17,m=Z.getModels)},[f,g,_,k,b,y,w,S,V,D,a,r,i,c,E,I,C,m,R,W,L,K,Y,B,A,O,U,P,G,j]}class Bn extends it{constructor(e){super(),ct(this,e,Ln,Sn,ot,{saveSettings:0,getModels:17},null,[-1,-1])}}function Ws(s,e,t){const l=s.slice();return l[36]=e[t],l}function Hn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Nn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function On(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Un(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Pn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function $n(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function jn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function zn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Zn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Rn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Wn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Fn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Fs(s){let e,t,l,a=s[11].t("Display the username instead of You in the Chat")+"",r,i,c,f,m;function p(k,b){return k[6]===!0?qn:Yn}let g=p(s),_=g(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),_.c(),this.h()},l(k){e=h(k,"DIV",{});var b=v(e);t=h(b,"DIV",{class:!0});var y=v(t);l=h(y,"DIV",{class:!0});var w=v(l);r=N(w,a),w.forEach(u),i=x(y),c=h(y,"BUTTON",{class:!0,type:!0});var E=v(c);_.l(E),E.forEach(u),y.forEach(u),b.forEach(u),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(c,"class","p-1 px-3 text-xs flex rounded transition"),o(c,"type","button"),o(t,"class","py-0.5 flex w-full justify-between")},m(k,b){z(k,e,b),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),_.m(c,null),f||(m=ee(c,"click",s[32]),f=!0)},p(k,b){b[0]&2048&&a!==(a=k[11].t("Display the username instead of You in the Chat")+"")&&$(r,a),g===(g=p(k))&&_?_.p(k,b):(_.d(1),_=g(k),_&&(_.c(),_.m(c,null)))},d(k){k&&u(e),_.d(),f=!1,m()}}}function Yn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function qn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Kn(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function Gn(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function Xn(s){let e,t=s[11].t("RTL")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("RTL")+"")&&$(l,t)},d(a){a&&u(e)}}}function Jn(s){let e,t=s[11].t("LTR")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&2048&&t!==(t=a[11].t("LTR")+"")&&$(l,t)},d(a){a&&u(e)}}}function Ys(s){let e,t=s[36].name+"",l,a;return{c(){e=d("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var i=v(e);l=N(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[36].id,ze(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,i){z(r,e,i),n(e,l)},p(r,i){i[0]&4096&&t!==(t=r[36].name+"")&&$(l,t),i[0]&4096&&a!==(a=r[36].id)&&(e.__value=a,ze(e,e.__value))},d(r){r&&u(e)}}}function Qn(s){let e,t,l,a,r=s[11].t("WebUI Add-ons")+"",i,c,f,m,p,g=s[11].t("Chat Bubble UI")+"",_,k,b,y,w,E,S,V=s[11].t("Widescreen Mode")+"",D,I,T,C,R,W,L,K=s[11].t("Title Auto-Generation")+"",Y,B,A,O,U,P,G,j=s[11].t("Response AutoCopy to Clipboard")+"",Z,X,q,F,Q,re,me,J=s[11].t("Allow User Location")+"",oe,he,ve,Te,pe,ie,te,se=s[11].t("Display Emoji in Call")+"",ce,_e,Me,Ie,Ke,xe,Ce,le,fe=s[11].t("Fluidly stream large external response chunks")+"",Ae,De,Oe,Ue,Le,Ve,Se,We=s[11].t("Chat direction")+"",_t,pt,Qe,ht,vt,yt,Ye,at,et,Fe,He=s[11].t("Default Model")+"",tt,xt,Ge,Xe,Pe,ge=s[11].t("Select a model")+"",ue,be,qe,Vt,Mt=s[11].t("Save")+"",rt,Zt,Nt;function Rt(de,Re){return de[7]===!0?Nn:Hn}let Wt=Rt(s),mt=Wt(s);function tl(de,Re){return de[2]===!0?Un:On}let Ot=tl(s),gt=Ot(s);function al(de,Re){return de[0]===!0?$n:Pn}let Ut=al(s),Dt=Ut(s);function Pt(de,Re){return de[1]===!0?zn:jn}let Xt=Pt(s),bt=Xt(s);function Jt(de,Re){return de[4]===!0?Rn:Zn}let Qt=Jt(s),Ct=Qt(s);function il(de,Re){return de[9]===!0?Fn:Wn}let cl=il(s),At=cl(s),wt=!s[10].chatBubble&&Fs(s);function ml(de,Re){return de[3]===!0?Gn:Kn}let rl=ml(s),Ft=rl(s);function Jl(de,Re){return de[8]==="LTR"?Jn:Xn}let wl=Jl(s),Yt=wl(s),ul=nt(s[12].filter(qs)),Tt=[];for(let de=0;de<ul.length;de+=1)Tt[de]=Ys(Ws(s,ul,de));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=H(r),c=M(),f=d("div"),m=d("div"),p=d("div"),_=H(g),k=M(),b=d("button"),mt.c(),y=M(),w=d("div"),E=d("div"),S=d("div"),D=H(V),I=M(),T=d("button"),gt.c(),C=M(),R=d("div"),W=d("div"),L=d("div"),Y=H(K),B=M(),A=d("button"),Dt.c(),O=M(),U=d("div"),P=d("div"),G=d("div"),Z=H(j),X=M(),q=d("button"),bt.c(),F=M(),Q=d("div"),re=d("div"),me=d("div"),oe=H(J),he=M(),ve=d("button"),Ct.c(),Te=M(),pe=d("div"),ie=d("div"),te=d("div"),ce=H(se),_e=M(),Me=d("button"),At.c(),Ie=M(),wt&&wt.c(),Ke=M(),xe=d("div"),Ce=d("div"),le=d("div"),Ae=H(fe),De=M(),Oe=d("button"),Ft.c(),Ue=M(),Le=d("div"),Ve=d("div"),Se=d("div"),_t=H(We),pt=M(),Qe=d("button"),Yt.c(),ht=M(),vt=d("hr"),yt=M(),Ye=d("div"),at=d("div"),et=d("div"),Fe=d("div"),tt=H(He),xt=M(),Ge=d("div"),Xe=d("select"),Pe=d("option"),ue=H(ge);for(let de=0;de<Tt.length;de+=1)Tt[de].c();be=M(),qe=d("div"),Vt=d("button"),rt=H(Mt),this.h()},l(de){e=h(de,"FORM",{class:!0});var Re=v(e);t=h(Re,"DIV",{class:!0});var lt=v(t);l=h(lt,"DIV",{});var ut=v(l);a=h(ut,"DIV",{class:!0});var Ql=v(a);i=N(Ql,r),Ql.forEach(u),c=x(ut),f=h(ut,"DIV",{});var es=v(f);m=h(es,"DIV",{class:!0});var kl=v(m);p=h(kl,"DIV",{class:!0});var ts=v(p);_=N(ts,g),ts.forEach(u),k=x(kl),b=h(kl,"BUTTON",{class:!0,type:!0});var ls=v(b);mt.l(ls),ls.forEach(u),kl.forEach(u),es.forEach(u),y=x(ut),w=h(ut,"DIV",{});var ss=v(w);E=h(ss,"DIV",{class:!0});var yl=v(E);S=h(yl,"DIV",{class:!0});var as=v(S);D=N(as,V),as.forEach(u),I=x(yl),T=h(yl,"BUTTON",{class:!0,type:!0});var rs=v(T);gt.l(rs),rs.forEach(u),yl.forEach(u),ss.forEach(u),C=x(ut),R=h(ut,"DIV",{});var ns=v(R);W=h(ns,"DIV",{class:!0});var El=v(W);L=h(El,"DIV",{class:!0});var os=v(L);Y=N(os,K),os.forEach(u),B=x(El),A=h(El,"BUTTON",{class:!0,type:!0});var is=v(A);Dt.l(is),is.forEach(u),El.forEach(u),ns.forEach(u),O=x(ut),U=h(ut,"DIV",{});var cs=v(U);P=h(cs,"DIV",{class:!0});var Il=v(P);G=h(Il,"DIV",{class:!0});var us=v(G);Z=N(us,j),us.forEach(u),X=x(Il),q=h(Il,"BUTTON",{class:!0,type:!0});var fs=v(q);bt.l(fs),fs.forEach(u),Il.forEach(u),cs.forEach(u),F=x(ut),Q=h(ut,"DIV",{});var ds=v(Q);re=h(ds,"DIV",{class:!0});var Dl=v(re);me=h(Dl,"DIV",{class:!0});var hs=v(me);oe=N(hs,J),hs.forEach(u),he=x(Dl),ve=h(Dl,"BUTTON",{class:!0,type:!0});var vs=v(ve);Ct.l(vs),vs.forEach(u),Dl.forEach(u),ds.forEach(u),Te=x(ut),pe=h(ut,"DIV",{});var ms=v(pe);ie=h(ms,"DIV",{class:!0});var Tl=v(ie);te=h(Tl,"DIV",{class:!0});var _s=v(te);ce=N(_s,se),_s.forEach(u),_e=x(Tl),Me=h(Tl,"BUTTON",{class:!0,type:!0});var ps=v(Me);At.l(ps),ps.forEach(u),Tl.forEach(u),ms.forEach(u),Ie=x(ut),wt&&wt.l(ut),Ke=x(ut),xe=h(ut,"DIV",{});var gs=v(xe);Ce=h(gs,"DIV",{class:!0});var Vl=v(Ce);le=h(Vl,"DIV",{class:!0});var bs=v(le);Ae=N(bs,fe),bs.forEach(u),De=x(Vl),Oe=h(Vl,"BUTTON",{class:!0,type:!0});var ws=v(Oe);Ft.l(ws),ws.forEach(u),Vl.forEach(u),gs.forEach(u),ut.forEach(u),Ue=x(lt),Le=h(lt,"DIV",{});var ks=v(Le);Ve=h(ks,"DIV",{class:!0});var Cl=v(Ve);Se=h(Cl,"DIV",{class:!0});var ys=v(Se);_t=N(ys,We),ys.forEach(u),pt=x(Cl),Qe=h(Cl,"BUTTON",{class:!0,type:!0});var Es=v(Qe);Yt.l(Es),Es.forEach(u),Cl.forEach(u),ks.forEach(u),ht=x(lt),vt=h(lt,"HR",{class:!0}),yt=x(lt),Ye=h(lt,"DIV",{class:!0});var Ml=v(Ye);at=h(Ml,"DIV",{class:!0});var Is=v(at);et=h(Is,"DIV",{class:!0});var Ds=v(et);Fe=h(Ds,"DIV",{class:!0});var Ts=v(Fe);tt=N(Ts,He),Ts.forEach(u),Ds.forEach(u),Is.forEach(u),xt=x(Ml),Ge=h(Ml,"DIV",{class:!0});var Vs=v(Ge);Xe=h(Vs,"SELECT",{class:!0,placeholder:!0});var Nl=v(Xe);Pe=h(Nl,"OPTION",{});var Cs=v(Pe);ue=N(Cs,ge),Cs.forEach(u);for(let Ol=0;Ol<Tt.length;Ol+=1)Tt[Ol].l(Nl);Nl.forEach(u),Vs.forEach(u),Ml.forEach(u),lt.forEach(u),be=x(Re),qe=h(Re,"DIV",{class:!0});var Ms=v(qe);Vt=h(Ms,"BUTTON",{class:!0,type:!0});var xs=v(Vt);rt=N(xs,Mt),xs.forEach(u),Ms.forEach(u),Re.forEach(u),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(p,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(m,"class","py-0.5 flex w-full justify-between"),o(S,"class","self-center text-xs font-medium"),o(T,"class","p-1 px-3 text-xs flex rounded transition"),o(T,"type","button"),o(E,"class","py-0.5 flex w-full justify-between"),o(L,"class","self-center text-xs font-medium"),o(A,"class","p-1 px-3 text-xs flex rounded transition"),o(A,"type","button"),o(W,"class","py-0.5 flex w-full justify-between"),o(G,"class","self-center text-xs font-medium"),o(q,"class","p-1 px-3 text-xs flex rounded transition"),o(q,"type","button"),o(P,"class","py-0.5 flex w-full justify-between"),o(me,"class","self-center text-xs font-medium"),o(ve,"class","p-1 px-3 text-xs flex rounded transition"),o(ve,"type","button"),o(re,"class","py-0.5 flex w-full justify-between"),o(te,"class","self-center text-xs font-medium"),o(Me,"class","p-1 px-3 text-xs flex rounded transition"),o(Me,"type","button"),o(ie,"class","py-0.5 flex w-full justify-between"),o(le,"class","self-center text-xs font-medium"),o(Oe,"class","p-1 px-3 text-xs flex rounded transition"),o(Oe,"type","button"),o(Ce,"class","py-0.5 flex w-full justify-between"),o(Se,"class","self-center text-xs font-medium"),o(Qe,"class","p-1 px-3 text-xs flex rounded transition"),o(Qe,"type","button"),o(Ve,"class","py-0.5 flex w-full justify-between"),o(vt,"class","dark:border-gray-850"),o(Fe,"class","text-xs font-medium"),o(et,"class","flex justify-between items-center text-xs"),o(at,"class","mb-2"),Pe.__value="",ze(Pe,Pe.__value),Pe.disabled=!0,Pe.selected=!0,o(Xe,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Xe,"placeholder","Select a model"),s[5]===void 0&&gl(()=>s[34].call(Xe)),o(Ge,"class","flex-1 mr-2"),o(Ye,"class","space-y-1 mb-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(Vt,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(Vt,"type","submit"),o(qe,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,Re){z(de,e,Re),n(e,t),n(t,l),n(l,a),n(a,i),n(l,c),n(l,f),n(f,m),n(m,p),n(p,_),n(m,k),n(m,b),mt.m(b,null),n(l,y),n(l,w),n(w,E),n(E,S),n(S,D),n(E,I),n(E,T),gt.m(T,null),n(l,C),n(l,R),n(R,W),n(W,L),n(L,Y),n(W,B),n(W,A),Dt.m(A,null),n(l,O),n(l,U),n(U,P),n(P,G),n(G,Z),n(P,X),n(P,q),bt.m(q,null),n(l,F),n(l,Q),n(Q,re),n(re,me),n(me,oe),n(re,he),n(re,ve),Ct.m(ve,null),n(l,Te),n(l,pe),n(pe,ie),n(ie,te),n(te,ce),n(ie,_e),n(ie,Me),At.m(Me,null),n(l,Ie),wt&&wt.m(l,null),n(l,Ke),n(l,xe),n(xe,Ce),n(Ce,le),n(le,Ae),n(Ce,De),n(Ce,Oe),Ft.m(Oe,null),n(t,Ue),n(t,Le),n(Le,Ve),n(Ve,Se),n(Se,_t),n(Ve,pt),n(Ve,Qe),Yt.m(Qe,null),n(t,ht),n(t,vt),n(t,yt),n(t,Ye),n(Ye,at),n(at,et),n(et,Fe),n(Fe,tt),n(Ye,xt),n(Ye,Ge),n(Ge,Xe),n(Xe,Pe),n(Pe,ue);for(let lt=0;lt<Tt.length;lt+=1)Tt[lt]&&Tt[lt].m(Xe,null);el(Xe,s[5],!0),n(e,be),n(e,qe),n(qe,Vt),n(Vt,rt),Zt||(Nt=[ee(b,"click",s[26]),ee(T,"click",s[27]),ee(A,"click",s[28]),ee(q,"click",s[29]),ee(ve,"click",s[30]),ee(Me,"click",s[31]),ee(Oe,"click",s[33]),ee(Qe,"click",s[23]),ee(Xe,"change",s[34]),ee(e,"submit",hl(s[35]))],Zt=!0)},p(de,Re){if(Re[0]&2048&&r!==(r=de[11].t("WebUI Add-ons")+"")&&$(i,r),Re[0]&2048&&g!==(g=de[11].t("Chat Bubble UI")+"")&&$(_,g),Wt===(Wt=Rt(de))&&mt?mt.p(de,Re):(mt.d(1),mt=Wt(de),mt&&(mt.c(),mt.m(b,null))),Re[0]&2048&&V!==(V=de[11].t("Widescreen Mode")+"")&&$(D,V),Ot===(Ot=tl(de))&&gt?gt.p(de,Re):(gt.d(1),gt=Ot(de),gt&&(gt.c(),gt.m(T,null))),Re[0]&2048&&K!==(K=de[11].t("Title Auto-Generation")+"")&&$(Y,K),Ut===(Ut=al(de))&&Dt?Dt.p(de,Re):(Dt.d(1),Dt=Ut(de),Dt&&(Dt.c(),Dt.m(A,null))),Re[0]&2048&&j!==(j=de[11].t("Response AutoCopy to Clipboard")+"")&&$(Z,j),Xt===(Xt=Pt(de))&&bt?bt.p(de,Re):(bt.d(1),bt=Xt(de),bt&&(bt.c(),bt.m(q,null))),Re[0]&2048&&J!==(J=de[11].t("Allow User Location")+"")&&$(oe,J),Qt===(Qt=Jt(de))&&Ct?Ct.p(de,Re):(Ct.d(1),Ct=Qt(de),Ct&&(Ct.c(),Ct.m(ve,null))),Re[0]&2048&&se!==(se=de[11].t("Display Emoji in Call")+"")&&$(ce,se),cl===(cl=il(de))&&At?At.p(de,Re):(At.d(1),At=cl(de),At&&(At.c(),At.m(Me,null))),de[10].chatBubble?wt&&(wt.d(1),wt=null):wt?wt.p(de,Re):(wt=Fs(de),wt.c(),wt.m(l,Ke)),Re[0]&2048&&fe!==(fe=de[11].t("Fluidly stream large external response chunks")+"")&&$(Ae,fe),rl===(rl=ml(de))&&Ft?Ft.p(de,Re):(Ft.d(1),Ft=rl(de),Ft&&(Ft.c(),Ft.m(Oe,null))),Re[0]&2048&&We!==(We=de[11].t("Chat direction")+"")&&$(_t,We),wl===(wl=Jl(de))&&Yt?Yt.p(de,Re):(Yt.d(1),Yt=wl(de),Yt&&(Yt.c(),Yt.m(Qe,null))),Re[0]&2048&&He!==(He=de[11].t("Default Model")+"")&&$(tt,He),Re[0]&2048&&ge!==(ge=de[11].t("Select a model")+"")&&$(ue,ge),Re[0]&4096){ul=nt(de[12].filter(qs));let lt;for(lt=0;lt<ul.length;lt+=1){const ut=Ws(de,ul,lt);Tt[lt]?Tt[lt].p(ut,Re):(Tt[lt]=Ys(ut),Tt[lt].c(),Tt[lt].m(Xe,null))}for(;lt<Tt.length;lt+=1)Tt[lt].d(1);Tt.length=ul.length}Re[0]&4128&&el(Xe,de[5]),Re[0]&2048&&Mt!==(Mt=de[11].t("Save")+"")&&$(rt,Mt)},i:Ze,o:Ze,d(de){de&&u(e),mt.d(),gt.d(),Dt.d(),bt.d(),Ct.d(),At.d(),wt&&wt.d(),Ft.d(),Yt.d(),zt(Tt,de),Zt=!1,st(Nt)}}}const qs=s=>s.id;function eo(s,e,t){let l,a,r;Be(s,Gt,F=>t(10,l=F)),Be(s,Kl,F=>t(12,r=F));const i=sl(),c=kt("i18n");Be(s,c,F=>t(11,a=F));let{saveSettings:f}=e,m=!0,p=!1,g=!1,_=!1,k=!1,b="",y=!1,w=!0,E="LTR",S=!1;const V=async()=>{t(3,_=!_),f({splitLargeChunks:_})},D=async()=>{t(2,g=!g),f({widescreenMode:g})},I=async()=>{t(7,w=!w),f({chatBubble:w})},T=async()=>{t(6,y=!y),f({showUsername:y})},C=async()=>{t(9,S=!S),f({showEmojiInCall:S})},R=async()=>{if(t(4,k=!k),k){const F=await Dr().catch(Q=>(Je.error(Q.message),null));F?(await Ga(localStorage.token,{location:F}),Je.success("User location successfully retrieved.")):t(4,k=!1)}f({userLocation:k})},W=async()=>{t(0,m=!m),f({title:{...l.title,auto:m}})},L=async()=>{const F=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(F),F==="granted"?(t(1,p=!p),f({responseAutoCopy:p})):Je.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},K=async()=>{t(8,E=E==="LTR"?"RTL":"LTR"),f({chatDirection:E})},Y=async()=>{f({models:[b]})};jt(async()=>{var F;t(0,m=((F=l==null?void 0:l.title)==null?void 0:F.auto)??!0),t(1,p=l.responseAutoCopy??!1),t(6,y=l.showUsername??!1),t(9,S=l.showEmojiInCall??!1),t(7,w=l.chatBubble??!0),t(2,g=l.widescreenMode??!1),t(3,_=l.splitLargeChunks??!1),t(8,E=l.chatDirection??"LTR"),t(4,k=l.userLocation??!1),t(5,b=((l==null?void 0:l.models)??[""]).at(0))});const B=()=>{I()},A=()=>{D()},O=()=>{W()},U=()=>{L()},P=()=>{R()},G=()=>{C()},j=()=>{T()},Z=()=>{V()};function X(){b=bl(this),t(5,b)}const q=()=>{Y(),i("save")};return s.$$set=F=>{"saveSettings"in F&&t(25,f=F.saveSettings)},[m,p,g,_,k,b,y,w,E,S,l,a,r,i,c,V,D,I,T,C,R,W,L,K,Y,f,B,A,O,U,P,G,j,Z,X,q]}class to extends it{constructor(e){super(),ct(this,e,eo,Qn,ot,{saveSettings:25},null,[-1,-1])}}function Ks(s,e,t){const l=s.slice();return l[8]=e[t],l}function Gs(s,e,t){const l=s.slice();return l[25]=e[t],l}function Xs(s){let e,t,l=s[7].t("Speech-to-Text Engine")+"",a,r,i,c,f,m=s[7].t("Default")+"",p,g,_=s[7].t("Web API")+"",k,b,y;return{c(){e=d("div"),t=d("div"),a=H(l),r=M(),i=d("div"),c=d("select"),f=d("option"),p=H(m),g=d("option"),k=H(_),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var S=v(t);a=N(S,l),S.forEach(u),r=x(E),i=h(E,"DIV",{class:!0});var V=v(i);c=h(V,"SELECT",{class:!0,placeholder:!0});var D=v(c);f=h(D,"OPTION",{});var I=v(f);p=N(I,m),I.forEach(u),g=h(D,"OPTION",{});var T=v(g);k=N(T,_),T.forEach(u),D.forEach(u),V.forEach(u),E.forEach(u),this.h()},h(){o(t,"class","self-center text-xs font-medium"),f.__value="",ze(f,f.__value),g.__value="web",ze(g,g.__value),o(c,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(c,"placeholder","Select an engine"),s[4]===void 0&&gl(()=>s[13].call(c)),o(i,"class","flex items-center relative"),o(e,"class","py-0.5 flex w-full justify-between")},m(w,E){z(w,e,E),n(e,t),n(t,a),n(e,r),n(e,i),n(i,c),n(c,f),n(f,p),n(c,g),n(g,k),el(c,s[4],!0),b||(y=ee(c,"change",s[13]),b=!0)},p(w,E){E&128&&l!==(l=w[7].t("Speech-to-Text Engine")+"")&&$(a,l),E&128&&m!==(m=w[7].t("Default")+"")&&$(p,m),E&128&&_!==(_=w[7].t("Web API")+"")&&$(k,_),E&16&&el(c,w[4])},d(w){w&&u(e),b=!1,y()}}}function lo(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function so(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function ao(s){let e,t=s[7].t("Off")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("Off")+"")&&$(l,t)},d(a){a&&u(e)}}}function ro(s){let e,t=s[7].t("On")+"",l;return{c(){e=d("span"),l=H(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&128&&t!==(t=a[7].t("On")+"")&&$(l,t)},d(a){a&&u(e)}}}function no(s){let e,t,l=s[7].t("Set Voice")+"",a,r,i,c,f,m,p,g,_,k=nt(s[5]),b=[];for(let y=0;y<k.length;y+=1)b[y]=Js(Ks(s,k,y));return{c(){e=d("div"),t=d("div"),a=H(l),r=M(),i=d("div"),c=d("div"),f=d("input"),m=M(),p=d("datalist");for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){e=h(y,"DIV",{});var w=v(e);t=h(w,"DIV",{class:!0});var E=v(t);a=N(E,l),E.forEach(u),r=x(w),i=h(w,"DIV",{class:!0});var S=v(i);c=h(S,"DIV",{class:!0});var V=v(c);f=h(V,"INPUT",{list:!0,class:!0,placeholder:!0}),m=x(V),p=h(V,"DATALIST",{id:!0});var D=v(p);for(let I=0;I<b.length;I+=1)b[I].l(D);D.forEach(u),V.forEach(u),S.forEach(u),w.forEach(u),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(f,"list","voice-list"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder","Select a voice"),o(p,"id","voice-list"),o(c,"class","flex-1"),o(i,"class","flex w-full")},m(y,w){z(y,e,w),n(e,t),n(t,a),n(e,r),n(e,i),n(i,c),n(c,f),ze(f,s[8]),n(c,m),n(c,p);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(p,null);g||(_=ee(f,"input",s[19]),g=!0)},p(y,w){if(w&128&&l!==(l=y[7].t("Set Voice")+"")&&$(a,l),w&296&&f.value!==y[8]&&ze(f,y[8]),w&32){k=nt(y[5]);let E;for(E=0;E<k.length;E+=1){const S=Ks(y,k,E);b[E]?b[E].p(S,w):(b[E]=Js(S),b[E].c(),b[E].m(p,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=k.length}},i:Ze,o:Ze,d(y){y&&u(e),zt(b,y),g=!1,_()}}}function oo(s){let e,t,l=s[7].t("Set Voice")+"",a,r,i,c,f,m,p=s[7].t("Default")+"",g,_,k,b,y,w=s[7].t("Allow non-local voices")+"",E,S,V,D,I,T,C,R,W=nt(s[5].filter(s[16])),L=[];for(let B=0;B<W.length;B+=1)L[B]=Qs(Gs(s,W,B));function K(B){s[18](B)}let Y={};return s[3]!==void 0&&(Y.state=s[3]),D=new za({props:Y}),dt.push(()=>It(D,"state",K)),{c(){e=d("div"),t=d("div"),a=H(l),r=M(),i=d("div"),c=d("div"),f=d("select"),m=d("option"),g=H(p);for(let B=0;B<L.length;B+=1)L[B].c();k=M(),b=d("div"),y=d("div"),E=H(w),S=M(),V=d("div"),we(D.$$.fragment),this.h()},l(B){e=h(B,"DIV",{});var A=v(e);t=h(A,"DIV",{class:!0});var O=v(t);a=N(O,l),O.forEach(u),r=x(A),i=h(A,"DIV",{class:!0});var U=v(i);c=h(U,"DIV",{class:!0});var P=v(c);f=h(P,"SELECT",{class:!0});var G=v(f);m=h(G,"OPTION",{});var j=v(m);g=N(j,p),j.forEach(u);for(let F=0;F<L.length;F+=1)L[F].l(G);G.forEach(u),P.forEach(u),U.forEach(u),k=x(A),b=h(A,"DIV",{class:!0});var Z=v(b);y=h(Z,"DIV",{class:!0});var X=v(y);E=N(X,w),X.forEach(u),S=x(Z),V=h(Z,"DIV",{class:!0});var q=v(V);ke(D.$$.fragment,q),q.forEach(u),Z.forEach(u),A.forEach(u),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),m.__value="",ze(m,m.__value),m.selected=_=s[8]!=="",o(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[8]===void 0&&gl(()=>s[17].call(f)),o(c,"class","flex-1"),o(i,"class","flex w-full"),o(y,"class","text-xs"),o(V,"class","mt-1"),o(b,"class","flex items-center justify-between my-1.5")},m(B,A){z(B,e,A),n(e,t),n(t,a),n(e,r),n(e,i),n(i,c),n(c,f),n(f,m),n(m,g);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(f,null);el(f,s[8],!0),n(e,k),n(e,b),n(b,y),n(y,E),n(b,S),n(b,V),ye(D,V,null),T=!0,C||(R=ee(f,"change",s[17]),C=!0)},p(B,A){if((!T||A&128)&&l!==(l=B[7].t("Set Voice")+"")&&$(a,l),(!T||A&128)&&p!==(p=B[7].t("Default")+"")&&$(g,p),(!T||A&296&&_!==(_=B[8]!==""))&&(m.selected=_),A&296){W=nt(B[5].filter(B[16]));let U;for(U=0;U<W.length;U+=1){const P=Gs(B,W,U);L[U]?L[U].p(P,A):(L[U]=Qs(P),L[U].c(),L[U].m(f,null))}for(;U<L.length;U+=1)L[U].d(1);L.length=W.length}A&296&&el(f,B[8]),(!T||A&128)&&w!==(w=B[7].t("Allow non-local voices")+"")&&$(E,w);const O={};!I&&A&8&&(I=!0,O.state=B[3],Et(()=>I=!1)),D.$set(O)},i(B){T||(ae(D.$$.fragment,B),T=!0)},o(B){ne(D.$$.fragment,B),T=!1},d(B){B&&u(e),zt(L,B),Ee(D),C=!1,R()}}}function Js(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),v(e).forEach(u),this.h()},h(){e.__value=t=s[8].name,ze(e,e.__value)},m(l,a){z(l,e,a)},p(l,a){a&32&&t!==(t=l[8].name)&&(e.__value=t,ze(e,e.__value))},d(l){l&&u(e)}}}function Qs(s){let e,t=s[25].name+"",l,a,r;return{c(){e=d("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=v(e);l=N(c,t),c.forEach(u),this.h()},h(){e.__value=a=s[25].name,ze(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=s[8]===s[25].name},m(i,c){z(i,e,c),n(e,l)},p(i,c){c&40&&t!==(t=i[25].name+"")&&$(l,t),c&40&&a!==(a=i[25].name)&&(e.__value=a,ze(e,e.__value)),c&296&&r!==(r=i[8]===i[25].name)&&(e.selected=r)},d(i){i&&u(e)}}}function io(s){let e,t,l,a,r=s[7].t("STT Settings")+"",i,c,f,m,p,g=s[7].t("Instant Auto-Send After Voice Transcription")+"",_,k,b,y,w,E,S=s[7].t("TTS Settings")+"",V,D,I,T,C=s[7].t("Auto-playback response")+"",R,W,L,K,Y,B,A,O,U,P,G,j=s[7].t("Save")+"",Z,X,q,F,Q=s[6].audio.stt.engine!=="web"&&Xs(s);function re(te,se){return te[1]===!0?so:lo}let me=re(s),J=me(s);function oe(te,se){return te[2]===!0?ro:ao}let he=oe(s),ve=he(s);const Te=[oo,no],pe=[];function ie(te,se){return te[6].audio.tts.engine===""?0:te[6].audio.tts.engine==="openai"?1:-1}return~(A=ie(s))&&(O=pe[A]=Te[A](s)),{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=H(r),c=M(),Q&&Q.c(),f=M(),m=d("div"),p=d("div"),_=H(g),k=M(),b=d("button"),J.c(),y=M(),w=d("div"),E=d("div"),V=H(S),D=M(),I=d("div"),T=d("div"),R=H(C),W=M(),L=d("button"),ve.c(),K=M(),Y=d("hr"),B=M(),O&&O.c(),U=M(),P=d("div"),G=d("button"),Z=H(j),this.h()},l(te){e=h(te,"FORM",{class:!0});var se=v(e);t=h(se,"DIV",{class:!0});var ce=v(t);l=h(ce,"DIV",{});var _e=v(l);a=h(_e,"DIV",{class:!0});var Me=v(a);i=N(Me,r),Me.forEach(u),c=x(_e),Q&&Q.l(_e),f=x(_e),m=h(_e,"DIV",{class:!0});var Ie=v(m);p=h(Ie,"DIV",{class:!0});var Ke=v(p);_=N(Ke,g),Ke.forEach(u),k=x(Ie),b=h(Ie,"BUTTON",{class:!0,type:!0});var xe=v(b);J.l(xe),xe.forEach(u),Ie.forEach(u),_e.forEach(u),y=x(ce),w=h(ce,"DIV",{});var Ce=v(w);E=h(Ce,"DIV",{class:!0});var le=v(E);V=N(le,S),le.forEach(u),D=x(Ce),I=h(Ce,"DIV",{class:!0});var fe=v(I);T=h(fe,"DIV",{class:!0});var Ae=v(T);R=N(Ae,C),Ae.forEach(u),W=x(fe),L=h(fe,"BUTTON",{class:!0,type:!0});var De=v(L);ve.l(De),De.forEach(u),fe.forEach(u),Ce.forEach(u),K=x(ce),Y=h(ce,"HR",{class:!0}),B=x(ce),O&&O.l(ce),ce.forEach(u),U=x(se),P=h(se,"DIV",{class:!0});var Oe=v(P);G=h(Oe,"BUTTON",{class:!0,type:!0});var Ue=v(G);Z=N(Ue,j),Ue.forEach(u),Oe.forEach(u),se.forEach(u),this.h()},h(){o(a,"class","mb-1 text-sm font-medium"),o(p,"class","self-center text-xs font-medium"),o(b,"class","p-1 px-3 text-xs flex rounded transition"),o(b,"type","button"),o(m,"class","py-0.5 flex w-full justify-between"),o(E,"class","mb-1 text-sm font-medium"),o(T,"class","self-center text-xs font-medium"),o(L,"class","p-1 px-3 text-xs flex rounded transition"),o(L,"type","button"),o(I,"class","py-0.5 flex w-full justify-between"),o(Y,"class","dark:border-gray-850"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),o(G,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(G,"type","submit"),o(P,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(te,se){z(te,e,se),n(e,t),n(t,l),n(l,a),n(a,i),n(l,c),Q&&Q.m(l,null),n(l,f),n(l,m),n(m,p),n(p,_),n(m,k),n(m,b),J.m(b,null),n(t,y),n(t,w),n(w,E),n(E,V),n(w,D),n(w,I),n(I,T),n(T,R),n(I,W),n(I,L),ve.m(L,null),n(t,K),n(t,Y),n(t,B),~A&&pe[A].m(t,null),n(e,U),n(e,P),n(P,G),n(G,Z),X=!0,q||(F=[ee(b,"click",s[14]),ee(L,"click",s[15]),ee(e,"submit",hl(s[20]))],q=!0)},p(te,[se]){(!X||se&128)&&r!==(r=te[7].t("STT Settings")+"")&&$(i,r),te[6].audio.stt.engine!=="web"?Q?Q.p(te,se):(Q=Xs(te),Q.c(),Q.m(l,f)):Q&&(Q.d(1),Q=null),(!X||se&128)&&g!==(g=te[7].t("Instant Auto-Send After Voice Transcription")+"")&&$(_,g),me===(me=re(te))&&J?J.p(te,se):(J.d(1),J=me(te),J&&(J.c(),J.m(b,null))),(!X||se&128)&&S!==(S=te[7].t("TTS Settings")+"")&&$(V,S),(!X||se&128)&&C!==(C=te[7].t("Auto-playback response")+"")&&$(R,C),he===(he=oe(te))&&ve?ve.p(te,se):(ve.d(1),ve=he(te),ve&&(ve.c(),ve.m(L,null)));let ce=A;A=ie(te),A===ce?~A&&pe[A].p(te,se):(O&&(Lt(),ne(pe[ce],1,1,()=>{pe[ce]=null}),Bt()),~A?(O=pe[A],O?O.p(te,se):(O=pe[A]=Te[A](te),O.c()),ae(O,1),O.m(t,null)):O=null),(!X||se&128)&&j!==(j=te[7].t("Save")+"")&&$(Z,j)},i(te){X||(ae(O),X=!0)},o(te){ne(O),X=!1},d(te){te&&u(e),Q&&Q.d(),J.d(),ve.d(),~A&&pe[A].d(),q=!1,st(F)}}}function co(s,e,t){let l,a,r;Be(s,Gl,K=>t(6,l=K)),Be(s,Gt,K=>t(22,a=K));const i=sl(),c=kt("i18n");Be(s,c,K=>t(7,r=K));let{saveSettings:f}=e,m=!1,p=!1,g=!1,_="",k=[],b="";const y=()=>{t(5,k=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},w=()=>{const K=setInterval(async()=>{t(5,k=await speechSynthesis.getVoices()),k.length>0&&clearInterval(K)},100)},E=async()=>{t(2,p=!p),f({responseAutoPlayback:p})},S=async()=>{t(1,m=!m),f({speechAutoSend:m})};jt(async()=>{var K,Y,B,A,O,U;a.conversationMode,t(1,m=a.speechAutoSend??!1),t(2,p=a.responseAutoPlayback??!1),t(4,_=((Y=(K=a==null?void 0:a.audio)==null?void 0:K.stt)==null?void 0:Y.engine)??""),t(8,b=((A=(B=a==null?void 0:a.audio)==null?void 0:B.tts)==null?void 0:A.voice)??l.audio.tts.voice??""),t(3,g=((U=(O=a.audio)==null?void 0:O.tts)==null?void 0:U.nonLocalVoices)??!1),l.audio.tts.engine==="openai"?y():w()});function V(){_=bl(this),t(4,_)}const D=()=>{S()},I=()=>{E()},T=K=>g||K.localService===!0;function C(){b=bl(this),t(8,b),t(5,k),t(3,g)}function R(K){g=K,t(3,g)}function W(){b=this.value,t(8,b),t(5,k),t(3,g)}const L=async()=>{f({audio:{stt:{engine:_!==""?_:void 0},tts:{voice:b!==""?b:void 0,nonLocalVoices:l.audio.tts.engine===""?g:void 0}}}),i("save")};return s.$$set=K=>{"saveSettings"in K&&t(0,f=K.saveSettings)},[f,m,p,g,_,k,l,r,b,i,c,E,S,V,D,I,T,C,R,W,L]}class uo extends it{constructor(e){super(),ct(this,e,co,io,ot,{saveSettings:0})}}function fo(s){let e,t,l,a,r,i=s[5].t("Off")+"",c;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),a=M(),r=d("span"),c=H(i),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var m=v(e);t=je(m,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=je(m,"path",{d:!0}),v(l).forEach(u),m.forEach(u),a=x(f),r=h(f,"SPAN",{class:!0});var p=v(r);c=N(p,i),p.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(r,"class","ml-2 self-center")},m(f,m){z(f,e,m),n(e,t),n(e,l),z(f,a,m),z(f,r,m),n(r,c)},p(f,m){m&32&&i!==(i=f[5].t("Off")+"")&&$(c,i)},d(f){f&&(u(e),u(a),u(r))}}}function ho(s){let e,t,l,a,r,i=s[5].t("On")+"",c;return{c(){e=$e("svg"),t=$e("path"),l=$e("path"),a=M(),r=d("span"),c=H(i),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var m=v(e);t=je(m,"path",{d:!0}),v(t).forEach(u),l=je(m,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),m.forEach(u),a=x(f),r=h(f,"SPAN",{class:!0});var p=v(r);c=N(p,i),p.forEach(u),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(r,"class","ml-2 self-center")},m(f,m){z(f,e,m),n(e,t),n(e,l),z(f,a,m),z(f,r,m),n(r,c)},p(f,m){m&32&&i!==(i=f[5].t("On")+"")&&$(c,i)},d(f){f&&(u(e),u(a),u(r))}}}function vo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,r,i=s[5].t("Archive All Chats")+"",c,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),r=d("div"),c=H(i),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=x(g),r=h(g,"DIV",{class:!0});var _=v(r);c=N(_,i),_.forEach(u),g.forEach(u),this.h()},h(){o(t,"class","self-center mr-3"),o(r,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,g){z(p,e,g),n(e,t),n(e,a),n(e,r),n(r,c),f||(m=ee(e,"click",s[19]),f=!0)},p(p,g){g&32&&i!==(i=p[5].t("Archive All Chats")+"")&&$(c,i)},d(p){p&&u(e),f=!1,m()}}}function mo(s){let e,t,l,a,r,i,c,f=s[5].t("Are you sure?")+"",m,p,g,_,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,y,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,S;return{c(){e=d("div"),t=d("div"),l=$e("svg"),a=$e("path"),r=$e("path"),i=M(),c=d("span"),m=H(f),p=M(),g=d("div"),_=d("button"),_.innerHTML=k,b=M(),y=d("button"),y.innerHTML=w,this.h()},l(V){e=h(V,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=je(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var T=v(l);a=je(T,"path",{d:!0}),v(a).forEach(u),r=je(T,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),T.forEach(u),i=x(I),c=h(I,"SPAN",{});var C=v(c);m=N(C,f),C.forEach(u),I.forEach(u),p=x(D),g=h(D,"DIV",{class:!0});var R=v(g);_=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(_)!=="svelte-88c061"&&(_.innerHTML=k),b=x(R),y=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(y)!=="svelte-1601eo8"&&(y.innerHTML=w),R.forEach(u),D.forEach(u),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(r,"fill-rule","evenodd"),o(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(r,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(_,"class","hover:text-white transition"),o(y,"class","hover:text-white transition"),o(g,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,a),n(l,r),n(t,i),n(t,c),n(c,m),n(e,p),n(e,g),n(g,_),n(g,b),n(g,y),E||(S=[ee(_,"click",s[17]),ee(y,"click",s[18])],E=!0)},p(V,D){D&32&&f!==(f=V[5].t("Are you sure?")+"")&&$(m,f)},d(V){V&&u(e),E=!1,st(S)}}}function _o(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,r,i=s[5].t("Delete All Chats")+"",c,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),r=d("div"),c=H(i),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=x(g),r=h(g,"DIV",{class:!0});var _=v(r);c=N(_,i),_.forEach(u),g.forEach(u),this.h()},h(){o(t,"class","self-center mr-3"),o(r,"class","self-center text-sm font-medium"),o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,g){z(p,e,g),n(e,t),n(e,a),n(e,r),n(r,c),f||(m=ee(e,"click",s[22]),f=!0)},p(p,g){g&32&&i!==(i=p[5].t("Delete All Chats")+"")&&$(c,i)},d(p){p&&u(e),f=!1,m()}}}function po(s){let e,t,l,a,r,i,c,f=s[5].t("Are you sure?")+"",m,p,g,_,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',b,y,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,S;return{c(){e=d("div"),t=d("div"),l=$e("svg"),a=$e("path"),r=$e("path"),i=M(),c=d("span"),m=H(f),p=M(),g=d("div"),_=d("button"),_.innerHTML=k,b=M(),y=d("button"),y.innerHTML=w,this.h()},l(V){e=h(V,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var I=v(t);l=je(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var T=v(l);a=je(T,"path",{d:!0}),v(a).forEach(u),r=je(T,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),T.forEach(u),i=x(I),c=h(I,"SPAN",{});var C=v(c);m=N(C,f),C.forEach(u),I.forEach(u),p=x(D),g=h(D,"DIV",{class:!0});var R=v(g);_=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(_)!=="svelte-19nv6qp"&&(_.innerHTML=k),b=x(R),y=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(y)!=="svelte-ekcykx"&&(y.innerHTML=w),R.forEach(u),D.forEach(u),this.h()},h(){o(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),o(r,"fill-rule","evenodd"),o(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),o(r,"clip-rule","evenodd"),o(l,"xmlns","http://www.w3.org/2000/svg"),o(l,"viewBox","0 0 16 16"),o(l,"fill","currentColor"),o(l,"class","w-4 h-4"),o(t,"class","flex items-center space-x-3"),o(_,"class","hover:text-white transition"),o(y,"class","hover:text-white transition"),o(g,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,a),n(l,r),n(t,i),n(t,c),n(c,m),n(e,p),n(e,g),n(g,_),n(g,b),n(g,y),E||(S=[ee(_,"click",s[20]),ee(y,"click",s[21])],E=!0)},p(V,D){D&32&&f!==(f=V[5].t("Are you sure?")+"")&&$(m,f)},d(V){V&&u(e),E=!1,st(S)}}}function go(s){let e,t,l,a,r,i=s[5].t("Chat History")+"",c,f,m,p,g,_=s[5].t("This setting does not sync across browsers or devices.")+"",k,b,y,w,E,S,V,D,I,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',C,R,W=s[5].t("Import Chats")+"",L,K,Y,B,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',O,U,P=s[5].t("Export Chats")+"",G,j,Z,X,q,F,Q,re;function me(se,ce){return se[1]===!0?ho:fo}let J=me(s),oe=J(s);function he(se,ce){return se[2]?mo:vo}let ve=he(s),Te=ve(s);function pe(se,ce){return se[3]?po:_o}let ie=pe(s),te=ie(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),c=H(i),f=M(),m=d("button"),oe.c(),p=M(),g=d("div"),k=H(_),b=M(),y=d("hr"),w=M(),E=d("div"),S=d("input"),V=M(),D=d("button"),I=d("div"),I.innerHTML=T,C=M(),R=d("div"),L=H(W),K=M(),Y=d("button"),B=d("div"),B.innerHTML=A,O=M(),U=d("div"),G=H(P),j=M(),Z=d("hr"),X=M(),q=d("div"),Te.c(),F=M(),te.c(),this.h()},l(se){e=h(se,"DIV",{class:!0});var ce=v(e);t=h(ce,"DIV",{class:!0});var _e=v(t);l=h(_e,"DIV",{class:!0});var Me=v(l);a=h(Me,"DIV",{class:!0});var Ie=v(a);r=h(Ie,"DIV",{class:!0});var Ke=v(r);c=N(Ke,i),Ke.forEach(u),f=x(Ie),m=h(Ie,"BUTTON",{class:!0,type:!0});var xe=v(m);oe.l(xe),xe.forEach(u),Ie.forEach(u),p=x(Me),g=h(Me,"DIV",{class:!0});var Ce=v(g);k=N(Ce,_),Ce.forEach(u),Me.forEach(u),b=x(_e),y=h(_e,"HR",{class:!0}),w=x(_e),E=h(_e,"DIV",{class:!0});var le=v(E);S=h(le,"INPUT",{id:!0,type:!0,accept:!0}),V=x(le),D=h(le,"BUTTON",{class:!0});var fe=v(D);I=h(fe,"DIV",{class:!0,"data-svelte-h":!0}),Ne(I)!=="svelte-135keqh"&&(I.innerHTML=T),C=x(fe),R=h(fe,"DIV",{class:!0});var Ae=v(R);L=N(Ae,W),Ae.forEach(u),fe.forEach(u),K=x(le),Y=h(le,"BUTTON",{class:!0});var De=v(Y);B=h(De,"DIV",{class:!0,"data-svelte-h":!0}),Ne(B)!=="svelte-7e4f4y"&&(B.innerHTML=A),O=x(De),U=h(De,"DIV",{class:!0});var Oe=v(U);G=N(Oe,P),Oe.forEach(u),De.forEach(u),le.forEach(u),j=x(_e),Z=h(_e,"HR",{class:!0}),X=x(_e),q=h(_e,"DIV",{class:!0});var Ue=v(q);Te.l(Ue),F=x(Ue),te.l(Ue),Ue.forEach(u),_e.forEach(u),ce.forEach(u),this.h()},h(){o(r,"class","self-center text-sm font-medium"),o(m,"class","p-1 px-3 text-xs flex rounded transition"),o(m,"type","button"),o(a,"class","flex w-full justify-between"),o(g,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(y,"class","dark:border-gray-850"),o(S,"id","chat-import-input"),o(S,"type","file"),o(S,"accept",".json"),S.hidden=!0,o(I,"class","self-center mr-3"),o(R,"class","self-center text-sm font-medium"),o(D,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(B,"class","self-center mr-3"),o(U,"class","self-center text-sm font-medium"),o(Y,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(E,"class","flex flex-col"),o(Z,"class","dark:border-gray-850"),o(q,"class","flex flex-col"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(se,ce){z(se,e,ce),n(e,t),n(t,l),n(l,a),n(a,r),n(r,c),n(a,f),n(a,m),oe.m(m,null),n(l,p),n(l,g),n(g,k),n(t,b),n(t,y),n(t,w),n(t,E),n(E,S),s[13](S),n(E,V),n(E,D),n(D,I),n(D,C),n(D,R),n(R,L),n(E,K),n(E,Y),n(Y,B),n(Y,O),n(Y,U),n(U,G),n(t,j),n(t,Z),n(t,X),n(t,q),Te.m(q,null),n(q,F),te.m(q,null),Q||(re=[ee(m,"click",s[12]),ee(S,"change",s[14]),ee(D,"click",s[15]),ee(Y,"click",s[16])],Q=!0)},p(se,[ce]){ce&32&&i!==(i=se[5].t("Chat History")+"")&&$(c,i),J===(J=me(se))&&oe?oe.p(se,ce):(oe.d(1),oe=J(se),oe&&(oe.c(),oe.m(m,null))),ce&32&&_!==(_=se[5].t("This setting does not sync across browsers or devices.")+"")&&$(k,_),ce&32&&W!==(W=se[5].t("Import Chats")+"")&&$(L,W),ce&32&&P!==(P=se[5].t("Export Chats")+"")&&$(G,P),ve===(ve=he(se))&&Te?Te.p(se,ce):(Te.d(1),Te=ve(se),Te&&(Te.c(),Te.m(q,F))),ie===(ie=pe(se))&&te?te.p(se,ce):(te.d(1),te=ie(se),te&&(te.c(),te.m(q,null)))},i:Ze,o:Ze,d(se){se&&u(e),oe.d(),s[13](null),Te.d(),te.d(),Q=!1,st(re)}}}function bo(s,e,t){let l,a;Be(s,Gt,B=>t(23,l=B));const{saveAs:r}=ql,i=kt("i18n");Be(s,i,B=>t(5,a=B));let{saveSettings:c}=e,f=!0,m,p=!1,g=!1,_;const k=async B=>{for(const A of B)console.log(A),A.chat?await As(localStorage.token,A.chat):await As(localStorage.token,A);await Ht.set(await Kt(localStorage.token))},b=async()=>{let B=new Blob([JSON.stringify(await Xa(localStorage.token))],{type:"application/json"});r(B,`chat-export-${Date.now()}.json`)},y=async()=>{await ol("/"),await Ja(localStorage.token).catch(B=>{Je.error(B)}),await Ht.set(await Kt(localStorage.token))},w=async()=>{await ol("/"),await Qa(localStorage.token).catch(B=>{Je.error(B)}),await Ht.set(await Kt(localStorage.token))},E=async()=>{t(1,f=!f),console.log(f),f===!1&&await ol("/"),c({saveChatHistory:f})};jt(async()=>{t(1,f=l.saveChatHistory??!0)});const S=()=>{E()};function V(B){dt[B?"unshift":"push"](()=>{_=B,t(4,_)})}function D(){m=this.files,t(0,m)}const I=()=>{_.click()},T=()=>{b()},C=()=>{y(),t(2,p=!1)},R=()=>{t(2,p=!1)},W=()=>{t(2,p=!0)},L=()=>{w(),t(3,g=!1)},K=()=>{t(3,g=!1)},Y=()=>{t(3,g=!0)};return s.$$set=B=>{"saveSettings"in B&&t(11,c=B.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&m){console.log(m);let B=new FileReader;B.onload=A=>{let O=JSON.parse(A.target.result);if(console.log(O),Tr(O)=="openai")try{O=Vr(O)}catch(U){console.log("Unable to import chats:",U)}k(O)},m.length>0&&B.readAsText(m[0])}},[m,f,p,g,_,a,i,b,y,w,E,c,S,V,D,I,T,C,R,W,L,K,Y]}class wo extends it{constructor(e){super(),ct(this,e,bo,go,ot,{saveSettings:11})}}function ko(s){let e,t;return{c(){e=$e("svg"),t=$e("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=je(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&1&&o(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&u(e)}}}function yo(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class Eo extends it{constructor(e){super(),ct(this,e,yo,ko,ot,{className:0})}}function ea(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function Io(s){let e,t,l,a=s[3].t("Add Memory")+"",r,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,g,_,k,b,y,w,E,S,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",D,I,T,C,R=s[3].t("Add")+"",W,L,K,Y,B,A=s[1]&&ea();return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),c.innerHTML=f,m=M(),p=d("div"),g=d("div"),_=d("form"),k=d("div"),b=d("textarea"),w=M(),E=d("div"),S=H("â“˜ "),D=H(V),I=M(),T=d("div"),C=d("button"),W=H(R),L=M(),A&&A.c(),this.h()},l(O){e=h(O,"DIV",{});var U=v(e);t=h(U,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var G=v(l);r=N(G,a),G.forEach(u),i=x(P),c=h(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=f),P.forEach(u),m=x(U),p=h(U,"DIV",{class:!0});var j=v(p);g=h(j,"DIV",{class:!0});var Z=v(g);_=h(Z,"FORM",{class:!0});var X=v(_);k=h(X,"DIV",{class:!0});var q=v(k);b=h(q,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(b).forEach(u),w=x(q),E=h(q,"DIV",{class:!0});var F=v(E);S=N(F,"â“˜ "),D=N(F,V),F.forEach(u),q.forEach(u),I=x(X),T=h(X,"DIV",{class:!0});var Q=v(T);C=h(Q,"BUTTON",{class:!0,type:!0});var re=v(C);W=N(re,R),L=x(re),A&&A.l(re),re.forEach(u),Q.forEach(u),X.forEach(u),Z.forEach(u),j.forEach(u),U.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),o(b,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),o(b,"rows","3"),o(b,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),o(E,"class","text-xs text-gray-500"),o(k,"class",""),o(C,"class",K="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),o(C,"type","submit"),C.disabled=s[1],o(T,"class","flex justify-end pt-1 text-sm font-medium"),o(_,"class","flex flex-col w-full"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(O,U){z(O,e,U),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(e,m),n(e,p),n(p,g),n(g,_),n(_,k),n(k,b),ze(b,s[2]),n(k,w),n(k,E),n(E,S),n(E,D),n(_,I),n(_,T),n(T,C),n(C,W),n(C,L),A&&A.m(C,null),Y||(B=[ee(c,"click",s[6]),ee(b,"input",s[7]),ee(_,"submit",hl(s[8]))],Y=!0)},p(O,U){U&8&&a!==(a=O[3].t("Add Memory")+"")&&$(r,a),U&8&&y!==(y=O[3].t("Enter a detail about yourself for your LLMs to recall"))&&o(b,"placeholder",y),U&4&&ze(b,O[2]),U&8&&V!==(V=O[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&$(D,V),U&8&&R!==(R=O[3].t("Add")+"")&&$(W,R),O[1]?A||(A=ea(),A.c(),A.m(C,null)):A&&(A.d(1),A=null),U&2&&K!==(K="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(O[1]?" cursor-not-allowed":""))&&o(C,"class",K),U&2&&(C.disabled=O[1])},d(O){O&&u(e),A&&A.d(),Y=!1,st(B)}}}function Do(s){let e,t,l;function a(i){s[9](i)}let r={size:"sm",$$slots:{default:[Io]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new vl({props:r}),dt.push(()=>It(e,"show",a)),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&2063&&(f.$$scope={dirty:c,ctx:i}),!t&&c&1&&(t=!0,f.show=i[0],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}function To(s,e,t){let l;const a=sl();let{show:r}=e;const i=kt("i18n");Be(s,i,b=>t(3,l=b));let c=!1,f="";const m=async()=>{t(1,c=!0);const b=await Ar(localStorage.token,f).catch(y=>(Je.error(y),null));b&&(console.log(b),Je.success("Memory added successfully"),t(2,f=""),t(0,r=!1),a("save")),t(1,c=!1)},p=()=>{t(0,r=!1)};function g(){f=this.value,t(2,f)}const _=()=>{m()};function k(b){r=b,t(0,r)}return s.$$set=b=>{"show"in b&&t(0,r=b.show)},[r,c,f,l,i,m,p,g,_,k]}class Vo extends it{constructor(e){super(),ct(this,e,To,Do,ot,{show:0})}}function ta(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function Co(s){let e,t,l,a=s[3].t("Edit Memory")+"",r,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,g,_,k,b,y,w,E,S,V=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",D,I,T,C,R=s[3].t("Update")+"",W,L,K,Y,B,A=s[1]&&ta();return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),c.innerHTML=f,m=M(),p=d("div"),g=d("div"),_=d("form"),k=d("div"),b=d("textarea"),w=M(),E=d("div"),S=H("â“˜ "),D=H(V),I=M(),T=d("div"),C=d("button"),W=H(R),L=M(),A&&A.c(),this.h()},l(O){e=h(O,"DIV",{});var U=v(e);t=h(U,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var G=v(l);r=N(G,a),G.forEach(u),i=x(P),c=h(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=f),P.forEach(u),m=x(U),p=h(U,"DIV",{class:!0});var j=v(p);g=h(j,"DIV",{class:!0});var Z=v(g);_=h(Z,"FORM",{class:!0});var X=v(_);k=h(X,"DIV",{class:!0});var q=v(k);b=h(q,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(b).forEach(u),w=x(q),E=h(q,"DIV",{class:!0});var F=v(E);S=N(F,"â“˜ "),D=N(F,V),F.forEach(u),q.forEach(u),I=x(X),T=h(X,"DIV",{class:!0});var Q=v(T);C=h(Q,"BUTTON",{class:!0,type:!0});var re=v(C);W=N(re,R),L=x(re),A&&A.l(re),re.forEach(u),Q.forEach(u),X.forEach(u),Z.forEach(u),j.forEach(u),U.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),o(b,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),o(b,"rows","3"),o(b,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),o(E,"class","text-xs text-gray-500"),o(k,"class",""),o(C,"class",K="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),o(C,"type","submit"),C.disabled=s[1],o(T,"class","flex justify-end pt-1 text-sm font-medium"),o(_,"class","flex flex-col w-full"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(O,U){z(O,e,U),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(e,m),n(e,p),n(p,g),n(g,_),n(_,k),n(k,b),ze(b,s[2]),n(k,w),n(k,E),n(E,S),n(E,D),n(_,I),n(_,T),n(T,C),n(C,W),n(C,L),A&&A.m(C,null),Y||(B=[ee(c,"click",s[7]),ee(b,"input",s[8]),ee(_,"submit",hl(s[9]))],Y=!0)},p(O,U){U&8&&a!==(a=O[3].t("Edit Memory")+"")&&$(r,a),U&8&&y!==(y=O[3].t("Enter a detail about yourself for your LLMs to recall"))&&o(b,"placeholder",y),U&4&&ze(b,O[2]),U&8&&V!==(V=O[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&$(D,V),U&8&&R!==(R=O[3].t("Update")+"")&&$(W,R),O[1]?A||(A=ta(),A.c(),A.m(C,null)):A&&(A.d(1),A=null),U&2&&K!==(K="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(O[1]?" cursor-not-allowed":""))&&o(C,"class",K),U&2&&(C.disabled=O[1])},d(O){O&&u(e),A&&A.d(),Y=!1,st(B)}}}function Mo(s){let e,t,l;function a(i){s[10](i)}let r={size:"sm",$$slots:{default:[Co]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new vl({props:r}),dt.push(()=>It(e,"show",a)),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&8207&&(f.$$scope={dirty:c,ctx:i}),!t&&c&1&&(t=!0,f.show=i[0],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}function xo(s,e,t){let l;const a=sl();let{show:r}=e,{memory:i={}}=e;const c=kt("i18n");Be(s,c,w=>t(3,l=w));let f=!1,m="";const p=()=>{t(2,m=i.content)},g=async()=>{t(1,f=!0);const w=await Sr(localStorage.token,i.id,m).catch(E=>(Je.error(E),null));w&&(console.log(w),Je.success("Memory updated successfully"),a("save"),t(0,r=!1)),t(1,f=!1)},_=()=>{t(0,r=!1)};function k(){m=this.value,t(2,m)}const b=()=>{g()};function y(w){r=w,t(0,r)}return s.$$set=w=>{"show"in w&&t(0,r=w.show),"memory"in w&&t(6,i=w.memory)},s.$$.update=()=>{s.$$.dirty&1&&r&&p()},[r,f,m,l,c,g,i,_,k,b,y]}class Ao extends it{constructor(e){super(),ct(this,e,xo,Mo,ot,{show:0,memory:6})}}function la(s,e,t){const l=s.slice();return l[19]=e[t],l}function So(s){let e,t,l=s[5].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=d("div"),t=d("div"),a=H(l),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);t=h(i,"DIV",{class:!0});var c=v(t);a=N(c,l),c.forEach(u),i.forEach(u),this.h()},h(){o(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),o(e,"class","text-center flex h-full text-sm w-full")},m(r,i){z(r,e,i),n(e,t),n(t,a)},p(r,i){i&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&$(a,l)},i:Ze,o:Ze,d(r){r&&u(e)}}}function Lo(s){let e,t,l,a,r,i,c=s[5].t("Name")+"",f,m,p,g=s[5].t("Last Modified")+"",_,k,b,y,w,E,S=nt(s[1]),V=[];for(let I=0;I<S.length;I+=1)V[I]=sa(la(s,S,I));const D=I=>ne(V[I],1,1,()=>{V[I]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),r=d("tr"),i=d("th"),f=H(c),m=M(),p=d("th"),_=H(g),k=M(),b=d("th"),y=M(),w=d("tbody");for(let I=0;I<V.length;I+=1)V[I].c();this.h()},l(I){e=h(I,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var C=v(t);l=h(C,"TABLE",{class:!0});var R=v(l);a=h(R,"THEAD",{class:!0});var W=v(a);r=h(W,"TR",{});var L=v(r);i=h(L,"TH",{scope:!0,class:!0});var K=v(i);f=N(K,c),K.forEach(u),m=x(L),p=h(L,"TH",{scope:!0,class:!0});var Y=v(p);_=N(Y,g),Y.forEach(u),k=x(L),b=h(L,"TH",{scope:!0,class:!0}),v(b).forEach(u),L.forEach(u),W.forEach(u),y=x(R),w=h(R,"TBODY",{});var B=v(w);for(let A=0;A<V.length;A+=1)V[A].l(B);B.forEach(u),R.forEach(u),C.forEach(u),T.forEach(u),this.h()},h(){o(i,"scope","col"),o(i,"class","px-3 py-2"),o(p,"scope","col"),o(p,"class","px-3 py-2 hidden md:flex"),o(b,"scope","col"),o(b,"class","px-3 py-2 text-right"),o(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(t,"class","relative overflow-x-auto"),o(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(I,T){z(I,e,T),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(i,f),n(r,m),n(r,p),n(p,_),n(r,k),n(r,b),n(l,y),n(l,w);for(let C=0;C<V.length;C+=1)V[C]&&V[C].m(w,null);E=!0},p(I,T){if((!E||T&32)&&c!==(c=I[5].t("Name")+"")&&$(f,c),(!E||T&32)&&g!==(g=I[5].t("Last Modified")+"")&&$(_,g),T&58){S=nt(I[1]);let C;for(C=0;C<S.length;C+=1){const R=la(I,S,C);V[C]?(V[C].p(R,T),ae(V[C],1)):(V[C]=sa(R),V[C].c(),ae(V[C],1),V[C].m(w,null))}for(Lt(),C=S.length;C<V.length;C+=1)D(C);Bt()}},i(I){if(!E){for(let T=0;T<S.length;T+=1)ae(V[T]);E=!0}},o(I){V=V.filter(Boolean);for(let T=0;T<V.length;T+=1)ne(V[T]);E=!1},d(I){I&&u(e),zt(V,I)}}}function Bo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,a;function r(){return s[9](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,c){z(i,e,c),l||(a=ee(e,"click",r),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function Ho(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[10](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-lqu2va"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,c){z(i,e,c),l||(a=ee(e,"click",r),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function sa(s){let e,t,l,a=s[19].content+"",r,i,c,f,m=Hl(s[19].updated_at*1e3).format(s[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",p,g,_,k,b,y,w,E,S;return b=new $t({props:{content:"Edit",$$slots:{default:[Bo]},$$scope:{ctx:s}}}),w=new $t({props:{content:"Delete",$$slots:{default:[Ho]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),r=H(a),i=M(),c=d("td"),f=d("div"),p=H(m),g=M(),_=d("td"),k=d("div"),we(b.$$.fragment),y=M(),we(w.$$.fragment),E=M(),this.h()},l(V){e=h(V,"TR",{class:!0});var D=v(e);t=h(D,"TD",{class:!0});var I=v(t);l=h(I,"DIV",{class:!0});var T=v(l);r=N(T,a),T.forEach(u),I.forEach(u),i=x(D),c=h(D,"TD",{class:!0});var C=v(c);f=h(C,"DIV",{class:!0});var R=v(f);p=N(R,m),R.forEach(u),C.forEach(u),g=x(D),_=h(D,"TD",{class:!0});var W=v(_);k=h(W,"DIV",{class:!0});var L=v(k);ke(b.$$.fragment,L),y=x(L),ke(w.$$.fragment,L),L.forEach(u),W.forEach(u),E=x(D),D.forEach(u),this.h()},h(){o(l,"class","line-clamp-1"),o(t,"class","px-3 py-1"),o(f,"class","my-auto whitespace-nowrap"),o(c,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(k,"class","flex justify-end w-full"),o(_,"class","px-3 py-1"),o(e,"class","border-b dark:border-gray-800 items-center")},m(V,D){z(V,e,D),n(e,t),n(t,l),n(l,r),n(e,i),n(e,c),n(c,f),n(f,p),n(e,g),n(e,_),n(_,k),ye(b,k,null),n(k,y),ye(w,k,null),n(e,E),S=!0},p(V,D){(!S||D&2)&&a!==(a=V[19].content+"")&&$(r,a),(!S||D&34)&&m!==(m=Hl(V[19].updated_at*1e3).format(V[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&$(p,m);const I={};D&4194330&&(I.$$scope={dirty:D,ctx:V}),b.$set(I);const T={};D&4194306&&(T.$$scope={dirty:D,ctx:V}),w.$set(T)},i(V){S||(ae(b.$$.fragment,V),ae(w.$$.fragment,V),S=!0)},o(V){ne(b.$$.fragment,V),ne(w.$$.fragment,V),S=!1},d(V){V&&u(e),Ee(b),Ee(w)}}}function No(s){let e,t,l,a=s[5].t("Memory")+"",r,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,g,_,k,b,y,w,E=s[5].t("Add Memory")+"",S,V,D,I=s[5].t("Clear memory")+"",T,C,R,W;const L=[Lo,So],K=[];function Y(B,A){return B[1].length>0?0:1}return _=Y(s),k=K[_]=L[_](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),c.innerHTML=f,m=M(),p=d("div"),g=d("div"),k.c(),b=M(),y=d("div"),w=d("button"),S=H(E),V=M(),D=d("button"),T=H(I),this.h()},l(B){e=h(B,"DIV",{});var A=v(e);t=h(A,"DIV",{class:!0});var O=v(t);l=h(O,"DIV",{class:!0});var U=v(l);r=N(U,a),U.forEach(u),i=x(O),c=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=f),O.forEach(u),m=x(A),p=h(A,"DIV",{class:!0});var P=v(p);g=h(P,"DIV",{class:!0});var G=v(g);k.l(G),G.forEach(u),b=x(P),y=h(P,"DIV",{class:!0});var j=v(y);w=h(j,"BUTTON",{class:!0});var Z=v(w);S=N(Z,E),Z.forEach(u),V=x(j),D=h(j,"BUTTON",{class:!0});var X=v(D);T=N(X,I),X.forEach(u),j.forEach(u),P.forEach(u),A.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),o(w,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(D,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),o(y,"class","flex text-sm font-medium gap-1.5"),o(p,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(B,A){z(B,e,A),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(e,m),n(e,p),n(p,g),K[_].m(g,null),n(p,b),n(p,y),n(y,w),n(w,S),n(y,V),n(y,D),n(D,T),C=!0,R||(W=[ee(c,"click",s[8]),ee(w,"click",s[11]),ee(D,"click",s[12])],R=!0)},p(B,A){(!C||A&32)&&a!==(a=B[5].t("Memory")+"")&&$(r,a);let O=_;_=Y(B),_===O?K[_].p(B,A):(Lt(),ne(K[O],1,1,()=>{K[O]=null}),Bt(),k=K[_],k?k.p(B,A):(k=K[_]=L[_](B),k.c()),ae(k,1),k.m(g,null)),(!C||A&32)&&E!==(E=B[5].t("Add Memory")+"")&&$(S,E),(!C||A&32)&&I!==(I=B[5].t("Clear memory")+"")&&$(T,I)},i(B){C||(ae(k),C=!0)},o(B){ne(k),C=!1},d(B){B&&u(e),K[_].d(),R=!1,st(W)}}}function Oo(s){let e,t,l,a,r,i,c,f,m;function p(w){s[13](w)}let g={size:"xl",$$slots:{default:[No]},$$scope:{ctx:s}};s[0]!==void 0&&(g.show=s[0]),e=new vl({props:g}),dt.push(()=>It(e,"show",p));function _(w){s[14](w)}let k={};s[2]!==void 0&&(k.show=s[2]),a=new Vo({props:k}),dt.push(()=>It(a,"show",_)),a.$on("save",s[15]);function b(w){s[16](w)}let y={memory:s[4]};return s[3]!==void 0&&(y.show=s[3]),c=new Ao({props:y}),dt.push(()=>It(c,"show",b)),c.$on("save",s[17]),{c(){we(e.$$.fragment),l=M(),we(a.$$.fragment),i=M(),we(c.$$.fragment)},l(w){ke(e.$$.fragment,w),l=x(w),ke(a.$$.fragment,w),i=x(w),ke(c.$$.fragment,w)},m(w,E){ye(e,w,E),z(w,l,E),ye(a,w,E),z(w,i,E),ye(c,w,E),m=!0},p(w,[E]){const S={};E&4194367&&(S.$$scope={dirty:E,ctx:w}),!t&&E&1&&(t=!0,S.show=w[0],Et(()=>t=!1)),e.$set(S);const V={};!r&&E&4&&(r=!0,V.show=w[2],Et(()=>r=!1)),a.$set(V);const D={};E&16&&(D.memory=w[4]),!f&&E&8&&(f=!0,D.show=w[3],Et(()=>f=!1)),c.$set(D)},i(w){m||(ae(e.$$.fragment,w),ae(a.$$.fragment,w),ae(c.$$.fragment,w),m=!0)},o(w){ne(e.$$.fragment,w),ne(a.$$.fragment,w),ne(c.$$.fragment,w),m=!1},d(w){w&&(u(l),u(i)),Ee(e,w),Ee(a,w),Ee(c,w)}}}function Uo(s,e,t){let l;sl();const a=kt("i18n");Be(s,a,I=>t(5,l=I));let{show:r=!1}=e,i=[],c=!0,f=!1,m=!1,p=null;const g=()=>{t(0,r=!1)},_=I=>{t(4,p=I),t(3,m=!0)},k=async I=>{await Lr(localStorage.token,I.id).catch(C=>(Je.error(C),null))&&(Je.success("Memory deleted successfully"),t(1,i=await xl(localStorage.token)))},b=()=>{t(2,f=!0)},y=async()=>{await Br(localStorage.token).catch(T=>(Je.error(T),null))&&(Je.success("Memory cleared successfully"),t(1,i=[]))};function w(I){r=I,t(0,r)}function E(I){f=I,t(2,f)}const S=async()=>{t(1,i=await xl(localStorage.token))};function V(I){m=I,t(3,m)}const D=async()=>{t(1,i=await xl(localStorage.token))};return s.$$set=I=>{"show"in I&&t(0,r=I.show)},s.$$.update=()=>{s.$$.dirty&131&&r&&i.length===0&&c&&(async()=>(t(1,i=await xl(localStorage.token)),t(7,c=!1)))()},[r,i,f,m,p,l,a,c,g,_,k,b,y,w,E,S,V,D]}class Po extends it{constructor(e){super(),ct(this,e,Uo,Oo,ot,{show:0})}}function $o(s){let e,t=s[3].t("Memory")+"",l,a,r,i,c=s[3].t("Experimental")+"",f,m;return{c(){e=d("div"),l=H(t),a=M(),r=d("span"),i=H("("),f=H(c),m=H(")"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=v(e);l=N(g,t),a=x(g),r=h(g,"SPAN",{class:!0});var _=v(r);i=N(_,"("),f=N(_,c),m=N(_,")"),_.forEach(u),g.forEach(u),this.h()},h(){o(r,"class","text-xs text-gray-500"),o(e,"class","text-sm font-medium")},m(p,g){z(p,e,g),n(e,l),n(e,a),n(e,r),n(r,i),n(r,f),n(r,m)},p(p,g){g&8&&t!==(t=p[3].t("Memory")+"")&&$(l,t),g&8&&c!==(c=p[3].t("Experimental")+"")&&$(f,c)},d(p){p&&u(e)}}}function jo(s){let e,t,l,a,r,i,c,f,m,p,g,_,k,b,y,w=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",E,S,V,D,I=s[3].t("Manage")+"",T,C,R,W,L=s[3].t("Save")+"",K,Y,B,A;function O(j){s[6](j)}let U={};s[1]!==void 0&&(U.show=s[1]),e=new Po({props:U}),dt.push(()=>It(e,"show",O)),f=new $t({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[$o]},$$scope:{ctx:s}}});function P(j){s[7](j)}let G={};return s[2]!==void 0&&(G.state=s[2]),g=new za({props:G}),dt.push(()=>It(g,"state",P)),g.$on("change",s[8]),{c(){we(e.$$.fragment),l=M(),a=d("form"),r=d("div"),i=d("div"),c=d("div"),we(f.$$.fragment),m=M(),p=d("div"),we(g.$$.fragment),k=M(),b=d("div"),y=d("div"),E=H(w),S=M(),V=d("div"),D=d("button"),T=H(I),C=M(),R=d("div"),W=d("button"),K=H(L),this.h()},l(j){ke(e.$$.fragment,j),l=x(j),a=h(j,"FORM",{class:!0});var Z=v(a);r=h(Z,"DIV",{class:!0});var X=v(r);i=h(X,"DIV",{});var q=v(i);c=h(q,"DIV",{class:!0});var F=v(c);ke(f.$$.fragment,F),m=x(F),p=h(F,"DIV",{class:!0});var Q=v(p);ke(g.$$.fragment,Q),Q.forEach(u),F.forEach(u),q.forEach(u),k=x(X),b=h(X,"DIV",{class:!0});var re=v(b);y=h(re,"DIV",{});var me=v(y);E=N(me,w),me.forEach(u),re.forEach(u),S=x(X),V=h(X,"DIV",{class:!0});var J=v(V);D=h(J,"BUTTON",{type:!0,class:!0});var oe=v(D);T=N(oe,I),oe.forEach(u),J.forEach(u),X.forEach(u),C=x(Z),R=h(Z,"DIV",{class:!0});var he=v(R);W=h(he,"BUTTON",{class:!0,type:!0});var ve=v(W);K=N(ve,L),ve.forEach(u),he.forEach(u),Z.forEach(u),this.h()},h(){o(p,"class","mt-1"),o(c,"class","flex items-center justify-between mb-1"),o(b,"class","text-xs text-gray-600 dark:text-gray-400"),o(D,"type","button"),o(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(V,"class","mt-3 mb-1 ml-1"),o(r,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),o(W,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(W,"type","submit"),o(R,"class","flex justify-end text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,Z){ye(e,j,Z),z(j,l,Z),z(j,a,Z),n(a,r),n(r,i),n(i,c),ye(f,c,null),n(c,m),n(c,p),ye(g,p,null),n(r,k),n(r,b),n(b,y),n(y,E),n(r,S),n(r,V),n(V,D),n(D,T),n(a,C),n(a,R),n(R,W),n(W,K),Y=!0,B||(A=[ee(D,"click",s[9]),ee(a,"submit",hl(s[10]))],B=!0)},p(j,[Z]){const X={};!t&&Z&2&&(t=!0,X.show=j[1],Et(()=>t=!1)),e.$set(X);const q={};Z&8&&(q.content=j[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),Z&4104&&(q.$$scope={dirty:Z,ctx:j}),f.$set(q);const F={};!_&&Z&4&&(_=!0,F.state=j[2],Et(()=>_=!1)),g.$set(F),(!Y||Z&8)&&w!==(w=j[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&$(E,w),(!Y||Z&8)&&I!==(I=j[3].t("Manage")+"")&&$(T,I),(!Y||Z&8)&&L!==(L=j[3].t("Save")+"")&&$(K,L)},i(j){Y||(ae(e.$$.fragment,j),ae(f.$$.fragment,j),ae(g.$$.fragment,j),Y=!0)},o(j){ne(e.$$.fragment,j),ne(f.$$.fragment,j),ne(g.$$.fragment,j),Y=!1},d(j){j&&(u(l),u(a)),Ee(e,j),Ee(f),Ee(g),B=!1,st(A)}}}function zo(s,e,t){let l,a;Be(s,Gt,y=>t(11,l=y));const r=sl(),i=kt("i18n");Be(s,i,y=>t(3,a=y));let{saveSettings:c}=e,f=!1,m=!1;jt(async()=>{t(2,m=(l==null?void 0:l.memory)??!1)});function p(y){f=y,t(1,f)}function g(y){m=y,t(2,m)}const _=async()=>{c({memory:m})},k=()=>{t(1,f=!0)},b=()=>{r("save")};return s.$$set=y=>{"saveSettings"in y&&t(0,c=y.saveSettings)},[c,f,m,a,r,i,p,g,_,k,b]}class Zo extends it{constructor(e){super(),ct(this,e,zo,jo,ot,{saveSettings:0})}}function aa(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,r,i=s[2].t("Admin Settings")+"",c,f,m,p;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=M(),r=d("div"),c=H(i),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=x(_),r=h(_,"DIV",{class:!0});var k=v(r);c=N(k,i),k.forEach(u),_.forEach(u),this.h()},h(){o(t,"class","self-center mr-2"),o(r,"class","self-center"),o(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(g,_){z(g,e,_),n(e,t),n(e,a),n(e,r),n(r,c),m||(p=ee(e,"click",s[9]),m=!0)},p(g,_){_&4&&i!==(i=g[2].t("Admin Settings")+"")&&$(c,i),_&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(g[1]==="admin"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",f)},d(g){g&&u(e),m=!1,p()}}}function Ro(s){let e,t;return e=new Dn({}),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Wo(s){let e,t;return e=new kn({props:{saveHandler:s[20]}}),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p(l,a){const r={};a&4&&(r.saveHandler=l[20]),e.$set(r)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Fo(s){let e,t;return e=new wo({props:{saveSettings:s[5]}}),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Yo(s){let e,t;return e=new uo({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function qo(s){let e,t;return e=new Zo({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Ko(s){let e,t;return e=new to({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Go(s){let e,t;return e=new Bn({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[16]),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Xo(s){let e,t,l,a=s[2].t("Settings")+"",r,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,g,_,k,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',y,w,E=s[2].t("General")+"",S,V,D,I,T,C,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',W,L,K=s[2].t("Interface")+"",Y,B,A,O,U,P,G,j,Z=s[2].t("Personalization")+"",X,q,F,Q,re,me='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',J,oe,he=s[2].t("Audio")+"",ve,Te,pe,ie,te,se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',ce,_e,Me=s[2].t("Chats")+"",Ie,Ke,xe,Ce,le,fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Ae,De,Oe=s[2].t("Account")+"",Ue,Le,Ve,Se,We,_t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',pt,Qe,ht=s[2].t("About")+"",vt,yt,Ye,at,et,Fe,He,tt,xt,Ge=s[3].role==="admin"&&aa(s);P=new Eo({});const Xe=[Go,Ko,qo,Yo,Fo,Wo,Ro],Pe=[];function ge(ue,be){return ue[1]==="general"?0:ue[1]==="interface"?1:ue[1]==="personalization"?2:ue[1]==="audio"?3:ue[1]==="chats"?4:ue[1]==="account"?5:ue[1]==="about"?6:-1}return~(et=ge(s))&&(Fe=Pe[et]=Xe[et](s)),{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),c.innerHTML=f,m=M(),p=d("div"),g=d("div"),_=d("button"),k=d("div"),k.innerHTML=b,y=M(),w=d("div"),S=H(E),D=M(),Ge&&Ge.c(),I=M(),T=d("button"),C=d("div"),C.innerHTML=R,W=M(),L=d("div"),Y=H(K),A=M(),O=d("button"),U=d("div"),we(P.$$.fragment),G=M(),j=d("div"),X=H(Z),F=M(),Q=d("button"),re=d("div"),re.innerHTML=me,J=M(),oe=d("div"),ve=H(he),pe=M(),ie=d("button"),te=d("div"),te.innerHTML=se,ce=M(),_e=d("div"),Ie=H(Me),xe=M(),Ce=d("button"),le=d("div"),le.innerHTML=fe,Ae=M(),De=d("div"),Ue=H(Oe),Ve=M(),Se=d("button"),We=d("div"),We.innerHTML=_t,pt=M(),Qe=d("div"),vt=H(ht),Ye=M(),at=d("div"),Fe&&Fe.c(),this.h()},l(ue){e=h(ue,"DIV",{class:!0});var be=v(e);t=h(be,"DIV",{class:!0});var qe=v(t);l=h(qe,"DIV",{class:!0});var Vt=v(l);r=N(Vt,a),Vt.forEach(u),i=x(qe),c=h(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=f),qe.forEach(u),m=x(be),p=h(be,"DIV",{class:!0});var Mt=v(p);g=h(Mt,"DIV",{class:!0});var rt=v(g);_=h(rt,"BUTTON",{class:!0});var Zt=v(_);k=h(Zt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(k)!=="svelte-qy1dha"&&(k.innerHTML=b),y=x(Zt),w=h(Zt,"DIV",{class:!0});var Nt=v(w);S=N(Nt,E),Nt.forEach(u),Zt.forEach(u),D=x(rt),Ge&&Ge.l(rt),I=x(rt),T=h(rt,"BUTTON",{class:!0});var Rt=v(T);C=h(Rt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(C)!=="svelte-16cea28"&&(C.innerHTML=R),W=x(Rt),L=h(Rt,"DIV",{class:!0});var Wt=v(L);Y=N(Wt,K),Wt.forEach(u),Rt.forEach(u),A=x(rt),O=h(rt,"BUTTON",{class:!0});var mt=v(O);U=h(mt,"DIV",{class:!0});var tl=v(U);ke(P.$$.fragment,tl),tl.forEach(u),G=x(mt),j=h(mt,"DIV",{class:!0});var Ot=v(j);X=N(Ot,Z),Ot.forEach(u),mt.forEach(u),F=x(rt),Q=h(rt,"BUTTON",{class:!0});var gt=v(Q);re=h(gt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(re)!=="svelte-36jwmy"&&(re.innerHTML=me),J=x(gt),oe=h(gt,"DIV",{class:!0});var al=v(oe);ve=N(al,he),al.forEach(u),gt.forEach(u),pe=x(rt),ie=h(rt,"BUTTON",{class:!0});var Ut=v(ie);te=h(Ut,"DIV",{class:!0,"data-svelte-h":!0}),Ne(te)!=="svelte-1gtbwe5"&&(te.innerHTML=se),ce=x(Ut),_e=h(Ut,"DIV",{class:!0});var Dt=v(_e);Ie=N(Dt,Me),Dt.forEach(u),Ut.forEach(u),xe=x(rt),Ce=h(rt,"BUTTON",{class:!0});var Pt=v(Ce);le=h(Pt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(le)!=="svelte-amityv"&&(le.innerHTML=fe),Ae=x(Pt),De=h(Pt,"DIV",{class:!0});var Xt=v(De);Ue=N(Xt,Oe),Xt.forEach(u),Pt.forEach(u),Ve=x(rt),Se=h(rt,"BUTTON",{class:!0});var bt=v(Se);We=h(bt,"DIV",{class:!0,"data-svelte-h":!0}),Ne(We)!=="svelte-15t8s7e"&&(We.innerHTML=_t),pt=x(bt),Qe=h(bt,"DIV",{class:!0});var Jt=v(Qe);vt=N(Jt,ht),Jt.forEach(u),bt.forEach(u),rt.forEach(u),Ye=x(Mt),at=h(Mt,"DIV",{class:!0});var Qt=v(at);Fe&&Fe.l(Qt),Qt.forEach(u),Mt.forEach(u),be.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(k,"class","self-center mr-2"),o(w,"class","self-center"),o(_,"class",V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(C,"class","self-center mr-2"),o(L,"class","self-center"),o(T,"class",B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(U,"class","self-center mr-2"),o(j,"class","self-center"),o(O,"class",q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(re,"class","self-center mr-2"),o(oe,"class","self-center"),o(Q,"class",Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(te,"class","self-center mr-2"),o(_e,"class","self-center"),o(ie,"class",Ke="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(le,"class","self-center mr-2"),o(De,"class","self-center"),o(Ce,"class",Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(We,"class","self-center mr-2"),o(Qe,"class","self-center"),o(Se,"class",yt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(g,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(at,"class","flex-1 md:min-h-[28rem]"),o(p,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),o(e,"class","text-gray-700 dark:text-gray-100")},m(ue,be){z(ue,e,be),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(e,m),n(e,p),n(p,g),n(g,_),n(_,k),n(_,y),n(_,w),n(w,S),n(g,D),Ge&&Ge.m(g,null),n(g,I),n(g,T),n(T,C),n(T,W),n(T,L),n(L,Y),n(g,A),n(g,O),n(O,U),ye(P,U,null),n(O,G),n(O,j),n(j,X),n(g,F),n(g,Q),n(Q,re),n(Q,J),n(Q,oe),n(oe,ve),n(g,pe),n(g,ie),n(ie,te),n(ie,ce),n(ie,_e),n(_e,Ie),n(g,xe),n(g,Ce),n(Ce,le),n(Ce,Ae),n(Ce,De),n(De,Ue),n(g,Ve),n(g,Se),n(Se,We),n(Se,pt),n(Se,Qe),n(Qe,vt),n(p,Ye),n(p,at),~et&&Pe[et].m(at,null),He=!0,tt||(xt=[ee(c,"click",s[7]),ee(_,"click",s[8]),ee(T,"click",s[10]),ee(O,"click",s[11]),ee(Q,"click",s[12]),ee(ie,"click",s[13]),ee(Ce,"click",s[14]),ee(Se,"click",s[15])],tt=!0)},p(ue,be){(!He||be&4)&&a!==(a=ue[2].t("Settings")+"")&&$(r,a),(!He||be&4)&&E!==(E=ue[2].t("General")+"")&&$(S,E),(!He||be&2&&V!==(V="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(_,"class",V),ue[3].role==="admin"?Ge?Ge.p(ue,be):(Ge=aa(ue),Ge.c(),Ge.m(g,I)):Ge&&(Ge.d(1),Ge=null),(!He||be&4)&&K!==(K=ue[2].t("Interface")+"")&&$(Y,K),(!He||be&2&&B!==(B="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(T,"class",B),(!He||be&4)&&Z!==(Z=ue[2].t("Personalization")+"")&&$(X,Z),(!He||be&2&&q!==(q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(O,"class",q),(!He||be&4)&&he!==(he=ue[2].t("Audio")+"")&&$(ve,he),(!He||be&2&&Te!==(Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Q,"class",Te),(!He||be&4)&&Me!==(Me=ue[2].t("Chats")+"")&&$(Ie,Me),(!He||be&2&&Ke!==(Ke="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(ie,"class",Ke),(!He||be&4)&&Oe!==(Oe=ue[2].t("Account")+"")&&$(Ue,Oe),(!He||be&2&&Le!==(Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Ce,"class",Le),(!He||be&4)&&ht!==(ht=ue[2].t("About")+"")&&$(vt,ht),(!He||be&2&&yt!==(yt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ue[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Se,"class",yt);let qe=et;et=ge(ue),et===qe?~et&&Pe[et].p(ue,be):(Fe&&(Lt(),ne(Pe[qe],1,1,()=>{Pe[qe]=null}),Bt()),~et?(Fe=Pe[et],Fe?Fe.p(ue,be):(Fe=Pe[et]=Xe[et](ue),Fe.c()),ae(Fe,1),Fe.m(at,null)):Fe=null)},i(ue){He||(ae(P.$$.fragment,ue),ae(Fe),He=!0)},o(ue){ne(P.$$.fragment,ue),ne(Fe),He=!1},d(ue){ue&&u(e),Ge&&Ge.d(),Ee(P),~et&&Pe[et].d(),tt=!1,st(xt)}}}function Jo(s){let e,t,l;function a(i){s[21](i)}let r={$$slots:{default:[Xo]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new vl({props:r}),dt.push(()=>It(e,"show",a)),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&8388623&&(f.$$scope={dirty:c,ctx:i}),!t&&c&1&&(t=!0,f.show=i[0],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}function Qo(s,e,t){let l,a,r;Be(s,Gt,L=>t(22,l=L)),Be(s,fl,L=>t(3,r=L));const i=kt("i18n");Be(s,i,L=>t(2,a=L));let{show:c=!1}=e;const f=async L=>{console.log(L),await Gt.set({...l,...L}),await Kl.set(await m()),await Oa(localStorage.token,{ui:l})},m=async()=>await Na(localStorage.token);let p="general";const g=()=>{t(0,c=!1)},_=()=>{t(1,p="general")},k=async()=>{await ol("/admin/settings"),t(0,c=!1)},b=()=>{t(1,p="interface")},y=()=>{t(1,p="personalization")},w=()=>{t(1,p="audio")},E=()=>{t(1,p="chats")},S=()=>{t(1,p="account")},V=()=>{t(1,p="about")},D=()=>{Je.success(a.t("Settings saved successfully!"))},I=()=>{Je.success(a.t("Settings saved successfully!"))},T=()=>{Je.success(a.t("Settings saved successfully!"))},C=()=>{Je.success(a.t("Settings saved successfully!"))},R=()=>{Je.success(a.t("Settings saved successfully!"))};function W(L){c=L,t(0,c)}return s.$$set=L=>{"show"in L&&t(0,c=L.show)},[c,p,a,r,i,f,m,g,_,k,b,y,w,E,S,V,D,I,T,C,R,W]}class ei extends it{constructor(e){super(),ct(this,e,Qo,Jo,ot,{show:0})}}function ra(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function ti(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","text-left text-sm w-full mb-8")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&$(l,t)},i:Ze,o:Ze,d(a){a&&u(e)}}}function li(s){let e,t,l,a,r,i,c,f=s[3].t("Name")+"",m,p,g,_=s[3].t("Created At")+"",k,b,y,w,E,S,V,D,I="Export All Archived Chats",T,C,R,W=nt(s[2].filter(s[10])),L=[];for(let Y=0;Y<W.length;Y+=1)L[Y]=na(ra(s,W,Y));const K=Y=>ne(L[Y],1,1,()=>{L[Y]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("table"),r=d("thead"),i=d("tr"),c=d("th"),m=H(f),p=M(),g=d("th"),k=H(_),b=M(),y=d("th"),w=M(),E=d("tbody");for(let Y=0;Y<L.length;Y+=1)L[Y].c();S=M(),V=d("div"),D=d("button"),D.textContent=I,this.h()},l(Y){e=h(Y,"DIV",{class:!0});var B=v(e);t=h(B,"DIV",{class:!0});var A=v(t);l=h(A,"DIV",{class:!0});var O=v(l);a=h(O,"TABLE",{class:!0});var U=v(a);r=h(U,"THEAD",{class:!0});var P=v(r);i=h(P,"TR",{});var G=v(i);c=h(G,"TH",{scope:!0,class:!0});var j=v(c);m=N(j,f),j.forEach(u),p=x(G),g=h(G,"TH",{scope:!0,class:!0});var Z=v(g);k=N(Z,_),Z.forEach(u),b=x(G),y=h(G,"TH",{scope:!0,class:!0}),v(y).forEach(u),G.forEach(u),P.forEach(u),w=x(U),E=h(U,"TBODY",{});var X=v(E);for(let F=0;F<L.length;F+=1)L[F].l(X);X.forEach(u),U.forEach(u),O.forEach(u),A.forEach(u),S=x(B),V=h(B,"DIV",{class:!0});var q=v(V);D=h(q,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(D)!=="svelte-1kobxt8"&&(D.textContent=I),q.forEach(u),B.forEach(u),this.h()},h(){o(c,"scope","col"),o(c,"class","px-3 py-2"),o(g,"scope","col"),o(g,"class","px-3 py-2 hidden md:flex"),o(y,"scope","col"),o(y,"class","px-3 py-2 text-right"),o(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),o(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),o(l,"class","relative overflow-x-auto"),o(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),o(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),o(V,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),o(e,"class","w-full")},m(Y,B){z(Y,e,B),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(i,c),n(c,m),n(i,p),n(i,g),n(g,k),n(i,b),n(i,y),n(a,w),n(a,E);for(let A=0;A<L.length;A+=1)L[A]&&L[A].m(E,null);n(e,S),n(e,V),n(V,D),T=!0,C||(R=ee(D,"click",s[13]),C=!0)},p(Y,B){if((!T||B&8)&&f!==(f=Y[3].t("Name")+"")&&$(m,f),(!T||B&8)&&_!==(_=Y[3].t("Created At")+"")&&$(k,_),B&110){W=nt(Y[2].filter(Y[10]));let A;for(A=0;A<W.length;A+=1){const O=ra(Y,W,A);L[A]?(L[A].p(O,B),ae(L[A],1)):(L[A]=na(O),L[A].c(),ae(L[A],1),L[A].m(E,null))}for(Lt(),A=W.length;A<L.length;A+=1)K(A);Bt()}},i(Y){if(!T){for(let B=0;B<W.length;B+=1)ae(L[B]);T=!0}},o(Y){L=L.filter(Boolean);for(let B=0;B<L.length;B+=1)ne(L[B]);T=!1},d(Y){Y&&u(e),zt(L,Y),C=!1,R()}}}function si(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function r(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,c){z(i,e,c),l||(a=ee(e,"click",r),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function ai(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,c){z(i,e,c),l||(a=ee(e,"click",r),l=!0)},p(i,c){s=i},d(i){i&&u(e),l=!1,a()}}}function na(s){let e,t,l,a,r=s[17].title+"",i,c,f,m,p,g=Hl(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",_,k,b,y,w,E,S,V,D,I;return w=new $t({props:{content:"Unarchive Chat",$$slots:{default:[si]},$$scope:{ctx:s}}}),S=new $t({props:{content:"Delete Chat",$$slots:{default:[ai]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),a=d("div"),i=H(r),f=M(),m=d("td"),p=d("div"),_=H(g),k=M(),b=d("td"),y=d("div"),we(w.$$.fragment),E=M(),we(S.$$.fragment),V=M(),this.h()},l(T){e=h(T,"TR",{class:!0});var C=v(e);t=h(C,"TD",{class:!0});var R=v(t);l=h(R,"A",{href:!0,target:!0});var W=v(l);a=h(W,"DIV",{class:!0});var L=v(a);i=N(L,r),L.forEach(u),W.forEach(u),R.forEach(u),f=x(C),m=h(C,"TD",{class:!0});var K=v(m);p=h(K,"DIV",{class:!0});var Y=v(p);_=N(Y,g),Y.forEach(u),K.forEach(u),k=x(C),b=h(C,"TD",{class:!0});var B=v(b);y=h(B,"DIV",{class:!0});var A=v(y);ke(w.$$.fragment,A),E=x(A),ke(S.$$.fragment,A),A.forEach(u),B.forEach(u),V=x(C),C.forEach(u),this.h()},h(){o(a,"class","underline line-clamp-1"),o(l,"href",c="/c/"+s[17].id),o(l,"target","_blank"),o(t,"class","px-3 py-1 w-2/3"),o(p,"class","my-auto"),o(m,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),o(y,"class","flex justify-end w-full"),o(b,"class","px-3 py-1 text-right"),o(e,"class",D="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(T,C){z(T,e,C),n(e,t),n(t,l),n(l,a),n(a,i),n(e,f),n(e,m),n(m,p),n(p,_),n(e,k),n(e,b),n(b,y),ye(w,y,null),n(y,E),ye(S,y,null),n(e,V),I=!0},p(T,C){(!I||C&6)&&r!==(r=T[17].title+"")&&$(i,r),(!I||C&6&&c!==(c="/c/"+T[17].id))&&o(l,"href",c),(!I||C&14)&&g!==(g=Hl(T[17].created_at*1e3).format(T[3].t("MMMM DD, YYYY HH:mm"))+"")&&$(_,g);const R={};C&1048582&&(R.$$scope={dirty:C,ctx:T}),w.$set(R);const W={};C&1048582&&(W.$$scope={dirty:C,ctx:T}),S.$set(W),(!I||C&4&&D!==(D="bg-transparent "+(T[19]!==T[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&o(e,"class",D)},i(T){I||(ae(w.$$.fragment,T),ae(S.$$.fragment,T),I=!0)},o(T){ne(w.$$.fragment,T),ne(S.$$.fragment,T),I=!1},d(T){T&&u(e),Ee(w),Ee(S)}}}function ri(s){let e,t,l,a=s[3].t("Archived Chats")+"",r,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,g,_,k,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,w,E,S,V,D,I,T,C,R,W,L;const K=[li,ti],Y=[];function B(A,O){return A[2].length>0?0:1}return T=B(s),C=Y[T]=K[T](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("button"),c.innerHTML=f,m=M(),p=d("div"),g=d("div"),_=d("div"),k=d("div"),k.innerHTML=b,y=M(),w=d("input"),S=M(),V=d("hr"),D=M(),I=d("div"),C.c(),this.h()},l(A){e=h(A,"DIV",{});var O=v(e);t=h(O,"DIV",{class:!0});var U=v(t);l=h(U,"DIV",{class:!0});var P=v(l);r=N(P,a),P.forEach(u),i=x(U),c=h(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(c)!=="svelte-745w2y"&&(c.innerHTML=f),U.forEach(u),m=x(O),p=h(O,"DIV",{class:!0});var G=v(p);g=h(G,"DIV",{class:!0});var j=v(g);_=h(j,"DIV",{class:!0});var Z=v(_);k=h(Z,"DIV",{class:!0,"data-svelte-h":!0}),Ne(k)!=="svelte-kinl2y"&&(k.innerHTML=b),y=x(Z),w=h(Z,"INPUT",{class:!0,placeholder:!0}),Z.forEach(u),j.forEach(u),S=x(G),V=h(G,"HR",{class:!0}),D=x(G),I=h(G,"DIV",{class:!0});var X=v(I);C.l(X),X.forEach(u),G.forEach(u),O.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),o(k,"class","self-center ml-1 mr-3"),o(w,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),o(w,"placeholder",E=s[3].t("Search Chats")),o(_,"class","flex flex-1"),o(g,"class","flex w-full mt-2 space-x-2"),o(V,"class","dark:border-gray-850 my-2"),o(I,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(p,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(A,O){z(A,e,O),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(e,m),n(e,p),n(p,g),n(g,_),n(_,k),n(_,y),n(_,w),ze(w,s[1]),n(p,S),n(p,V),n(p,D),n(p,I),Y[T].m(I,null),R=!0,W||(L=[ee(c,"click",s[8]),ee(w,"input",s[9])],W=!0)},p(A,O){(!R||O&8)&&a!==(a=A[3].t("Archived Chats")+"")&&$(r,a),(!R||O&8&&E!==(E=A[3].t("Search Chats")))&&o(w,"placeholder",E),O&2&&w.value!==A[1]&&ze(w,A[1]);let U=T;T=B(A),T===U?Y[T].p(A,O):(Lt(),ne(Y[U],1,1,()=>{Y[U]=null}),Bt(),C=Y[T],C?C.p(A,O):(C=Y[T]=K[T](A),C.c()),ae(C,1),C.m(I,null))},i(A){R||(ae(C),R=!0)},o(A){ne(C),R=!1},d(A){A&&u(e),Y[T].d(),W=!1,st(L)}}}function ni(s){let e,t,l;function a(i){s[14](i)}let r={size:"lg",$$slots:{default:[ri]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new vl({props:r}),dt.push(()=>It(e,"show",a)),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&1048591&&(f.$$scope={dirty:c,ctx:i}),!t&&c&1&&(t=!0,f.show=i[0],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}function oi(s,e,t){let l;const{saveAs:a}=ql,r=sl(),i=kt("i18n");Be(s,i,D=>t(3,l=D));let{show:c=!1}=e,f="",m=[];const p=async D=>{await Ua(localStorage.token,D).catch(I=>{Je.error(I)}),t(2,m=await Ul(localStorage.token)),r("change")},g=async D=>{await Pa(localStorage.token,D).catch(I=>{Je.error(I)}),t(2,m=await Ul(localStorage.token))},_=async()=>{const D=await er(localStorage.token);let I=new Blob([JSON.stringify(D)],{type:"application/json"});a(I,`archived-chat-export-${Date.now()}.json`)},k=()=>{t(0,c=!1)};function b(){f=this.value,t(1,f)}const y=D=>f===""||D.title.toLowerCase().includes(f.toLowerCase()),w=async D=>{p(D.id)},E=async D=>{g(D.id)},S=()=>{_()};function V(D){c=D,t(0,c)}return s.$$set=D=>{"show"in D&&t(0,c=D.show)},s.$$.update=()=>{s.$$.dirty&1&&c&&(async()=>t(2,m=await Ul(localStorage.token)))()},[c,f,m,l,i,p,g,_,k,b,y,w,E,S,V]}class ii extends it{constructor(e){super(),ct(this,e,oi,ni,ot,{show:0})}}function ci(s){let e,t;return{c(){e=$e("svg"),t=$e("path"),this.h()},l(l){e=je(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=je(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&u(e)}}}function ui(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class fi extends it{constructor(e){super(),ct(this,e,ui,ci,ot,{className:0,strokeWidth:1})}}function di(s){let e;const t=s[10].default,l=Aa(t,s,s[19],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&524288)&&Sa(l,t,a,a[19],e?Ba(t,a[19],r,null):La(a[19]),null)},i(a){e||(ae(l,a),e=!0)},o(a){ne(l,a),e=!1},d(a){l&&l.d(a)}}}function hi(s){let e,t;return e=new $t({props:{content:s[8].t("More"),$$slots:{default:[di]},$$scope:{ctx:s}}}),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p(l,a){const r={};a&256&&(r.content=l[8].t("More")),a&524288&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function vi(s){let e,t,l,a=s[8].t("Rename")+"",r,i;return e=new fi({props:{strokeWidth:"2"}}),{c(){we(e.$$.fragment),t=M(),l=d("div"),r=H(a),this.h()},l(c){ke(e.$$.fragment,c),t=x(c),l=h(c,"DIV",{class:!0});var f=v(l);r=N(f,a),f.forEach(u),this.h()},h(){o(l,"class","flex items-center")},m(c,f){ye(e,c,f),z(c,t,f),z(c,l,f),n(l,r),i=!0},p(c,f){(!i||f&256)&&a!==(a=c[8].t("Rename")+"")&&$(r,a)},i(c){i||(ae(e.$$.fragment,c),i=!0)},o(c){ne(e.$$.fragment,c),i=!1},d(c){c&&(u(t),u(l)),Ee(e,c)}}}function mi(s){let e,t,l,a=s[8].t("Clone")+"",r,i;return e=new jr({props:{strokeWidth:"2"}}),{c(){we(e.$$.fragment),t=M(),l=d("div"),r=H(a),this.h()},l(c){ke(e.$$.fragment,c),t=x(c),l=h(c,"DIV",{class:!0});var f=v(l);r=N(f,a),f.forEach(u),this.h()},h(){o(l,"class","flex items-center")},m(c,f){ye(e,c,f),z(c,t,f),z(c,l,f),n(l,r),i=!0},p(c,f){(!i||f&256)&&a!==(a=c[8].t("Clone")+"")&&$(r,a)},i(c){i||(ae(e.$$.fragment,c),i=!0)},o(c){ne(e.$$.fragment,c),i=!1},d(c){c&&(u(t),u(l)),Ee(e,c)}}}function _i(s){let e,t,l,a=s[8].t("Archive")+"",r,i;return e=new Za({props:{strokeWidth:"2"}}),{c(){we(e.$$.fragment),t=M(),l=d("div"),r=H(a),this.h()},l(c){ke(e.$$.fragment,c),t=x(c),l=h(c,"DIV",{class:!0});var f=v(l);r=N(f,a),f.forEach(u),this.h()},h(){o(l,"class","flex items-center")},m(c,f){ye(e,c,f),z(c,t,f),z(c,l,f),n(l,r),i=!0},p(c,f){(!i||f&256)&&a!==(a=c[8].t("Archive")+"")&&$(r,a)},i(c){i||(ae(e.$$.fragment,c),i=!0)},o(c){ne(e.$$.fragment,c),i=!1},d(c){c&&(u(t),u(l)),Ee(e,c)}}}function pi(s){let e,t,l,a=s[8].t("Share")+"",r,i;return e=new zr({}),{c(){we(e.$$.fragment),t=M(),l=d("div"),r=H(a),this.h()},l(c){ke(e.$$.fragment,c),t=x(c),l=h(c,"DIV",{class:!0});var f=v(l);r=N(f,a),f.forEach(u),this.h()},h(){o(l,"class","flex items-center")},m(c,f){ye(e,c,f),z(c,t,f),z(c,l,f),n(l,r),i=!0},p(c,f){(!i||f&256)&&a!==(a=c[8].t("Share")+"")&&$(r,a)},i(c){i||(ae(e.$$.fragment,c),i=!0)},o(c){ne(e.$$.fragment,c),i=!1},d(c){c&&(u(t),u(l)),Ee(e,c)}}}function gi(s){let e,t,l,a=s[8].t("Delete")+"",r,i;return e=new Ra({props:{strokeWidth:"2"}}),{c(){we(e.$$.fragment),t=M(),l=d("div"),r=H(a),this.h()},l(c){ke(e.$$.fragment,c),t=x(c),l=h(c,"DIV",{class:!0});var f=v(l);r=N(f,a),f.forEach(u),this.h()},h(){o(l,"class","flex items-center")},m(c,f){ye(e,c,f),z(c,t,f),z(c,l,f),n(l,r),i=!0},p(c,f){(!i||f&256)&&a!==(a=c[8].t("Delete")+"")&&$(r,a)},i(c){i||(ae(e.$$.fragment,c),i=!0)},o(c){ne(e.$$.fragment,c),i=!1},d(c){c&&(u(t),u(l)),Ee(e,c)}}}function bi(s){let e,t,l,a,r,i,c,f,m,p,g,_,k,b,y;return e=new _l({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[vi]},$$scope:{ctx:s}}}),e.$on("click",s[11]),l=new _l({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[mi]},$$scope:{ctx:s}}}),l.$on("click",s[12]),r=new _l({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[_i]},$$scope:{ctx:s}}}),r.$on("click",s[13]),c=new _l({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[pi]},$$scope:{ctx:s}}}),c.$on("click",s[14]),m=new _l({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[gi]},$$scope:{ctx:s}}}),m.$on("click",s[15]),b=new Hr({props:{chatId:s[6]}}),b.$on("close",s[16]),{c(){we(e.$$.fragment),t=M(),we(l.$$.fragment),a=M(),we(r.$$.fragment),i=M(),we(c.$$.fragment),f=M(),we(m.$$.fragment),p=M(),g=d("hr"),_=M(),k=d("div"),we(b.$$.fragment),this.h()},l(w){ke(e.$$.fragment,w),t=x(w),ke(l.$$.fragment,w),a=x(w),ke(r.$$.fragment,w),i=x(w),ke(c.$$.fragment,w),f=x(w),ke(m.$$.fragment,w),p=x(w),g=h(w,"HR",{class:!0}),_=x(w),k=h(w,"DIV",{class:!0});var E=v(k);ke(b.$$.fragment,E),E.forEach(u),this.h()},h(){o(g,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),o(k,"class","flex p-1")},m(w,E){ye(e,w,E),z(w,t,E),ye(l,w,E),z(w,a,E),ye(r,w,E),z(w,i,E),ye(c,w,E),z(w,f,E),ye(m,w,E),z(w,p,E),z(w,g,E),z(w,_,E),z(w,k,E),ye(b,k,null),y=!0},p(w,E){const S={};E&524544&&(S.$$scope={dirty:E,ctx:w}),e.$set(S);const V={};E&524544&&(V.$$scope={dirty:E,ctx:w}),l.$set(V);const D={};E&524544&&(D.$$scope={dirty:E,ctx:w}),r.$set(D);const I={};E&524544&&(I.$$scope={dirty:E,ctx:w}),c.$set(I);const T={};E&524544&&(T.$$scope={dirty:E,ctx:w}),m.$set(T);const C={};E&64&&(C.chatId=w[6]),b.$set(C)},i(w){y||(ae(e.$$.fragment,w),ae(l.$$.fragment,w),ae(r.$$.fragment,w),ae(c.$$.fragment,w),ae(m.$$.fragment,w),ae(b.$$.fragment,w),y=!0)},o(w){ne(e.$$.fragment,w),ne(l.$$.fragment,w),ne(r.$$.fragment,w),ne(c.$$.fragment,w),ne(m.$$.fragment,w),ne(b.$$.fragment,w),y=!1},d(w){w&&(u(t),u(a),u(i),u(f),u(p),u(g),u(_),u(k)),Ee(e,w),Ee(l,w),Ee(r,w),Ee(c,w),Ee(m,w),Ee(b)}}}function wi(s){let e,t,l;return t=new Pr({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:$r,$$slots:{default:[bi]},$$scope:{ctx:s}}}),{c(){e=d("div"),we(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{slot:!0});var r=v(e);ke(t.$$.fragment,r),r.forEach(u),this.h()},h(){o(e,"slot","content")},m(a,r){z(a,e,r),ye(t,e,null),l=!0},p(a,r){const i={};r&524799&&(i.$$scope={dirty:r,ctx:a}),t.$set(i)},i(a){l||(ae(t.$$.fragment,a),l=!0)},o(a){ne(t.$$.fragment,a),l=!1},d(a){a&&u(e),Ee(t)}}}function ki(s){let e,t,l;function a(i){s[17](i)}let r={$$slots:{content:[wi],default:[hi]},$$scope:{ctx:s}};return s[7]!==void 0&&(r.show=s[7]),e=new Ur({props:r}),dt.push(()=>It(e,"show",a)),e.$on("change",s[18]),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&524799&&(f.$$scope={dirty:c,ctx:i}),!t&&c&128&&(t=!0,f.show=i[7],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}function yi(s,e,t){let l,{$$slots:a={},$$scope:r}=e;const i=kt("i18n");Be(s,i,C=>t(8,l=C));let{shareHandler:c}=e,{cloneChatHandler:f}=e,{archiveChatHandler:m}=e,{renameHandler:p}=e,{deleteHandler:g}=e,{onClose:_}=e,{chatId:k=""}=e,b=!1;const y=()=>{p()},w=()=>{f()},E=()=>{m()},S=()=>{c()},V=()=>{g()},D=()=>{t(7,b=!1),_()};function I(C){b=C,t(7,b)}const T=C=>{C.detail===!1&&_()};return s.$$set=C=>{"shareHandler"in C&&t(0,c=C.shareHandler),"cloneChatHandler"in C&&t(1,f=C.cloneChatHandler),"archiveChatHandler"in C&&t(2,m=C.archiveChatHandler),"renameHandler"in C&&t(3,p=C.renameHandler),"deleteHandler"in C&&t(4,g=C.deleteHandler),"onClose"in C&&t(5,_=C.onClose),"chatId"in C&&t(6,k=C.chatId),"$$scope"in C&&t(19,r=C.$$scope)},[c,f,m,p,g,_,k,b,l,i,a,y,w,E,S,V,D,I,T,r]}class Ei extends it{constructor(e){super(),ct(this,e,yi,ki,ot,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function Ii(s){let e,t,l,a=s[0].title+"",r,i,c,f,m;return{c(){e=d("a"),t=d("div"),l=d("div"),r=H(a),this.h()},l(p){e=h(p,"A",{class:!0,href:!0,draggable:!0});var g=v(e);t=h(g,"DIV",{class:!0});var _=v(t);l=h(_,"DIV",{class:!0});var k=v(l);r=N(k,a),k.forEach(u),_.forEach(u),g.forEach(u),this.h()},h(){o(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",i="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[7]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),o(e,"href",c="/c/"+s[0].id),o(e,"draggable","false")},m(p,g){z(p,e,g),n(e,t),n(t,l),n(l,r),f||(m=[ee(e,"click",s[17]),ee(e,"dblclick",s[18]),ee(e,"mouseenter",s[19]),ee(e,"mouseleave",s[20]),ee(e,"focus",Hi)],f=!0)},p(p,g){g[0]&1&&a!==(a=p[0].title+"")&&$(r,a),g[0]&163&&i!==(i="w-full flex justify-between rounded-xl px-3 py-2 "+(p[0].id===p[7]||p[5]?"bg-gray-200 dark:bg-gray-900":p[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",i),g[0]&1&&c!==(c="/c/"+p[0].id)&&o(e,"href",c)},d(p){p&&u(e),f=!1,st(m)}}}function Di(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=v(e);t=h(c,"INPUT",{class:!0}),c.forEach(u),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[7]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(i,c){z(i,e,c),n(e,t),ze(t,s[6]),a||(r=[Ya(s[14].call(null,t)),ee(t,"input",s[16])],a=!0)},p(i,c){c[0]&64&&t.value!==i[6]&&ze(t,i[6]),c[0]&163&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(i[0].id===i[7]||i[5]?"bg-gray-200 dark:bg-gray-900":i[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(i){i&&u(e),a=!1,st(r)}}}function Ti(s){let e,t,l,a;t=new Ei({props:{chatId:s[0].id,cloneChatHandler:s[26],shareHandler:s[27],archiveChatHandler:s[28],renameHandler:s[29],deleteHandler:s[30],onClose:s[31],$$slots:{default:[Mi]},$$scope:{ctx:s}}});let r=s[0].id===s[7]&&oa(s);return{c(){e=d("div"),we(t.$$.fragment),l=M(),r&&r.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=v(e);ke(t.$$.fragment,c),l=x(c),r&&r.l(c),c.forEach(u),this.h()},h(){o(e,"class","flex self-center space-x-1 z-10")},m(i,c){z(i,e,c),ye(t,e,null),n(e,l),r&&r.m(e,null),a=!0},p(i,c){const f={};c[0]&1&&(f.chatId=i[0].id),c[0]&1&&(f.cloneChatHandler=i[26]),c[0]&16&&(f.shareHandler=i[27]),c[0]&1&&(f.archiveChatHandler=i[28]),c[0]&97&&(f.renameHandler=i[29]),c[1]&32&&(f.$$scope={dirty:c,ctx:i}),t.$set(f),i[0].id===i[7]?r?r.p(i,c):(r=oa(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(i){a||(ae(t.$$.fragment,i),a=!0)},o(i){ne(t.$$.fragment,i),a=!1},d(i){i&&u(e),Ee(t),r&&r.d()}}}function Vi(s){let e,t,l,a,r;return t=new $t({props:{content:"Archive",className:"flex items-center",$$slots:{default:[xi]},$$scope:{ctx:s}}}),a=new $t({props:{content:"Delete",$$slots:{default:[Ai]},$$scope:{ctx:s}}}),{c(){e=d("div"),we(t.$$.fragment),l=M(),we(a.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=v(e);ke(t.$$.fragment,c),l=x(c),ke(a.$$.fragment,c),c.forEach(u),this.h()},h(){o(e,"class","flex items-center self-center space-x-1.5")},m(i,c){z(i,e,c),ye(t,e,null),n(e,l),ye(a,e,null),r=!0},p(i,c){const f={};c[0]&1|c[1]&32&&(f.$$scope={dirty:c,ctx:i}),t.$set(f);const m={};c[1]&32&&(m.$$scope={dirty:c,ctx:i}),a.$set(m)},i(i){r||(ae(t.$$.fragment,i),ae(a.$$.fragment,i),r=!0)},o(i){ne(t.$$.fragment,i),ne(a.$$.fragment,i),r=!1},d(i){i&&u(e),Ee(t),Ee(a)}}}function Ci(s){let e,t,l,a,r;return t=new $t({props:{content:"Confirm",$$slots:{default:[Si]},$$scope:{ctx:s}}}),a=new $t({props:{content:"Cancel",$$slots:{default:[Li]},$$scope:{ctx:s}}}),{c(){e=d("div"),we(t.$$.fragment),l=M(),we(a.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=v(e);ke(t.$$.fragment,c),l=x(c),ke(a.$$.fragment,c),c.forEach(u),this.h()},h(){o(e,"class","flex self-center space-x-1.5 z-10")},m(i,c){z(i,e,c),ye(t,e,null),n(e,l),ye(a,e,null),r=!0},p(i,c){const f={};c[0]&97|c[1]&32&&(f.$$scope={dirty:c,ctx:i}),t.$set(f);const m={};c[0]&96|c[1]&32&&(m.$$scope={dirty:c,ctx:i}),a.$set(m)},i(i){r||(ae(t.$$.fragment,i),ae(a.$$.fragment,i),r=!0)},o(i){ne(t.$$.fragment,i),ne(a.$$.fragment,i),r=!1},d(i){i&&u(e),Ee(t),Ee(a)}}}function Mi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){o(e,"aria-label","Chat Menu"),o(e,"class","self-center dark:hover:text-white transition")},m(r,i){z(r,e,i),l||(a=ee(e,"click",s[25]),l=!0)},p:Ze,d(r){r&&u(e),l=!1,a()}}}function oa(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-17232xf"&&(e.innerHTML=t),this.h()},h(){o(e,"id","delete-chat-button"),o(e,"class","hidden")},m(r,i){z(r,e,i),l||(a=ee(e,"click",s[32]),l=!0)},p:Ze,d(r){r&&u(e),l=!1,a()}}}function xi(s){let e,t,l,a,r;return t=new Za({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=d("button"),we(t.$$.fragment),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0});var c=v(e);ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){o(e,"class","self-center dark:hover:text-white transition"),o(e,"type","button")},m(i,c){z(i,e,c),ye(t,e,null),l=!0,a||(r=ee(e,"click",s[23]),a=!0)},p:Ze,i(i){l||(ae(t.$$.fragment,i),l=!0)},o(i){ne(t.$$.fragment,i),l=!1},d(i){i&&u(e),Ee(t),a=!1,r()}}}function Ai(s){let e,t,l,a,r;return t=new Ra({props:{strokeWidth:"2"}}),{c(){e=d("button"),we(t.$$.fragment),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0});var c=v(e);ke(t.$$.fragment,c),c.forEach(u),this.h()},h(){o(e,"class","self-center dark:hover:text-white transition"),o(e,"type","button")},m(i,c){z(i,e,c),ye(t,e,null),l=!0,a||(r=ee(e,"click",s[24]),a=!0)},p:Ze,i(i){l||(ae(t.$$.fragment,i),l=!0)},o(i){ne(t.$$.fragment,i),l=!1},d(i){i&&u(e),Ee(t),a=!1,r()}}}function Si(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-15k98vn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center dark:hover:text-white transition")},m(r,i){z(r,e,i),l||(a=ee(e,"click",s[21]),l=!0)},p:Ze,d(r){r&&u(e),l=!1,a()}}}function Li(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-19qct0m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center dark:hover:text-white transition")},m(r,i){z(r,e,i),l||(a=ee(e,"click",s[22]),l=!0)},p:Ze,d(r){r&&u(e),l=!1,a()}}}function Bi(s){let e,t,l,a,r,i,c,f,m,p,g,_;function k(I){s[15](I)}let b={chatId:s[0].id};s[4]!==void 0&&(b.show=s[4]),e=new Nr({props:b}),dt.push(()=>It(e,"show",k));function y(I,T){return I[5]?Di:Ii}let w=y(s),E=w(s);const S=[Ci,Vi,Ti],V=[];function D(I,T){return I[5]?0:I[2]&&I[3]?1:2}return c=D(s),f=V[c]=S[c](s),{c(){we(e.$$.fragment),l=M(),a=d("div"),E.c(),r=M(),i=d("div"),f.c(),this.h()},l(I){ke(e.$$.fragment,I),l=x(I),a=h(I,"DIV",{class:!0});var T=v(a);E.l(T),r=x(T),i=h(T,"DIV",{class:!0});var C=v(i);f.l(C),C.forEach(u),T.forEach(u),this.h()},h(){o(i,"class",m=(s[0].id===s[7]||s[5]?"from-gray-200 dark:from-gray-900":s[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),o(a,"class","w-full pr-2 relative group")},m(I,T){ye(e,I,T),z(I,l,T),z(I,a,T),E.m(a,null),n(a,r),n(a,i),V[c].m(i,null),p=!0,g||(_=[ee(i,"mouseenter",s[33]),ee(i,"mouseleave",s[34])],g=!0)},p(I,T){const C={};T[0]&1&&(C.chatId=I[0].id),!t&&T[0]&16&&(t=!0,C.show=I[4],Et(()=>t=!1)),e.$set(C),w===(w=y(I))&&E?E.p(I,T):(E.d(1),E=w(I),E&&(E.c(),E.m(a,r)));let R=c;c=D(I),c===R?V[c].p(I,T):(Lt(),ne(V[R],1,1,()=>{V[R]=null}),Bt(),f=V[c],f?f.p(I,T):(f=V[c]=S[c](I),f.c()),ae(f,1),f.m(i,null)),(!p||T[0]&163&&m!==(m=(I[0].id===I[7]||I[5]?"from-gray-200 dark:from-gray-900":I[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&o(i,"class",m)},i(I){p||(ae(e.$$.fragment,I),ae(f),p=!0)},o(I){ne(e.$$.fragment,I),ne(f),p=!1},d(I){I&&(u(l),u(a)),Ee(e,I),E.d(),V[c].d(),g=!1,st(_)}}}const Hi=s=>{};function Ni(s,e,t){let l,a,r;Be(s,Sl,F=>t(7,a=F)),Be(s,Rl,F=>t(8,r=F));const i=kt("i18n");Be(s,i,F=>t(35,l=F));const c=sl();let{chat:f}=e,{selected:m=!1}=e,{shiftKey:p=!1}=e,g=!1,_=!1,k=!1,b=f.title;const y=async(F,Q)=>{Q===""?Je.error(l.t("Title cannot be an empty string.")):(await tr(localStorage.token,F,{title:Q}),await Ht.set(await Kt(localStorage.token)))},w=async F=>{const Q=await lr(localStorage.token,F).catch(re=>(Je.error(re),null));Q&&(ol(`/c/${Q.id}`),await Ht.set(await Kt(localStorage.token)))},E=async F=>{await Ua(localStorage.token,F),await Ht.set(await Kt(localStorage.token))},S=async F=>{F.focus()};function V(F){_=F,t(4,_)}function D(){b=this.value,t(6,b)}const I=()=>{c("select"),r&&qt.set(!1)},T=()=>{t(6,b=f.title),t(5,k=!0)},C=F=>{t(3,g=!0)},R=F=>{t(3,g=!1)},W=()=>{y(f.id,b),t(5,k=!1),t(6,b="")},L=()=>{t(5,k=!1),t(6,b="")},K=()=>{E(f.id)},Y=()=>{c("delete","shift")},B=()=>{c("select")},A=()=>{w(f.id)},O=()=>{t(4,_=!0)},U=()=>{E(f.id)},P=()=>{t(6,b=f.title),t(5,k=!0)},G=()=>{c("delete")},j=()=>{c("unselect")},Z=()=>{c("delete")},X=F=>{t(3,g=!0)},q=F=>{t(3,g=!1)};return s.$$set=F=>{"chat"in F&&t(0,f=F.chat),"selected"in F&&t(1,m=F.selected),"shiftKey"in F&&t(2,p=F.shiftKey)},[f,m,p,g,_,k,b,a,r,i,c,y,w,E,S,V,D,I,T,C,R,W,L,K,Y,B,A,O,U,P,G,j,Z,X,q]}class Oi extends it{constructor(e){super(),ct(this,e,Ni,Bi,ot,{chat:0,selected:1,shiftKey:2},null,[-1,-1])}}function ia(s,e,t){const l=s.slice();return l[40]=e[t],l[42]=t,l}function ca(s,e,t){const l=s.slice();return l[43]=e[t],l}function Ui(s){let e,t,l,a=s[5].title+"",r,i;return{c(){e=d("div"),t=H("This will delete "),l=d("span"),r=H(a),i=H("."),this.h()},l(c){e=h(c,"DIV",{class:!0});var f=v(e);t=N(f,"This will delete "),l=h(f,"SPAN",{class:!0});var m=v(l);r=N(m,a),m.forEach(u),i=N(f,"."),f.forEach(u),this.h()},h(){o(l,"class","font-semibold"),o(e,"class","text-sm text-gray-500")},m(c,f){z(c,e,f),n(e,t),n(e,l),n(l,r),n(e,i)},p(c,f){f[0]&32&&a!==(a=c[5].title+"")&&$(r,a)},d(c){c&&u(e)}}}function ua(s){let e,t,l;return{c(){e=d("div"),this.h()},l(a){e=h(a,"DIV",{class:!0}),v(e).forEach(u),this.h()},h(){o(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,r){z(a,e,r),t||(l=ee(e,"mousedown",s[24]),t=!0)},p:Ze,d(a){a&&u(e),t=!1,l()}}}function fa(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,i,c,f=s[13].t("Workspace")+"",m,p,g;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=a,r=M(),i=d("div"),c=d("div"),m=H(f),this.h()},l(_){e=h(_,"DIV",{class:!0});var k=v(e);t=h(k,"A",{class:!0,href:!0,draggable:!0});var b=v(t);l=h(b,"DIV",{class:!0,"data-svelte-h":!0}),Ne(l)!=="svelte-zod9jr"&&(l.innerHTML=a),r=x(b),i=h(b,"DIV",{class:!0});var y=v(i);c=h(y,"DIV",{class:!0});var w=v(c);m=N(w,f),w.forEach(u),y.forEach(u),b.forEach(u),k.forEach(u),this.h()},h(){o(l,"class","self-center"),o(c,"class","self-center font-medium text-sm"),o(i,"class","flex self-center"),o(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),o(t,"href","/workspace"),o(t,"draggable","false"),o(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(_,k){z(_,e,k),n(e,t),n(t,l),n(t,r),n(t,i),n(i,c),n(c,m),p||(g=ee(t,"click",s[27]),p=!0)},p(_,k){k[0]&8192&&f!==(f=_[13].t("Workspace")+"")&&$(m,f)},d(_){_&&u(e),p=!1,g()}}}function da(s){let e,t,l,a=s[13].t("Chat History is off for this browser.")+"",r,i,c,f=s[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",m,p,g,_=s[13].t("This setting does not sync across browsers or devices.")+"",k,b,y,w,E,S,V,D,I=s[13].t("Enable Chat History")+"",T,C,R;return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=d("div"),m=H(f),p=M(),g=d("span"),k=H(_),b=M(),y=d("div"),w=d("button"),E=$e("svg"),S=$e("path"),V=M(),D=d("div"),T=H(I),this.h()},l(W){e=h(W,"DIV",{class:!0});var L=v(e);t=h(L,"DIV",{class:!0});var K=v(t);l=h(K,"DIV",{class:!0});var Y=v(l);r=N(Y,a),Y.forEach(u),i=x(K),c=h(K,"DIV",{class:!0});var B=v(c);m=N(B,f),p=x(B),g=h(B,"SPAN",{class:!0});var A=v(g);k=N(A,_),A.forEach(u),B.forEach(u),b=x(K),y=h(K,"DIV",{class:!0});var O=v(y);w=h(O,"BUTTON",{class:!0,type:!0});var U=v(w);E=je(U,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var P=v(E);S=je(P,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(S).forEach(u),P.forEach(u),V=x(U),D=h(U,"DIV",{});var G=v(D);T=N(G,I),G.forEach(u),U.forEach(u),O.forEach(u),K.forEach(u),L.forEach(u),this.h()},h(){o(l,"class","font-medium"),o(g,"class","font-semibold"),o(c,"class","text-xs mt-2"),o(S,"fill-rule","evenodd"),o(S,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),o(S,"clip-rule","evenodd"),o(E,"xmlns","http://www.w3.org/2000/svg"),o(E,"viewBox","0 0 16 16"),o(E,"fill","currentColor"),o(E,"class","w-3 h-3"),o(w,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),o(w,"type","button"),o(y,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(W,L){z(W,e,L),n(e,t),n(t,l),n(l,r),n(t,i),n(t,c),n(c,m),n(c,p),n(c,g),n(g,k),n(t,b),n(t,y),n(y,w),n(w,E),n(E,S),n(w,V),n(w,D),n(D,T),C||(R=ee(w,"click",s[28]),C=!0)},p(W,L){L[0]&8192&&a!==(a=W[13].t("Chat History is off for this browser.")+"")&&$(r,a),L[0]&8192&&f!==(f=W[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&$(m,f),L[0]&8192&&_!==(_=W[13].t("This setting does not sync across browsers or devices.")+"")&&$(k,_),L[0]&8192&&I!==(I=W[13].t("Enable Chat History")+"")&&$(T,I)},d(W){W&&u(e),C=!1,R()}}}function ha(s){let e,t,l=s[13].t("all")+"",a,r,i,c,f=nt(s[15]),m=[];for(let p=0;p<f.length;p+=1)m[p]=va(ca(s,f,p));return{c(){e=d("div"),t=d("button"),a=H(l),r=M();for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var g=v(e);t=h(g,"BUTTON",{class:!0});var _=v(t);a=N(_,l),_.forEach(u),r=x(g);for(let k=0;k<m.length;k+=1)m[k].l(g);g.forEach(u),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(p,g){z(p,e,g),n(e,t),n(t,a),n(e,r);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(e,null);i||(c=ee(t,"click",s[31]),i=!0)},p(p,g){if(g[0]&8192&&l!==(l=p[13].t("all")+"")&&$(a,l),g[0]&32768){f=nt(p[15]);let _;for(_=0;_<f.length;_+=1){const k=ca(p,f,_);m[_]?m[_].p(k,g):(m[_]=va(k),m[_].c(),m[_].m(e,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}},d(p){p&&u(e),zt(m,p),i=!1,c()}}}function va(s){let e,t=s[43].name+"",l,a,r,i;function c(){return s[32](s[43])}return{c(){e=d("button"),l=H(t),a=M(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var m=v(e);l=N(m,t),a=x(m),m.forEach(u),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,m){z(f,e,m),n(e,l),n(e,a),r||(i=ee(e,"click",c),r=!0)},p(f,m){s=f,m[0]&32768&&t!==(t=s[43].name+"")&&$(l,t)},d(f){f&&u(e),r=!1,i()}}}function ma(s){let e,t=s[13].t(s[40].time_range)+"",l;return{c(){e=d("div"),l=H(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=N(r,t),r.forEach(u),this.h()},h(){o(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[42]===0?"":"pt-5")+" pb-0.5")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&8448&&t!==(t=a[13].t(a[40].time_range)+"")&&$(l,t)},d(a){a&&u(e)}}}function _a(s){let e,t,l,a=(s[42]===0||s[42]>0&&s[40].time_range!==s[8][s[42]-1].time_range)&&ma(s);function r(){return s[33](s[40])}function i(...c){return s[35](s[40],...c)}return t=new Oi({props:{chat:s[40],shiftKey:s[3],selected:s[4]===s[40].id}}),t.$on("select",r),t.$on("unselect",s[34]),t.$on("delete",i),{c(){a&&a.c(),e=M(),we(t.$$.fragment)},l(c){a&&a.l(c),e=x(c),ke(t.$$.fragment,c)},m(c,f){a&&a.m(c,f),z(c,e,f),ye(t,c,f),l=!0},p(c,f){s=c,s[42]===0||s[42]>0&&s[40].time_range!==s[8][s[42]-1].time_range?a?a.p(s,f):(a=ma(s),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const m={};f[0]&256&&(m.chat=s[40]),f[0]&8&&(m.shiftKey=s[3]),f[0]&272&&(m.selected=s[4]===s[40].id),t.$set(m)},i(c){l||(ae(t.$$.fragment,c),l=!0)},o(c){ne(t.$$.fragment,c),l=!1},d(c){c&&u(e),a&&a.d(c),Ee(t,c)}}}function pa(s){let e,t;return e=new Or({props:{role:s[14].role,$$slots:{default:[Pi]},$$scope:{ctx:s}}}),e.$on("show",s[37]),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p(l,a){const r={};a[0]&16384&&(r.role=l[14].role),a[0]&16512|a[1]&32768&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function Pi(s){let e,t,l,a,r,i,c=s[14].name+"",f,m,p;return{c(){e=d("button"),t=d("div"),l=d("img"),r=M(),i=d("div"),f=H(c),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0});var k=v(t);l=h(k,"IMG",{src:!0,class:!0,alt:!0}),k.forEach(u),r=x(_),i=h(_,"DIV",{class:!0});var b=v(i);f=N(b,c),b.forEach(u),_.forEach(u),this.h()},h(){Ll(l.src,a=s[14].profile_image_url)||o(l,"src",a),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(i,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(g,_){z(g,e,_),n(e,t),n(t,l),n(e,r),n(e,i),n(i,f),m||(p=ee(e,"click",s[36]),m=!0)},p(g,_){_[0]&16384&&!Ll(l.src,a=g[14].profile_image_url)&&o(l,"src",a),_[0]&16384&&c!==(c=g[14].name+"")&&$(f,c)},d(g){g&&u(e),m=!1,p()}}}function $i(s){var Ce;let e,t,l,a,r,i,c,f,m,p,g,_,k=`<img crossorigin="anonymous" src="${dr}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,b,y,w=s[13].t("New Chat")+"",E,S,V,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',I,T,C='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',R,W,L,K,Y,B,A,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',U,P,G,j,Z,X,q,F,Q,re,me,J,oe,he;function ve(le){s[20](le)}let Te={};s[11]!==void 0&&(Te.show=s[11]),e=new ii({props:Te}),dt.push(()=>It(e,"show",ve)),e.$on("change",s[21]);function pe(le){s[22](le)}let ie={title:"Delete chat?",$$slots:{default:[Ui]},$$scope:{ctx:s}};s[6]!==void 0&&(ie.show=s[6]),a=new Zr({props:ie}),dt.push(()=>It(a,"show",pe)),a.$on("confirm",s[23]);let te=s[10]&&ua(s),se=((Ce=s[14])==null?void 0:Ce.role)==="admin"&&fa(s),ce=!(s[9].saveChatHistory??!0)&&da(s),_e=s[15].length>0&&ha(s),Me=nt(s[8]),Ie=[];for(let le=0;le<Me.length;le+=1)Ie[le]=_a(ia(s,Me,le));const Ke=le=>ne(Ie[le],1,1,()=>{Ie[le]=null});let xe=s[14]!==void 0&&pa(s);return{c(){we(e.$$.fragment),l=M(),we(a.$$.fragment),i=M(),te&&te.c(),c=M(),f=d("div"),m=d("div"),p=d("div"),g=d("a"),_=d("div"),_.innerHTML=k,b=M(),y=d("div"),E=H(w),S=M(),V=d("div"),V.innerHTML=D,I=M(),T=d("button"),T.innerHTML=C,R=M(),se&&se.c(),W=M(),L=d("div"),ce&&ce.c(),K=M(),Y=d("div"),B=d("div"),A=d("div"),A.innerHTML=O,U=M(),P=d("input"),j=M(),_e&&_e.c(),Z=M(),X=d("div");for(let le=0;le<Ie.length;le+=1)Ie[le].c();q=M(),F=d("div"),Q=d("div"),xe&&xe.c(),this.h()},l(le){ke(e.$$.fragment,le),l=x(le),ke(a.$$.fragment,le),i=x(le),te&&te.l(le),c=x(le),f=h(le,"DIV",{id:!0,class:!0,"data-state":!0});var fe=v(f);m=h(fe,"DIV",{class:!0});var Ae=v(m);p=h(Ae,"DIV",{class:!0});var De=v(p);g=h(De,"A",{id:!0,class:!0,href:!0,draggable:!0});var Oe=v(g);_=h(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Ne(_)!=="svelte-r2hfwb"&&(_.innerHTML=k),b=x(Oe),y=h(Oe,"DIV",{class:!0});var Ue=v(y);E=N(Ue,w),Ue.forEach(u),S=x(Oe),V=h(Oe,"DIV",{class:!0,"data-svelte-h":!0}),Ne(V)!=="svelte-aq723q"&&(V.innerHTML=D),Oe.forEach(u),I=x(De),T=h(De,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(T)!=="svelte-bwmtc9"&&(T.innerHTML=C),De.forEach(u),R=x(Ae),se&&se.l(Ae),W=x(Ae),L=h(Ae,"DIV",{class:!0});var Le=v(L);ce&&ce.l(Le),K=x(Le),Y=h(Le,"DIV",{class:!0});var Ve=v(Y);B=h(Ve,"DIV",{class:!0,id:!0});var Se=v(B);A=h(Se,"DIV",{class:!0,"data-svelte-h":!0}),Ne(A)!=="svelte-1yg7etj"&&(A.innerHTML=O),U=x(Se),P=h(Se,"INPUT",{class:!0,placeholder:!0}),Se.forEach(u),Ve.forEach(u),j=x(Le),_e&&_e.l(Le),Z=x(Le),X=h(Le,"DIV",{class:!0});var We=v(X);for(let Qe=0;Qe<Ie.length;Qe+=1)Ie[Qe].l(We);We.forEach(u),Le.forEach(u),q=x(Ae),F=h(Ae,"DIV",{class:!0});var _t=v(F);Q=h(_t,"DIV",{class:!0});var pt=v(Q);xe&&xe.l(pt),pt.forEach(u),_t.forEach(u),Ae.forEach(u),fe.forEach(u),this.h()},h(){o(_,"class","self-center mx-1.5"),o(y,"class","self-center font-medium text-sm text-gray-850 dark:text-white"),o(V,"class","self-center ml-auto"),o(g,"id","sidebar-new-chat-button"),o(g,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(g,"href","/"),o(g,"draggable","false"),o(T,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),o(p,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),o(A,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),o(P,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),o(P,"placeholder",G=s[13].t("Search")),o(B,"class","flex w-full rounded-xl"),o(B,"id","chat-search"),o(Y,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),o(X,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),o(L,"class","relative flex flex-col flex-1 overflow-y-auto"),o(Q,"class","flex flex-col"),o(F,"class","px-2.5"),o(m,"class",re="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[10]?"":"invisible")),o(f,"id","sidebar"),o(f,"class",me="h-screen max-h-[100dvh] min-h-screen select-none "+(s[10]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),o(f,"data-state",s[10])},m(le,fe){ye(e,le,fe),z(le,l,fe),ye(a,le,fe),z(le,i,fe),te&&te.m(le,fe),z(le,c,fe),z(le,f,fe),n(f,m),n(m,p),n(p,g),n(g,_),n(g,b),n(g,y),n(y,E),n(g,S),n(g,V),n(p,I),n(p,T),n(m,R),se&&se.m(m,null),n(m,W),n(m,L),ce&&ce.m(L,null),n(L,K),n(L,Y),n(Y,B),n(B,A),n(B,U),n(B,P),ze(P,s[0]),n(L,j),_e&&_e.m(L,null),n(L,Z),n(L,X);for(let Ae=0;Ae<Ie.length;Ae+=1)Ie[Ae]&&Ie[Ae].m(X,null);n(m,q),n(m,F),n(F,Q),xe&&xe.m(Q,null),s[38](f),J=!0,oe||(he=[ee(g,"click",s[25]),ee(T,"click",s[26]),ee(P,"input",s[29]),ee(P,"focus",s[30])],oe=!0)},p(le,fe){var Oe;const Ae={};!t&&fe[0]&2048&&(t=!0,Ae.show=le[11],Et(()=>t=!1)),e.$set(Ae);const De={};if(fe[0]&32|fe[1]&32768&&(De.$$scope={dirty:fe,ctx:le}),!r&&fe[0]&64&&(r=!0,De.show=le[6],Et(()=>r=!1)),a.$set(De),le[10]?te?te.p(le,fe):(te=ua(le),te.c(),te.m(c.parentNode,c)):te&&(te.d(1),te=null),(!J||fe[0]&8192)&&w!==(w=le[13].t("New Chat")+"")&&$(E,w),((Oe=le[14])==null?void 0:Oe.role)==="admin"?se?se.p(le,fe):(se=fa(le),se.c(),se.m(m,W)):se&&(se.d(1),se=null),le[9].saveChatHistory??!0?ce&&(ce.d(1),ce=null):ce?ce.p(le,fe):(ce=da(le),ce.c(),ce.m(L,K)),(!J||fe[0]&8192&&G!==(G=le[13].t("Search")))&&o(P,"placeholder",G),fe[0]&1&&P.value!==le[0]&&ze(P,le[0]),le[15].length>0?_e?_e.p(le,fe):(_e=ha(le),_e.c(),_e.m(L,Z)):_e&&(_e.d(1),_e=null),fe[0]&532856){Me=nt(le[8]);let Ue;for(Ue=0;Ue<Me.length;Ue+=1){const Le=ia(le,Me,Ue);Ie[Ue]?(Ie[Ue].p(Le,fe),ae(Ie[Ue],1)):(Ie[Ue]=_a(Le),Ie[Ue].c(),ae(Ie[Ue],1),Ie[Ue].m(X,null))}for(Lt(),Ue=Me.length;Ue<Ie.length;Ue+=1)Ke(Ue);Bt()}le[14]!==void 0?xe?(xe.p(le,fe),fe[0]&16384&&ae(xe,1)):(xe=pa(le),xe.c(),ae(xe,1),xe.m(Q,null)):xe&&(Lt(),ne(xe,1,1,()=>{xe=null}),Bt()),(!J||fe[0]&1024&&re!==(re="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(le[10]?"":"invisible")))&&o(m,"class",re),(!J||fe[0]&1024&&me!==(me="h-screen max-h-[100dvh] min-h-screen select-none "+(le[10]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&o(f,"class",me),(!J||fe[0]&1024)&&o(f,"data-state",le[10])},i(le){if(!J){ae(e.$$.fragment,le),ae(a.$$.fragment,le);for(let fe=0;fe<Me.length;fe+=1)ae(Ie[fe]);ae(xe),J=!0}},o(le){ne(e.$$.fragment,le),ne(a.$$.fragment,le),Ie=Ie.filter(Boolean);for(let fe=0;fe<Ie.length;fe+=1)ne(Ie[fe]);ne(xe),J=!1},d(le){le&&(u(l),u(i),u(c),u(f)),Ee(e,le),Ee(a,le),te&&te.d(le),se&&se.d(),ce&&ce.d(),_e&&_e.d(),zt(Ie,le),xe&&xe.d(),s[38](null),oe=!1,st(he)}}}const ji=768;function zi(s,e,t){let l,a,r,i,c,f,m,p,g;Be(s,Sl,J=>t(39,l=J)),Be(s,Gt,J=>t(9,a=J)),Be(s,qt,J=>t(10,r=J)),Be(s,Ht,J=>t(1,i=J)),Be(s,Pl,J=>t(11,c=J)),Be(s,Rl,J=>t(12,f=J)),Be(s,fl,J=>t(14,p=J)),Be(s,Wl,J=>t(15,g=J));const _=kt("i18n");Be(s,_,J=>t(13,m=J));let k,b="",y=!1,w=null,E=null,S=!1,V=!1,D=[];jt(async()=>{Rl.subscribe(ce=>{r&&ce&&qt.set(!1),!r&&!ce&&qt.set(!0)}),qt.set(window.innerWidth>ji),await Ht.set(await Kt(localStorage.token));let J,oe;function he(){const ce=window.innerWidth,_e=Math.abs(oe.screenX-J.screenX);J.clientX<40&&_e>=ce/8&&(oe.screenX<J.screenX&&qt.set(!1),oe.screenX>J.screenX&&qt.set(!0))}const ve=ce=>{J=ce.changedTouches[0],console.log(J.clientX)},Te=ce=>{oe=ce.changedTouches[0],he()},pe=ce=>{ce.key==="Shift"&&t(3,y=!0)},ie=ce=>{ce.key==="Shift"&&t(3,y=!1)},te=()=>{},se=()=>{t(3,y=!1),t(4,w=null)};return window.addEventListener("keydown",pe),window.addEventListener("keyup",ie),window.addEventListener("touchstart",ve),window.addEventListener("touchend",Te),window.addEventListener("focus",te),window.addEventListener("blur",se),()=>{window.removeEventListener("keydown",pe),window.removeEventListener("keyup",ie),window.removeEventListener("touchstart",ve),window.removeEventListener("touchend",Te),window.removeEventListener("focus",te),window.removeEventListener("blur",se)}});const I=async J=>{const oe=await Promise.all(J.map(async he=>{const ve=await sr(localStorage.token,he.id).catch(Te=>null);return ve&&(he.chat=ve.chat),he}));await Ht.set(oe)},T=async J=>{await Gt.set({...a,...J}),await Oa(localStorage.token,{ui:a}),location.href="/"},C=async J=>{await Pa(localStorage.token,J).catch(he=>(Je.error(he),null))&&(l===J&&(await Sl.set(""),await Ha(),ol("/")),await Ht.set(await Kt(localStorage.token)))};function R(J){c=J,Pl.set(c)}const W=async()=>{await Ht.set(await Kt(localStorage.token))};function L(J){S=J,t(6,S)}const K=()=>{C(E.id)},Y=()=>{qt.set(!r)},B=async()=>{t(4,w=null),await ol("/");const J=document.getElementById("new-chat-button");setTimeout(()=>{J==null||J.click(),f&&qt.set(!1)},0)},A=()=>{qt.set(!r)},O=()=>{t(4,w=null),Sl.set(""),f&&qt.set(!1)},U=()=>{T({saveChatHistory:!0})};function P(){b=this.value,t(0,b)}const G=()=>{I(i)},j=async()=>{await Ht.set(await Kt(localStorage.token))},Z=async J=>{let oe=await ar(localStorage.token,J.name);oe.length===0&&(await Wl.set(await $a(localStorage.token)),oe=await Kt(localStorage.token)),await Ht.set(oe)},X=J=>{t(4,w=J.id)},q=()=>{t(4,w=null)},F=(J,oe)=>{((oe==null?void 0:oe.detail)??"")==="shift"?C(J.id):(t(5,E=J),t(6,S=!0))},Q=()=>{t(7,V=!V)},re=J=>{J.detail==="archived-chat"&&Pl.set(!0)};function me(J){dt[J?"unshift":"push"](()=>{k=J,t(2,k)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(8,D=i.filter(J=>{if(b==="")return!0;{let oe=J.title.toLowerCase();const he=b.toLowerCase();let ve=!1;return J.chat&&J.chat.messages&&Array.isArray(J.chat.messages)&&(ve=J.chat.messages.some(Te=>Te.content&&Te.content.toLowerCase().includes(he))),oe.includes(he)||ve}}))},[b,i,k,y,w,E,S,V,D,a,r,c,f,m,p,g,_,I,T,C,R,W,L,K,Y,B,A,O,U,P,G,j,Z,X,q,F,Q,re,me]}class Zi extends it{constructor(e){super(),ct(this,e,zi,$i,ot,{},null,[-1,-1])}}function ga(s,e,t){const l=s.slice();return l[19]=e[t],l}function ba(s){let e,t=nt({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=wa(ga(s,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(u),this.h()},h(){o(e,"class","confetti-holder svelte-15ksp55"),nl(e,"rounded",s[9]),nl(e,"cone",s[10]),nl(e,"no-gravity",s[11]),nl(e,"reduced-motion",s[13])},m(a,r){z(a,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(a,r){if(r&37375){t=nt({length:a[6]});let i;for(i=0;i<t.length;i+=1){const c=ga(a,t,i);l[i]?l[i].p(c,r):(l[i]=wa(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}r&512&&nl(e,"rounded",a[9]),r&1024&&nl(e,"cone",a[10]),r&2048&&nl(e,"no-gravity",a[11]),r&8192&&nl(e,"reduced-motion",a[13])},d(a){a&&u(e),zt(l,a)}}}function wa(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),v(e).forEach(u),this.h()},h(){o(e,"class","confetti svelte-15ksp55"),ft(e,"--fall-distance",s[8]),ft(e,"--size",s[0]+"px"),ft(e,"--color",s[15]()),ft(e,"--skew",St(-45,45)+"deg,"+St(-45,45)+"deg"),ft(e,"--rotation-xyz",St(-10,10)+", "+St(-10,10)+", "+St(-10,10)),ft(e,"--rotation-deg",St(0,360)+"deg"),ft(e,"--translate-y-multiplier",St(s[2][0],s[2][1])),ft(e,"--translate-x-multiplier",St(s[1][0],s[1][1])),ft(e,"--scale",.1*St(2,10)),ft(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),ft(e,"--transition-delay",St(s[5][0],s[5][1])+"ms"),ft(e,"--transition-iteration-count",s[4]?"infinite":s[7]),ft(e,"--x-spread",1-s[12])},m(t,l){z(t,e,l)},p(t,l){l&256&&ft(e,"--fall-distance",t[8]),l&1&&ft(e,"--size",t[0]+"px"),l&4&&ft(e,"--translate-y-multiplier",St(t[2][0],t[2][1])),l&2&&ft(e,"--translate-x-multiplier",St(t[1][0],t[1][1])),l&24&&ft(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&ft(e,"--transition-delay",St(t[5][0],t[5][1])+"ms"),l&144&&ft(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&ft(e,"--x-spread",1-t[12])},d(t){t&&u(e)}}}function Ri(s){let e,t=!s[14]&&ba(s);return{c(){t&&t.c(),e=Bl()},l(l){t&&t.l(l),e=Bl()},m(l,a){t&&t.m(l,a),z(l,e,a)},p(l,[a]){l[14]?t&&(t.d(1),t=null):t?t.p(l,a):(t=ba(l),t.c(),t.m(e.parentNode,e))},i:Ze,o:Ze,d(l){l&&u(e),t&&t.d(l)}}}function St(s,e){return Math.random()*(e-s)+s}function Wi(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:i=2e3}=e,{infinite:c=!1}=e,{delay:f=[0,50]}=e,{colorRange:m=[0,360]}=e,{colorArray:p=[]}=e,{amount:g=50}=e,{iterationCount:_=1}=e,{fallDistance:k="100px"}=e,{rounded:b=!1}=e,{cone:y=!1}=e,{noGravity:w=!1}=e,{xSpread:E=.15}=e,{destroyOnComplete:S=!0}=e,{disableForReducedMotion:V=!1}=e,D=!1;jt(()=>{!S||c||_=="infinite"||setTimeout(()=>t(14,D=!0),(i+f[1])*_)});function I(){return p.length?p[Math.round(Math.random()*(p.length-1))]:`hsl(${Math.round(St(m[0],m[1]))}, 75%, 50%)`}return s.$$set=T=>{"size"in T&&t(0,l=T.size),"x"in T&&t(1,a=T.x),"y"in T&&t(2,r=T.y),"duration"in T&&t(3,i=T.duration),"infinite"in T&&t(4,c=T.infinite),"delay"in T&&t(5,f=T.delay),"colorRange"in T&&t(16,m=T.colorRange),"colorArray"in T&&t(17,p=T.colorArray),"amount"in T&&t(6,g=T.amount),"iterationCount"in T&&t(7,_=T.iterationCount),"fallDistance"in T&&t(8,k=T.fallDistance),"rounded"in T&&t(9,b=T.rounded),"cone"in T&&t(10,y=T.cone),"noGravity"in T&&t(11,w=T.noGravity),"xSpread"in T&&t(12,E=T.xSpread),"destroyOnComplete"in T&&t(18,S=T.destroyOnComplete),"disableForReducedMotion"in T&&t(13,V=T.disableForReducedMotion)},[l,a,r,i,c,f,g,_,k,b,y,w,E,V,D,I,m,p,S]}class Fi extends it{constructor(e){super(),ct(this,e,Wi,Ri,ot,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function ka(s,e,t){const l=s.slice();return l[9]=e[t],l}function ya(s,e,t){const l=s.slice();return l[12]=e[t],l}function Ea(s,e,t){const l=s.slice();return l[15]=e[t],l}function Ia(s){let e,t=nt(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=Va(ka(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Bl()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=Bl()},m(a,r){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(a,r);z(a,e,r)},p(a,r){if(r&2){t=nt(Object.keys(a[1]));let i;for(i=0;i<t.length;i+=1){const c=ka(a,t,i);l[i]?l[i].p(c,r):(l[i]=Va(c),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(a){a&&u(e),zt(l,a)}}}function Da(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,r,i,c=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),a=H(l),r=M(),i=d("div"),f=H(c),this.h()},l(m){e=h(m,"DIV",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var g=v(t);a=N(g,l),g.forEach(u),r=x(p),i=h(p,"DIV",{class:!0});var _=v(i);f=N(_,c),_.forEach(u),p.forEach(u),this.h()},h(){o(t,"class","font-semibold uppercase"),o(i,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(m,p){z(m,e,p),n(e,t),n(t,a),n(e,r),n(e,i),n(i,f)},p(m,p){p&2&&l!==(l=m[1][m[9]][m[12]][m[15]].title+"")&&$(a,l),p&2&&c!==(c=m[1][m[9]][m[12]][m[15]].content+"")&&$(f,c)},d(m){m&&u(e)}}}function Ta(s){let e,t,l=s[12]+"",a,r,i,c,f=nt(Object.keys(s[1][s[9]][s[12]])),m=[];for(let p=0;p<f.length;p+=1)m[p]=Da(Ea(s,f,p));return{c(){e=d("div"),t=d("div"),a=H(l),i=M(),c=d("div");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var _=v(t);a=N(_,l),_.forEach(u),i=x(g),c=h(g,"DIV",{class:!0});var k=v(c);for(let b=0;b<m.length;b+=1)m[b].l(k);k.forEach(u),g.forEach(u),this.h()},h(){o(t,"class",r="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(p,g){z(p,e,g),n(e,t),n(t,a),n(e,i),n(e,c);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(c,null)},p(p,g){if(g&2&&l!==(l=p[12]+"")&&$(a,l),g&2&&r!==(r="font-bold uppercase text-xs "+(p[12]==="added"?"text-white bg-blue-600":p[12]==="fixed"?"text-white bg-green-600":p[12]==="changed"?"text-white bg-yellow-600":p[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",r),g&2){f=nt(Object.keys(p[1][p[9]][p[12]]));let _;for(_=0;_<f.length;_+=1){const k=Ea(p,f,_);m[_]?m[_].p(k,g):(m[_]=Da(k),m[_].c(),m[_].m(c,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}},d(p){p&&u(e),zt(m,p)}}}function Va(s){let e,t,l,a=s[9]+"",r,i,c=s[1][s[9]].date+"",f,m,p,g,_,k=nt(Object.keys(s[1][s[9]]).filter(Ca)),b=[];for(let y=0;y<k.length;y+=1)b[y]=Ta(ya(s,k,y));return{c(){e=d("div"),t=d("div"),l=H("v"),r=H(a),i=H(" - "),f=H(c),m=M(),p=d("hr"),g=M();for(let y=0;y<b.length;y+=1)b[y].c();_=M(),this.h()},l(y){e=h(y,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var E=v(t);l=N(E,"v"),r=N(E,a),i=N(E," - "),f=N(E,c),E.forEach(u),m=x(w),p=h(w,"HR",{class:!0}),g=x(w);for(let S=0;S<b.length;S+=1)b[S].l(w);_=x(w),w.forEach(u),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(p,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(y,w){z(y,e,w),n(e,t),n(t,l),n(t,r),n(t,i),n(t,f),n(e,m),n(e,p),n(e,g);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(e,null);n(e,_)},p(y,w){if(w&2&&a!==(a=y[9]+"")&&$(r,a),w&2&&c!==(c=y[1][y[9]].date+"")&&$(f,c),w&2){k=nt(Object.keys(y[1][y[9]]).filter(Ca));let E;for(E=0;E<k.length;E+=1){const S=ya(y,k,E);b[E]?b[E].p(S,w):(b[E]=Ta(S),b[E].c(),b[E].m(e,_))}for(;E<b.length;E+=1)b[E].d(1);b.length=k.length}},d(y){y&&u(e),zt(b,y)}}}function Yi(s){let e,t,l,a=s[2].t("Whatâ€™s New in")+"",r,i,c,f,m,p,g,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',k,b,y,w=s[2].t("Release Notes")+"",E,S,V,D,I,T,C,R,W,L,K,Y,B,A,O,U=s[2].t("Okay, Let's Go!")+"",P,G,j,Z;m=new Fi({props:{x:[-1,-.25],y:[0,.5]}});let X=s[1]&&Ia(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=H(a),i=M(),c=H(s[3]),f=M(),we(m.$$.fragment),p=M(),g=d("button"),g.innerHTML=_,k=M(),b=d("div"),y=d("div"),E=H(w),S=M(),V=d("div"),D=M(),I=d("div"),T=H("v"),C=H(dl),R=M(),W=d("div"),L=d("div"),K=d("div"),X&&X.c(),Y=M(),B=d("div"),A=d("button"),O=d("span"),P=H(U),this.h()},l(q){e=h(q,"DIV",{class:!0});var F=v(e);t=h(F,"DIV",{class:!0});var Q=v(t);l=h(Q,"DIV",{class:!0});var re=v(l);r=N(re,a),i=x(re),c=N(re,s[3]),f=x(re),ke(m.$$.fragment,re),re.forEach(u),p=x(Q),g=h(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(g)!=="svelte-14wj4tl"&&(g.innerHTML=_),Q.forEach(u),k=x(F),b=h(F,"DIV",{class:!0});var me=v(b);y=h(me,"DIV",{class:!0});var J=v(y);E=N(J,w),J.forEach(u),S=x(me),V=h(me,"DIV",{class:!0}),v(V).forEach(u),D=x(me),I=h(me,"DIV",{class:!0});var oe=v(I);T=N(oe,"v"),C=N(oe,dl),oe.forEach(u),me.forEach(u),F.forEach(u),R=x(q),W=h(q,"DIV",{class:!0});var he=v(W);L=h(he,"DIV",{class:!0});var ve=v(L);K=h(ve,"DIV",{class:!0});var Te=v(K);X&&X.l(Te),Te.forEach(u),ve.forEach(u),Y=x(he),B=h(he,"DIV",{class:!0});var pe=v(B);A=h(pe,"BUTTON",{class:!0});var ie=v(A);O=h(ie,"SPAN",{class:!0});var te=v(O);P=N(te,U),te.forEach(u),ie.forEach(u),pe.forEach(u),he.forEach(u),this.h()},h(){o(l,"class","text-xl font-bold"),o(g,"class","self-center"),o(t,"class","flex justify-between items-start"),o(y,"class","text-sm dark:text-gray-200"),o(V,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(I,"class","text-sm dark:text-gray-200"),o(b,"class","flex items-center mt-1"),o(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),o(K,"class","mb-3"),o(L,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),o(O,"class","relative"),o(A,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(B,"class","flex justify-end pt-3 text-sm font-medium"),o(W,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(q,F){z(q,e,F),n(e,t),n(t,l),n(l,r),n(l,i),n(l,c),n(l,f),ye(m,l,null),n(t,p),n(t,g),n(e,k),n(e,b),n(b,y),n(y,E),n(b,S),n(b,V),n(b,D),n(b,I),n(I,T),n(I,C),z(q,R,F),z(q,W,F),n(W,L),n(L,K),X&&X.m(K,null),n(W,Y),n(W,B),n(B,A),n(A,O),n(O,P),G=!0,j||(Z=[ee(g,"click",s[6]),ee(A,"click",s[7])],j=!0)},p(q,F){(!G||F&4)&&a!==(a=q[2].t("Whatâ€™s New in")+"")&&$(r,a),(!G||F&8)&&$(c,q[3]),(!G||F&4)&&w!==(w=q[2].t("Release Notes")+"")&&$(E,w),q[1]?X?X.p(q,F):(X=Ia(q),X.c(),X.m(K,null)):X&&(X.d(1),X=null),(!G||F&4)&&U!==(U=q[2].t("Okay, Let's Go!")+"")&&$(P,U)},i(q){G||(ae(m.$$.fragment,q),G=!0)},o(q){ne(m.$$.fragment,q),G=!1},d(q){q&&(u(e),u(R),u(W)),Ee(m),X&&X.d(),j=!1,st(Z)}}}function qi(s){let e,t,l;function a(i){s[8](i)}let r={$$slots:{default:[Yi]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new vl({props:r}),dt.push(()=>It(e,"show",a)),{c(){we(e.$$.fragment)},l(i){ke(e.$$.fragment,i)},m(i,c){ye(e,i,c),l=!0},p(i,[c]){const f={};c&262175&&(f.$$scope={dirty:c,ctx:i}),!t&&c&1&&(t=!0,f.show=i[0],Et(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){Ee(e,i)}}}const Ca=s=>s!=="date";function Ki(s,e,t){let l,a,r;Be(s,ja,_=>t(3,a=_)),Be(s,Gl,_=>t(4,r=_));const i=kt("i18n");Be(s,i,_=>t(2,l=_));let{show:c=!1}=e,f=null;jt(async()=>{const _=await Ka();t(1,f=_)});const m=()=>{localStorage.version=r.version,t(0,c=!1)},p=()=>{localStorage.version=r.version,t(0,c=!1)};function g(_){c=_,t(0,c)}return s.$$set=_=>{"show"in _&&t(0,c=_.show)},[c,f,l,a,r,i,m,p,g]}class Gi extends it{constructor(e){super(),ct(this,e,Ki,qi,ot,{show:0})}}function Ma(s){let e,t,l=s[1].t("Admin")+"",a,r,i=s[0].name+"",c,f,m=s[0].email+"",p,g;return{c(){e=d("div"),t=d("div"),a=H(l),r=H(": "),c=H(i),f=H(" ("),p=H(m),g=H(")"),this.h()},l(_){e=h(_,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{});var b=v(t);a=N(b,l),r=N(b,": "),c=N(b,i),f=N(b," ("),p=N(b,m),g=N(b,")"),b.forEach(u),k.forEach(u),this.h()},h(){o(e,"class","mt-4 text-sm font-medium text-center")},m(_,k){z(_,e,k),n(e,t),n(t,a),n(t,r),n(t,c),n(t,f),n(t,p),n(t,g)},p(_,k){k&2&&l!==(l=_[1].t("Admin")+"")&&$(a,l),k&1&&i!==(i=_[0].name+"")&&$(c,i),k&1&&m!==(m=_[0].email+"")&&$(p,m)},d(_){_&&u(e)}}}function Xi(s){let e,t,l,a,r,i=s[1].t("Account Activation Pending")+"",c,f,m,p=s[1].t("Contact Admin for WebUI Access")+"",g,_,k,b=s[1].t("Your account status is currently pending activation.")+"",y,w,E,S=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",V,D,I,T,C,R=s[1].t("Check Again")+"",W,L,K,Y=s[1].t("Sign Out")+"",B,A,O,U=s[0]&&Ma(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),c=H(i),f=d("br"),m=M(),g=H(p),_=M(),k=d("div"),y=H(b),w=d("br"),E=M(),V=H(S),D=M(),U&&U.c(),I=M(),T=d("div"),C=d("button"),W=H(R),L=M(),K=d("button"),B=H(Y),this.h()},l(P){e=h(P,"DIV",{class:!0});var G=v(e);t=h(G,"DIV",{class:!0});var j=v(t);l=h(j,"DIV",{class:!0});var Z=v(l);a=h(Z,"DIV",{class:!0});var X=v(a);r=h(X,"DIV",{class:!0});var q=v(r);c=N(q,i),f=h(q,"BR",{}),m=x(q),g=N(q,p),q.forEach(u),_=x(X),k=h(X,"DIV",{class:!0});var F=v(k);y=N(F,b),w=h(F,"BR",{}),E=x(F),V=N(F,S),F.forEach(u),D=x(X),U&&U.l(X),I=x(X),T=h(X,"DIV",{class:!0});var Q=v(T);C=h(Q,"BUTTON",{class:!0});var re=v(C);W=N(re,R),re.forEach(u),L=x(Q),K=h(Q,"BUTTON",{class:!0});var me=v(K);B=N(me,Y),me.forEach(u),Q.forEach(u),X.forEach(u),Z.forEach(u),j.forEach(u),G.forEach(u),this.h()},h(){o(r,"class","text-center dark:text-white text-2xl font-medium z-50"),o(k,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(C,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),o(K,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(T,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-10 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-[999]")},m(P,G){z(P,e,G),n(e,t),n(t,l),n(l,a),n(a,r),n(r,c),n(r,f),n(r,m),n(r,g),n(a,_),n(a,k),n(k,y),n(k,w),n(k,E),n(k,V),n(a,D),U&&U.m(a,null),n(a,I),n(a,T),n(T,C),n(C,W),n(T,L),n(T,K),n(K,B),A||(O=[ee(C,"click",s[3]),ee(K,"click",s[4])],A=!0)},p(P,[G]){G&2&&i!==(i=P[1].t("Account Activation Pending")+"")&&$(c,i),G&2&&p!==(p=P[1].t("Contact Admin for WebUI Access")+"")&&$(g,p),G&2&&b!==(b=P[1].t("Your account status is currently pending activation.")+"")&&$(y,b),G&2&&S!==(S=P[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&$(V,S),P[0]?U?U.p(P,G):(U=Ma(P),U.c(),U.m(a,I)):U&&(U.d(1),U=null),G&2&&R!==(R=P[1].t("Check Again")+"")&&$(W,R),G&2&&Y!==(Y=P[1].t("Sign Out")+"")&&$(B,Y)},i:Ze,o:Ze,d(P){P&&u(e),U&&U.d(),A=!1,st(O)}}}function Ji(s,e,t){let l;const a=kt("i18n");Be(s,a,f=>t(1,l=f));let r=null;return jt(async()=>{t(0,r=await kr(localStorage.token).catch(f=>(console.error(f),null)))}),[r,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Qi extends it{constructor(e){super(),ct(this,e,Ji,Xi,ot,{})}}function xa(s){let e,t,l,a,r,i,c;const f=[tc,ec],m=[];function p(k,b){return b&8&&(e=null),e==null&&(e=!["user","admin"].includes(k[3].role)),e?0:k[2].length>0?1:-1}~(t=p(s,-1))&&(l=m[t]=f[t](s)),r=new Zi({});const g=s[10].default,_=Aa(g,s,s[9],null);return{c(){l&&l.c(),a=M(),we(r.$$.fragment),i=M(),_&&_.c()},l(k){l&&l.l(k),a=x(k),ke(r.$$.fragment,k),i=x(k),_&&_.l(k)},m(k,b){~t&&m[t].m(k,b),z(k,a,b),ye(r,k,b),z(k,i,b),_&&_.m(k,b),c=!0},p(k,b){let y=t;t=p(k,b),t===y?~t&&m[t].p(k,b):(l&&(Lt(),ne(m[y],1,1,()=>{m[y]=null}),Bt()),~t?(l=m[t],l?l.p(k,b):(l=m[t]=f[t](k),l.c()),ae(l,1),l.m(a.parentNode,a)):l=null),_&&_.p&&(!c||b&512)&&Sa(_,g,k,k[9],c?Ba(g,k[9],b,null):La(k[9]),null)},i(k){c||(ae(l),ae(r.$$.fragment,k),ae(_,k),c=!0)},o(k){ne(l),ne(r.$$.fragment,k),ne(_,k),c=!1},d(k){k&&(u(a),u(i)),~t&&m[t].d(k),Ee(r,k),_&&_.d(k)}}}function ec(s){let e,t,l,a,r,i="Important Update<br/> Action Required for Chat Log Storage",c,f,m=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",p,g,_,k=s[6].t("Settings")+"",b,y,w=s[6].t("Chats")+"",E,S,V=s[6].t("Import Chats")+"",D,I,T=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",C,R,W,L,K="Download & Delete",Y,B,A=s[6].t("Close")+"",O,U,P;return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),r.innerHTML=i,c=M(),f=d("div"),p=H(m),g=M(),_=d("span"),b=H(k),y=H(" > "),E=H(w),S=H(" > "),D=H(V),I=H(". "),C=H(T),R=M(),W=d("div"),L=d("button"),L.textContent=K,Y=M(),B=d("button"),O=H(A),this.h()},l(G){e=h(G,"DIV",{class:!0});var j=v(e);t=h(j,"DIV",{class:!0});var Z=v(t);l=h(Z,"DIV",{class:!0});var X=v(l);a=h(X,"DIV",{class:!0});var q=v(a);r=h(q,"DIV",{class:!0,"data-svelte-h":!0}),Ne(r)!=="svelte-mnqwc6"&&(r.innerHTML=i),c=x(q),f=h(q,"DIV",{class:!0});var F=v(f);p=N(F,m),g=x(F),_=h(F,"SPAN",{class:!0});var Q=v(_);b=N(Q,k),y=N(Q," > "),E=N(Q,w),S=N(Q," > "),D=N(Q,V),Q.forEach(u),I=N(F,". "),C=N(F,T),F.forEach(u),R=x(q),W=h(q,"DIV",{class:!0});var re=v(W);L=h(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(L)!=="svelte-1ia8i9q"&&(L.textContent=K),Y=x(re),B=h(re,"BUTTON",{class:!0});var me=v(B);O=N(me,A),me.forEach(u),re.forEach(u),q.forEach(u),X.forEach(u),Z.forEach(u),j.forEach(u),this.h()},h(){o(r,"class","text-center dark:text-white text-2xl font-medium z-50"),o(_,"class","font-semibold dark:text-white"),o(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(L,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(B,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(W,"class","mt-6 mx-auto relative group w-fit"),o(a,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(G,j){z(G,e,j),n(e,t),n(t,l),n(l,a),n(a,r),n(a,c),n(a,f),n(f,p),n(f,g),n(f,_),n(_,b),n(_,y),n(_,E),n(_,S),n(_,D),n(f,I),n(f,C),n(a,R),n(a,W),n(W,L),n(W,Y),n(W,B),n(B,O),U||(P=[ee(L,"click",s[13]),ee(B,"click",s[14])],U=!0)},p(G,j){j&64&&m!==(m=G[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&$(p,m),j&64&&k!==(k=G[6].t("Settings")+"")&&$(b,k),j&64&&w!==(w=G[6].t("Chats")+"")&&$(E,w),j&64&&V!==(V=G[6].t("Import Chats")+"")&&$(D,V),j&64&&T!==(T=G[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&$(C,T),j&64&&A!==(A=G[6].t("Close")+"")&&$(O,A)},i:Ze,o:Ze,d(G){G&&u(e),U=!1,st(P)}}}function tc(s){let e,t;return e=new Qi({}),{c(){we(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,a){ye(e,l,a),t=!0},p:Ze,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function lc(s){let e,t,l,a,r,i,c,f,m;function p(y){s[11](y)}let g={};s[4]!==void 0&&(g.show=s[4]),e=new ei({props:g}),dt.push(()=>It(e,"show",p));function _(y){s[12](y)}let k={};s[5]!==void 0&&(k.show=s[5]),a=new Gi({props:k}),dt.push(()=>It(a,"show",_));let b=s[0]&&xa(s);return{c(){we(e.$$.fragment),l=M(),we(a.$$.fragment),i=M(),c=d("div"),f=d("div"),b&&b.c(),this.h()},l(y){ke(e.$$.fragment,y),l=x(y),ke(a.$$.fragment,y),i=x(y),c=h(y,"DIV",{class:!0});var w=v(c);f=h(w,"DIV",{class:!0});var E=v(f);b&&b.l(E),E.forEach(u),w.forEach(u),this.h()},h(){o(f,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),o(c,"class","app relative")},m(y,w){ye(e,y,w),z(y,l,w),ye(a,y,w),z(y,i,w),z(y,c,w),n(c,f),b&&b.m(f,null),m=!0},p(y,[w]){const E={};!t&&w&16&&(t=!0,E.show=y[4],Et(()=>t=!1)),e.$set(E);const S={};!r&&w&32&&(r=!0,S.show=y[5],Et(()=>r=!1)),a.$set(S),y[0]?b?(b.p(y,w),w&1&&ae(b,1)):(b=xa(y),b.c(),ae(b,1),b.m(f,null)):b&&(Lt(),ne(b,1,1,()=>{b=null}),Bt())},i(y){m||(ae(e.$$.fragment,y),ae(a.$$.fragment,y),ae(b),m=!0)},o(y){ne(e.$$.fragment,y),ne(a.$$.fragment,y),ne(b),m=!1},d(y){y&&(u(l),u(i),u(c)),Ee(e,y),Ee(a,y),b&&b.d()}}}function sc(s,e,t){let l,a,r,i,c;Be(s,Gl,D=>t(15,l=D)),Be(s,fl,D=>t(3,a=D)),Be(s,$l,D=>t(4,r=D)),Be(s,Al,D=>t(5,i=D));let{$$slots:f={},$$scope:m}=e;const{saveAs:p}=ql,g=kt("i18n");Be(s,g,D=>t(6,c=D));let _=!1,k=null,b=[];const y=async()=>Na(localStorage.token);jt(async()=>{if(a===void 0)await ol("/auth");else if(["user","admin"].includes(a.role)){try{if(t(1,k=await Jr("Chats",1)),k){const I=await k.getAllFromIndex("chats","timestamp");t(2,b=I.map((T,C)=>I[I.length-1-C])),b.length===0&&await Hs("Chats")}console.log(k)}catch{}const D=await rr(localStorage.token).catch(I=>(console.error(I),null));D?await Gt.set(D.ui):await Gt.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Promise.all([(async()=>{Kl.set(await y())})(),(async()=>{hr.set(await nr(localStorage.token))})(),(async()=>{vr.set(await or(localStorage.token))})(),(async()=>{mr.set(await ir(localStorage.token))})(),(async()=>{_r.set(await cr(localStorage.token))})(),(async()=>{Wl.set(await $a(localStorage.token))})()]),document.addEventListener("keydown",function(I){var R,W,L,K,Y;const T=I.ctrlKey||I.metaKey,C=I.shiftKey;if(T&&C&&I.key.toLowerCase()==="o"&&(I.preventDefault(),console.log("newChat"),(R=document.getElementById("sidebar-new-chat-button"))==null||R.click()),C&&I.key==="Escape"&&(I.preventDefault(),console.log("focusInput"),(W=document.getElementById("chat-textarea"))==null||W.focus()),T&&C&&I.key===";"){I.preventDefault(),console.log("copyLastCodeBlock");const B=[...document.getElementsByClassName("copy-code-button")].at(-1);B==null||B.click()}if(T&&C&&I.key.toLowerCase()==="c"){I.preventDefault(),console.log("copyLastResponse");const B=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(B),B==null||B.click()}T&&C&&I.key.toLowerCase()==="s"&&(I.preventDefault(),console.log("toggleSidebar"),(L=document.getElementById("sidebar-toggle-button"))==null||L.click()),T&&C&&I.key==="Backspace"&&(I.preventDefault(),console.log("deleteChat"),(K=document.getElementById("delete-chat-button"))==null||K.click()),T&&I.key==="."&&(I.preventDefault(),console.log("openSettings"),$l.set(!r)),T&&I.key==="/"&&(I.preventDefault(),console.log("showShortcuts"),(Y=document.getElementById("show-shortcuts-button"))==null||Y.click())}),a.role==="admin"&&Al.set(localStorage.version!==l.version),await Ha()}t(0,_=!0)});function w(D){r=D,$l.set(r)}function E(D){i=D,Al.set(i)}const S=async()=>{let D=new Blob([JSON.stringify(b)],{type:"application/json"});p(D,`chat-export-${Date.now()}.json`);const I=k.transaction("chats","readwrite");await Promise.all([I.store.clear(),I.done]),await Hs("Chats"),t(2,b=[])},V=async()=>{t(2,b=[])};return s.$$set=D=>{"$$scope"in D&&t(9,m=D.$$scope)},[_,k,b,a,r,i,c,p,g,m,f,w,E,S,V]}class Bc extends it{constructor(e){super(),ct(this,e,sc,lc,ot,{})}}export{Bc as component};
//# sourceMappingURL=2.778675d9.js.map
